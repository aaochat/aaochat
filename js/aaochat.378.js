/*! For license information please see aaochat.378.js.LICENSE.txt */
(self.webpackChunkaaochat=self.webpackChunkaaochat||[]).push([[378],{2200:(t,e,n)=>{"use strict";var r=n(7888),o=void 0,a=[];r.subscribe("csrf-token-update",(function(t){o=t.token,a.forEach((function(e){try{e(t.token)}catch(t){console.error("error updating CSRF token observer",t)}}))}));var s=function(t,e){return t?t.getAttribute(e):null},i=void 0;e.getCurrentUser=function(){if(void 0!==i)return i;var t=null===document||void 0===document?void 0:document.getElementsByTagName("head")[0];if(!t)return null;var e=s(t,"data-user");return i=null===e?null:{uid:e,displayName:s(t,"data-user-displayname"),isAdmin:"undefined"!=typeof OC&&OC.isUserAdmin()}},e.getRequestToken=function(){if(void 0===o){var t=null===document||void 0===document?void 0:document.getElementsByTagName("head")[0];o=t?t.getAttribute("data-requesttoken"):null}return o},e.onRequestTokenUpdate=function(t){a.push(t)}},1356:(t,e,n)=>{"use strict";n(9070),n(2165),n(6992),n(8783),n(3948),Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleLogger=void 0,e.buildConsoleLogger=function(t){return new i(t)},n(9601),n(6649),n(6078),n(2526),n(1817),n(1539),n(9653);var r=n(6);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===o(e)?e:String(e)}var i=function(){function t(e){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=void 0,(r=s(r="context"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.context=e}var e,n;return e=t,(n=[{key:"formatMessage",value:function(t,e,n){var o="["+r.LogLevel[e].toUpperCase()+"]";return n&&n.app&&(o+=" "+n.app+": "),o+t}},{key:"log",value:function(t,e,n){var o;if(!(t<(null===(o=this.context)||void 0===o?void 0:o.level)))switch(t){case r.LogLevel.Debug:console.debug(this.formatMessage(e,r.LogLevel.Debug,n),n);break;case r.LogLevel.Info:console.info(this.formatMessage(e,r.LogLevel.Info,n),n);break;case r.LogLevel.Warn:console.warn(this.formatMessage(e,r.LogLevel.Warn,n),n);break;case r.LogLevel.Error:console.error(this.formatMessage(e,r.LogLevel.Error,n),n);break;case r.LogLevel.Fatal:default:console.error(this.formatMessage(e,r.LogLevel.Fatal,n),n)}}},{key:"debug",value:function(t,e){this.log(r.LogLevel.Debug,t,Object.assign({},this.context,e))}},{key:"info",value:function(t,e){this.log(r.LogLevel.Info,t,Object.assign({},this.context,e))}},{key:"warn",value:function(t,e){this.log(r.LogLevel.Warn,t,Object.assign({},this.context,e))}},{key:"error",value:function(t,e){this.log(r.LogLevel.Error,t,Object.assign({},this.context,e))}},{key:"fatal",value:function(t,e){this.log(r.LogLevel.Fatal,t,Object.assign({},this.context,e))}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.ConsoleLogger=i},5058:(t,e,n)=>{"use strict";n(9070),n(2165),n(6992),n(8783),n(3948),Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerBuilder=void 0,n(6649),n(6078),n(2526),n(1817),n(1539),n(9653);var r=n(2200),o=n(6);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function i(t,e,n){return(e=c(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"context",void 0),i(this,"factory",void 0),this.context={},this.factory=e}var e,n;return e=t,(n=[{key:"setApp",value:function(t){return this.context.app=t,this}},{key:"setLogLevel",value:function(t){return this.context.level=t,this}},{key:"setUid",value:function(t){return this.context.uid=t,this}},{key:"detectUser",value:function(){var t=(0,r.getCurrentUser)();return null!==t&&(this.context.uid=t.uid),this}},{key:"detectLogLevel",value:function(){var t=this;return function e(){var n,r,a;"complete"===document.readyState||"interactive"===document.readyState&&void 0!==window.OC?(t.context.level=void 0!==(null===(n=window.OC)||void 0===n||null===(r=n.config)||void 0===r?void 0:r.loglevel)?window.OC.config.loglevel:o.LogLevel.Warn,null!==(a=window.OC)&&void 0!==a&&a.debug&&(t.context.level=o.LogLevel.Debug),document.removeEventListener("readystatechange",e)):document.addEventListener("readystatechange",e)}(),this}},{key:"build",value:function(){return void 0===this.context.level&&this.detectLogLevel(),this.factory(this.context)}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.LoggerBuilder=l},6:(t,e,n)=>{"use strict";var r;n(9070),Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevel=void 0,e.LogLevel=r,function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Fatal=4]="Fatal"}(r||(e.LogLevel=r={}))},7499:(t,e,n)=>{"use strict";n(9070),e.IY=function(){return new o.LoggerBuilder(r.buildConsoleLogger)};var r=n(1356),o=n(5058);n(6)},3455:t=>{var e;self,e=()=>(()=>{var t={6613:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(7537),o=n.n(r),a=n(3645),s=n.n(a)()(o());s.push([t.id,".material-design-icon[data-v-24368316]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}.empty-content[data-v-24368316]{display:flex;align-items:center;flex-direction:column;margin-top:20vh}.modal-wrapper .empty-content[data-v-24368316]{margin-top:5vh;margin-bottom:5vh}.empty-content__icon[data-v-24368316]{display:flex;align-items:center;justify-content:center;width:64px;height:64px;margin:0 auto 15px;opacity:.4;background-repeat:no-repeat;background-position:center;background-size:64px}.empty-content__icon[data-v-24368316] svg{width:64px;height:64px}.empty-content__name[data-v-24368316]{margin-bottom:10px;text-align:center}.empty-content__action[data-v-24368316]{margin-top:8px}.modal-wrapper .empty-content__action[data-v-24368316]{margin-top:20px;display:flex}","",{version:3,sources:["webpack://./src/assets/material-icons.css","webpack://./src/components/NcEmptyContent/NcEmptyContent.vue"],names:[],mappings:"AAGA,uCACC,YAAA,CACA,iBAAA,CACA,mBAAA,CACA,kBAAA,CACA,sBAAA,CCND,gCACC,YAAA,CACA,kBAAA,CACA,qBAAA,CACA,eAAA,CAEA,+CACC,cAAA,CACA,iBAAA,CAGD,sCACC,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CACA,UAAA,CACA,2BAAA,CACA,0BAAA,CACA,oBAAA,CAEA,0CACC,UAAA,CACA,WAAA,CAIF,sCACC,kBAAA,CACA,iBAAA,CAGD,wCACC,cAAA,CAEA,uDACC,eAAA,CACA,YAAA",sourcesContent:["/*\n* Ensure proper alignment of the vue material icons\n*/\n.material-design-icon {\n\tdisplay: flex;\n\talign-self: center;\n\tjustify-self: center;\n\talign-items: center;\n\tjustify-content: center;\n}\n","@use 'sass:math'; $scope_version:\"f7c85e6\"; @import 'variables'; @import 'material-icons';\n\n.empty-content {\n\tdisplay: flex;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin-top: 20vh;\n\n\t.modal-wrapper & {\n\t\tmargin-top: 5vh;\n\t\tmargin-bottom: 5vh;\n\t}\n\n\t&__icon {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 64px;\n\t\theight: 64px;\n\t\tmargin: 0 auto 15px;\n\t\topacity: .4;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: center;\n\t\tbackground-size: 64px;\n\n\t\t:deep(svg) {\n\t\t\twidth: 64px;\n\t\t\theight: 64px;\n\t\t}\n\t}\n\n\t&__name {\n\t\tmargin-bottom: 10px;\n\t\ttext-align: center;\n\t}\n\n\t&__action {\n\t\tmargin-top: 8px;\n\n\t\t.modal-wrapper & {\n\t\t\tmargin-top: 20px;\n\t\t\tdisplay: flex;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const i=s},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(s[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&s[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},7537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},3379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},s=[],i=0;i<t.length;i++){var c=t[i],l=r.base?c[0]+r.base:c[0],u=a[l]||0,p="".concat(l," ").concat(u);a[l]=u+1;var h=n(p),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)e[h].references++,e[h].updater(d);else{var f=o(d,r);r.byIndex=i,e.splice(i,0,{identifier:p,updater:f,references:1})}s.push(p)}return s}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var a=r(t=t||[],o=o||{});return function(t){t=t||[];for(var s=0;s<a.length;s++){var i=n(a[s]);e[i].references--}for(var c=r(t,o),l=0;l<a.length;l++){var u=n(a[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}a=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},9258:()=>{},1900:(t,e,n)=>{"use strict";function r(t,e,n,r,o,a,s,i){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):o&&(c=i?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:l}}n.d(e,{Z:()=>r})}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0;var r={};return(()=>{"use strict";n.r(r),n.d(r,{default:()=>C});const t={name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},computed:{hasName(){return""!==this.name},hasDescription(){var t;return""!==this.description||(null===(t=this.$slots.description)||void 0===t?void 0:t[0])}}};var e=n(3379),o=n.n(e),a=n(7795),s=n.n(a),i=n(569),c=n.n(i),l=n(3565),u=n.n(l),p=n(9216),h=n.n(p),d=n(4589),f=n.n(d),g=n(6613),m={};m.styleTagTransform=f(),m.setAttributes=u(),m.insert=c().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=h(),o()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals;var A=n(1900),y=n(9258),v=n.n(y),b=(0,A.Z)(t,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"empty-content",attrs:{role:"note"}},[t.$slots.icon?e("div",{staticClass:"empty-content__icon",attrs:{"aria-hidden":"true"}},[t._t("icon")],2):t._e(),t._v(" "),t._t("name",(function(){return[t.hasName?e("h2",{staticClass:"empty-content__name"},[t._v("\n\t\t\t"+t._s(t.name)+"\n\t\t")]):t._e()]})),t._v(" "),t.hasDescription?e("p",[t._t("description",(function(){return[t._v("\n\t\t\t"+t._s(t.description)+"\n\t\t")]}))],2):t._e(),t._v(" "),t.$slots.action?e("div",{staticClass:"empty-content__action"},[t._t("action")],2):t._e()],2)}),[],!1,null,"24368316",null);"function"==typeof v()&&v()(b);const C=b.exports})(),r})(),t.exports=e()},6906:t=>{function e(){}t.exports=function(t,n,r){var o=!1;return r=r||e,a.count=t,0===t?n():a;function a(t,e){if(a.count<=0)throw new Error("after called too many times");--a.count,t?(o=!0,n(t),n=r):0!==a.count||o||n(null,e)}}},9718:t=>{t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),a=new Uint8Array(n-e),s=e,i=0;s<n;s++,i++)a[i]=o[s];return a.buffer}},9398:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===r(e)?e:String(e)}var s=n(6809),i=function(){function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=void 0,(n=a(n="socket"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}var e,n;return e=t,(n=[{key:"setupSocketConnection",value:function(t){var e=this;return this.socket=s(t),this.socket.on("connect",(function(){console.log("socket connected"),e.socket.emit("user:connect",{auth_key:localStorage.getItem("ngStorage-AuthKey").replace(/"/g,"")})})),this.socket}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=new i},3010:t=>{function e(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=e,e.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},e.prototype.reset=function(){this.attempts=0},e.prototype.setMin=function(t){this.ms=t},e.prototype.setMax=function(t){this.max=t},e.prototype.setJitter=function(t){this.jitter=t}},3704:(t,e)=>{!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<64;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),o=r.length,a="";for(n=0;n<o;n+=3)a+=t[r[n]>>2],a+=t[(3&r[n])<<4|r[n+1]>>4],a+=t[(15&r[n+1])<<2|r[n+2]>>6],a+=t[63&r[n+2]];return o%3==2?a=a.substring(0,a.length-1)+"=":o%3==1&&(a=a.substring(0,a.length-2)+"=="),a},e.decode=function(t){var e,r,o,a,s,i=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(i--,"="===t[t.length-2]&&i--);var u=new ArrayBuffer(i),p=new Uint8Array(u);for(e=0;e<c;e+=4)r=n[t.charCodeAt(e)],o=n[t.charCodeAt(e+1)],a=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],p[l++]=r<<2|o>>4,p[l++]=(15&o)<<4|a>>2,p[l++]=(3&a)<<6|63&s;return u}}()},5548:t=>{var e=void 0!==e?e:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,n=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),r=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=e&&e.prototype.append&&e.prototype.getBlob;function a(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t}))}function s(t,n){n=n||{};var r=new e;return a(t).forEach((function(t){r.append(t)})),n.type?r.getBlob(n.type):r.getBlob()}function i(t,e){return new Blob(a(t),e||{})}"undefined"!=typeof Blob&&(s.prototype=Blob.prototype,i.prototype=Blob.prototype),t.exports=n?r?Blob:i:o?s:void 0},6077:t=>{var e=[].slice;t.exports=function(t,n){if("string"==typeof n&&(n=t[n]),"function"!=typeof n)throw new Error("bind() requires a function");var r=e.call(arguments,2);return function(){return n.apply(t,r.concat(e.call(arguments)))}}},8767:t=>{function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}},3861:t=>{t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},7944:(t,e,n)=>{var r=n(614),o=String,a=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},1223:(t,e,n)=>{var r=n(5112),o=n(30),a=n(3070).f,s=r("unscopables"),i=Array.prototype;null==i[s]&&a(i,s,{configurable:!0,value:o(null)}),t.exports=function(t){i[s][t]=!0}},2092:(t,e,n)=>{var r=n(9974),o=n(1702),a=n(8361),s=n(7908),i=n(6244),c=n(5417),l=o([].push),u=function(t){var e=1==t,n=2==t,o=3==t,u=4==t,p=6==t,h=7==t,d=5==t||p;return function(f,g,m,A){for(var y,v,b=s(f),C=a(b),x=r(g,m),w=i(C),E=0,S=A||c,k=e?S(f,w):n||h?S(f,0):void 0;w>E;E++)if((d||E in C)&&(v=x(y=C[E],E,b),t))if(e)k[E]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return E;case 2:l(k,y)}else switch(t){case 4:return!1;case 7:l(k,y)}return p?-1:o||u?u:k}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},1589:(t,e,n)=>{var r=n(1400),o=n(6244),a=n(6135),s=Array,i=Math.max;t.exports=function(t,e,n){for(var c=o(t),l=r(e,c),u=r(void 0===n?c:n,c),p=s(i(u-l,0)),h=0;l<u;l++,h++)a(p,h,t[l]);return p.length=h,p}},206:(t,e,n)=>{var r=n(1702);t.exports=r([].slice)},7475:(t,e,n)=>{var r=n(3157),o=n(4411),a=n(111),s=n(5112)("species"),i=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(o(e)&&(e===i||r(e.prototype))||a(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?i:e}},5417:(t,e,n)=>{var r=n(7475);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},8544:(t,e,n)=>{var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},6178:t=>{t.exports=function(t,e){return{value:t,done:e}}},6135:(t,e,n)=>{"use strict";var r=n(4948),o=n(3070),a=n(9114);t.exports=function(t,e,n){var s=r(e);s in t?o.f(t,s,a(0,n)):t[s]=n}},8709:(t,e,n)=>{"use strict";var r=n(9670),o=n(2140),a=TypeError;t.exports=function(t){if(r(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw a("Incorrect hint");return o(this,t)}},7045:(t,e,n)=>{var r=n(6339),o=n(3070);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),o.f(t,e,n)}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(t,e,n)=>{var r=n(317)("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},9974:(t,e,n)=>{var r=n(1470),o=n(9662),a=n(4374),s=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:a?s(t,e):function(){return t.apply(e,arguments)}}},5668:(t,e,n)=>{var r=n(1702),o=n(9662);t.exports=function(t,e,n){try{return r(o(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},8044:(t,e,n)=>{var r=n(1702),o=n(3157),a=n(614),s=n(4326),i=n(1340),c=r([].push);t.exports=function(t){if(a(t))return t;if(o(t)){for(var e=t.length,n=[],r=0;r<e;r++){var l=t[r];"string"==typeof l?c(n,l):"number"!=typeof l&&"Number"!=s(l)&&"String"!=s(l)||c(n,i(l))}var u=n.length,p=!0;return function(t,e){if(p)return p=!1,e;if(o(this))return e;for(var r=0;r<u;r++)if(n[r]===t)return e}}}},9587:(t,e,n)=>{var r=n(614),o=n(111),a=n(7674);t.exports=function(t,e,n){var s,i;return a&&r(s=e.constructor)&&s!==n&&o(i=s.prototype)&&i!==n.prototype&&a(t,i),t}},3157:(t,e,n)=>{var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4411:(t,e,n)=>{var r=n(1702),o=n(7293),a=n(614),s=n(648),i=n(5005),c=n(2788),l=function(){},u=[],p=i("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),f=!h.exec(l),g=function(t){if(!a(t))return!1;try{return p(l,u,t),!0}catch(t){return!1}},m=function(t){if(!a(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!d(h,c(t))}catch(t){return!0}};m.sham=!0,t.exports=!p||o((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?m:g},3061:(t,e,n)=>{"use strict";var r=n(3383).IteratorPrototype,o=n(30),a=n(9114),s=n(8003),i=n(7497),c=function(){return this};t.exports=function(t,e,n,l){var u=e+" Iterator";return t.prototype=o(r,{next:a(+!l,n)}),s(t,u,!1,!0),i[u]=c,t}},1656:(t,e,n)=>{"use strict";var r=n(2109),o=n(6916),a=n(1913),s=n(6530),i=n(614),c=n(3061),l=n(9518),u=n(7674),p=n(8003),h=n(8880),d=n(8052),f=n(5112),g=n(7497),m=n(3383),A=s.PROPER,y=s.CONFIGURABLE,v=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,C=f("iterator"),x="keys",w="values",E="entries",S=function(){return this};t.exports=function(t,e,n,s,f,m,k){c(n,e,s);var L,R,O,M=function(t){if(t===f&&D)return D;if(!b&&t in I)return I[t];switch(t){case x:case w:case E:return function(){return new n(this,t)}}return function(){return new n(this)}},T=e+" Iterator",_=!1,I=t.prototype,N=I[C]||I["@@iterator"]||f&&I[f],D=!b&&N||M(f),B="Array"==e&&I.entries||N;if(B&&(L=l(B.call(new t)))!==Object.prototype&&L.next&&(a||l(L)===v||(u?u(L,v):i(L[C])||d(L,C,S)),p(L,T,!0,!0),a&&(g[T]=S)),A&&f==w&&N&&N.name!==w&&(!a&&y?h(I,"name",w):(_=!0,D=function(){return o(N,this)})),f)if(R={values:M(w),keys:m?D:M(x),entries:M(E)},k)for(O in R)(b||_||!(O in I))&&d(I,O,R[O]);else r({target:e,proto:!0,forced:b||_},R);return a&&!k||I[C]===D||d(I,C,D,{name:f}),g[e]=D,R}},3383:(t,e,n)=>{"use strict";var r,o,a,s=n(7293),i=n(614),c=n(111),l=n(30),u=n(9518),p=n(8052),h=n(5112),d=n(1913),f=h("iterator"),g=!1;[].keys&&("next"in(a=[].keys())?(o=u(u(a)))!==Object.prototype&&(r=o):g=!0),!c(r)||s((function(){var t={};return r[f].call(t)!==t}))?r={}:d&&(r=l(r)),i(r[f])||p(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},7497:t=>{t.exports={}},1156:(t,e,n)=>{var r=n(4326),o=n(5656),a=n(8006).f,s=n(1589),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return i&&"Window"==r(t)?function(t){try{return a(t)}catch(t){return s(i)}}(t):a(o(t))}},9518:(t,e,n)=>{var r=n(2597),o=n(614),a=n(7908),s=n(6200),i=n(8544),c=s("IE_PROTO"),l=Object,u=l.prototype;t.exports=i?l.getPrototypeOf:function(t){var e=a(t);if(r(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof l?u:null}},7674:(t,e,n)=>{var r=n(5668),o=n(9670),a=n(7944);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),a(r),e?t(n,r):n.__proto__=r,n}}():void 0)},857:(t,e,n)=>{var r=n(7854);t.exports=r},8003:(t,e,n)=>{var r=n(3070).f,o=n(2597),a=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!o(t,a)&&r(t,a,{configurable:!0,value:e})}},3111:(t,e,n)=>{var r=n(1702),o=n(4488),a=n(1340),s=n(1361),i=r("".replace),c=RegExp("^["+s+"]+"),l=RegExp("(^|[^"+s+"])["+s+"]+$"),u=function(t){return function(e){var n=a(o(e));return 1&t&&(n=i(n,c,"")),2&t&&(n=i(n,l,"$1")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},6532:(t,e,n)=>{var r=n(6916),o=n(5005),a=n(5112),s=n(8052);t.exports=function(){var t=o("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,i=a("toPrimitive");e&&!e[i]&&s(e,i,(function(t){return r(n,this)}),{arity:1})}},2015:(t,e,n)=>{var r=n(6293);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},863:(t,e,n)=>{var r=n(1702);t.exports=r(1..valueOf)},6800:(t,e,n)=>{var r=n(857),o=n(2597),a=n(6061),s=n(3070).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||s(e,t,{value:a.f(t)})}},6061:(t,e,n)=>{var r=n(5112);e.f=r},1361:t=>{t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},6992:(t,e,n)=>{"use strict";var r=n(5656),o=n(1223),a=n(7497),s=n(9909),i=n(3070).f,c=n(1656),l=n(6178),u=n(1913),p=n(9781),h="Array Iterator",d=s.set,f=s.getterFor(h);t.exports=c(Array,"Array",(function(t,e){d(this,{type:h,target:r(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,l(void 0,!0)):l("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values");var g=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!u&&p&&"values"!==g.name)try{i(g,"name",{value:"values"})}catch(t){}},6078:(t,e,n)=>{var r=n(2597),o=n(8052),a=n(8709),s=n(5112)("toPrimitive"),i=Date.prototype;r(i,s)||o(i,s,a)},8862:(t,e,n)=>{var r=n(2109),o=n(5005),a=n(2104),s=n(6916),i=n(1702),c=n(7293),l=n(614),u=n(2190),p=n(206),h=n(8044),d=n(6293),f=String,g=o("JSON","stringify"),m=i(/./.exec),A=i("".charAt),y=i("".charCodeAt),v=i("".replace),b=i(1..toString),C=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,E=!d||c((function(){var t=o("Symbol")();return"[null]"!=g([t])||"{}"!=g({a:t})||"{}"!=g(Object(t))})),S=c((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),k=function(t,e){var n=p(arguments),r=h(e);if(l(r)||void 0!==t&&!u(t))return n[1]=function(t,e){if(l(r)&&(e=s(r,this,f(t),e)),!u(e))return e},a(g,null,n)},L=function(t,e,n){var r=A(n,e-1),o=A(n,e+1);return m(x,t)&&!m(w,o)||m(w,t)&&!m(x,r)?"\\u"+b(y(t,0),16):t};g&&r({target:"JSON",stat:!0,arity:3,forced:E||S},{stringify:function(t,e,n){var r=p(arguments),o=a(E?k:g,null,r);return S&&"string"==typeof o?v(o,C,L):o}})},9653:(t,e,n)=>{"use strict";var r=n(2109),o=n(1913),a=n(9781),s=n(7854),i=n(857),c=n(1702),l=n(4705),u=n(2597),p=n(9587),h=n(7976),d=n(2190),f=n(7593),g=n(7293),m=n(8006).f,A=n(1236).f,y=n(3070).f,v=n(863),b=n(3111).trim,C="Number",x=s[C],w=i[C],E=x.prototype,S=s.TypeError,k=c("".slice),L=c("".charCodeAt),R=l(C,!x(" 0o1")||!x("0b1")||x("+0x1")),O=function(t){var e,n=arguments.length<1?0:x(function(t){var e=f(t,"number");return"bigint"==typeof e?e:function(t){var e,n,r,o,a,s,i,c,l=f(t,"number");if(d(l))throw S("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=b(l),43===(e=L(l,0))||45===e){if(88===(n=L(l,2))||120===n)return NaN}else if(48===e){switch(L(l,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(s=(a=k(l,2)).length,i=0;i<s;i++)if((c=L(a,i))<48||c>o)return NaN;return parseInt(a,r)}return+l}(e)}(t));return h(E,e=this)&&g((function(){v(e)}))?p(Object(n),this,O):n};O.prototype=E,R&&!o&&(E.constructor=O),r({global:!0,constructor:!0,wrap:!0,forced:R},{Number:O});var M=function(t,e){for(var n,r=a?m(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;r.length>o;o++)u(e,n=r[o])&&!u(t,n)&&y(t,n,A(e,n))};o&&w&&M(i[C],w),(R||o)&&M(i[C],x)},9660:(t,e,n)=>{var r=n(2109),o=n(6293),a=n(7293),s=n(5181),i=n(7908);r({target:"Object",stat:!0,forced:!o||a((function(){s.f(1)}))},{getOwnPropertySymbols:function(t){var e=s.f;return e?e(i(t)):[]}})},8783:(t,e,n)=>{"use strict";var r=n(8710).charAt,o=n(1340),a=n(9909),s=n(1656),i=n(6178),c="String Iterator",l=a.set,u=a.getterFor(c);s(String,"String",(function(t){l(this,{type:c,string:o(t),index:0})}),(function(){var t,e=u(this),n=e.string,o=e.index;return o>=n.length?i(void 0,!0):(t=r(n,o),e.index+=t.length,i(t,!1))}))},4032:(t,e,n)=>{"use strict";var r=n(2109),o=n(7854),a=n(6916),s=n(1702),i=n(1913),c=n(9781),l=n(6293),u=n(7293),p=n(2597),h=n(7976),d=n(9670),f=n(5656),g=n(4948),m=n(1340),A=n(9114),y=n(30),v=n(1956),b=n(8006),C=n(1156),x=n(5181),w=n(1236),E=n(3070),S=n(6048),k=n(5296),L=n(8052),R=n(7045),O=n(2309),M=n(6200),T=n(3501),_=n(9711),I=n(5112),N=n(6061),D=n(6800),B=n(6532),F=n(8003),j=n(9909),P=n(2092).forEach,U=M("hidden"),z="Symbol",q="prototype",G=j.set,$=j.getterFor(z),H=Object[q],W=o.Symbol,Y=W&&W[q],X=o.TypeError,V=o.QObject,K=w.f,Z=E.f,J=C.f,Q=k.f,tt=s([].push),et=O("symbols"),nt=O("op-symbols"),rt=O("wks"),ot=!V||!V[q]||!V[q].findChild,at=c&&u((function(){return 7!=y(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=K(H,e);r&&delete H[e],Z(t,e,n),r&&t!==H&&Z(H,e,r)}:Z,st=function(t,e){var n=et[t]=y(Y);return G(n,{type:z,tag:t,description:e}),c||(n.description=e),n},it=function(t,e,n){t===H&&it(nt,e,n),d(t);var r=g(e);return d(n),p(et,r)?(n.enumerable?(p(t,U)&&t[U][r]&&(t[U][r]=!1),n=y(n,{enumerable:A(0,!1)})):(p(t,U)||Z(t,U,A(1,{})),t[U][r]=!0),at(t,r,n)):Z(t,r,n)},ct=function(t,e){d(t);var n=f(e),r=v(n).concat(ht(n));return P(r,(function(e){c&&!a(lt,n,e)||it(t,e,n[e])})),t},lt=function(t){var e=g(t),n=a(Q,this,e);return!(this===H&&p(et,e)&&!p(nt,e))&&(!(n||!p(this,e)||!p(et,e)||p(this,U)&&this[U][e])||n)},ut=function(t,e){var n=f(t),r=g(e);if(n!==H||!p(et,r)||p(nt,r)){var o=K(n,r);return!o||!p(et,r)||p(n,U)&&n[U][r]||(o.enumerable=!0),o}},pt=function(t){var e=J(f(t)),n=[];return P(e,(function(t){p(et,t)||p(T,t)||tt(n,t)})),n},ht=function(t){var e=t===H,n=J(e?nt:f(t)),r=[];return P(n,(function(t){!p(et,t)||e&&!p(H,t)||tt(r,et[t])})),r};l||(L(Y=(W=function(){if(h(Y,this))throw X("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,e=_(t),n=function(t){this===H&&a(n,nt,t),p(this,U)&&p(this[U],e)&&(this[U][e]=!1),at(this,e,A(1,t))};return c&&ot&&at(H,e,{configurable:!0,set:n}),st(e,t)})[q],"toString",(function(){return $(this).tag})),L(W,"withoutSetter",(function(t){return st(_(t),t)})),k.f=lt,E.f=it,S.f=ct,w.f=ut,b.f=C.f=pt,x.f=ht,N.f=function(t){return st(I(t),t)},c&&(R(Y,"description",{configurable:!0,get:function(){return $(this).description}}),i||L(H,"propertyIsEnumerable",lt,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),P(v(rt),(function(t){D(t)})),r({target:z,stat:!0,forced:!l},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:function(t,e){return void 0===e?y(t):ct(y(t),e)},defineProperty:it,defineProperties:ct,getOwnPropertyDescriptor:ut}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:pt}),B(),F(W,z),T[U]=!0},1817:(t,e,n)=>{"use strict";var r=n(2109),o=n(9781),a=n(7854),s=n(1702),i=n(2597),c=n(614),l=n(7976),u=n(1340),p=n(7045),h=n(9920),d=a.Symbol,f=d&&d.prototype;if(o&&c(d)&&(!("description"in f)||void 0!==d().description)){var g={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=l(f,this)?new d(t):void 0===t?d():d(t);return""===t&&(g[e]=!0),e};h(m,d),m.prototype=f,f.constructor=m;var A="Symbol(test)"==String(d("test")),y=s(f.valueOf),v=s(f.toString),b=/^Symbol\((.*)\)[^)]+$/,C=s("".replace),x=s("".slice);p(f,"description",{configurable:!0,get:function(){var t=y(this);if(i(g,t))return"";var e=v(t),n=A?x(e,7,-1):C(e,b,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},763:(t,e,n)=>{var r=n(2109),o=n(5005),a=n(2597),s=n(1340),i=n(2309),c=n(2015),l=i("string-to-symbol-registry"),u=i("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=s(t);if(a(l,e))return l[e];var n=o("Symbol")(e);return l[e]=n,u[n]=e,n}})},2165:(t,e,n)=>{n(6800)("iterator")},2526:(t,e,n)=>{n(4032),n(763),n(6620),n(8862),n(9660)},6620:(t,e,n)=>{var r=n(2109),o=n(2597),a=n(2190),s=n(6330),i=n(2309),c=n(2015),l=i("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!a(t))throw TypeError(s(t)+" is not a symbol");if(o(l,t))return l[t]}})},6649:(t,e,n)=>{var r=n(6800),o=n(6532);r("toPrimitive"),o()},3948:(t,e,n)=>{var r=n(7854),o=n(8324),a=n(8509),s=n(6992),i=n(8880),c=n(5112),l=c("iterator"),u=c("toStringTag"),p=s.values,h=function(t,e){if(t){if(t[l]!==p)try{i(t,l,p)}catch(e){t[l]=p}if(t[u]||i(t,u,e),o[e])for(var n in s)if(t[n]!==s[n])try{i(t,n,s[n])}catch(e){t[n]=s[n]}}};for(var d in o)h(r[d]&&r[d].prototype,d);h(a,"DOMTokenList")},4305:(t,e,n)=>{"use strict";n.d(e,{Z:()=>y});var r=n(7537),o=n.n(r),a=n(3645),s=n.n(a),i=n(1667),c=n.n(i),l=new URL(n(4469),n.b),u=new URL(n(5428),n.b),p=new URL(n(5467),n.b),h=new URL(n(1481),n.b),d=s()(o()),f=c()(l),g=c()(u),m=c()(p),A=c()(h);d.push([t.id,`#tab-aaochat .aaochat-start-conversion[data-v-ab692064]{text-align:center;align-items:center;justify-content:center;display:flex;height:100%}#tab-aaochat .aaochat-start-conversion a[data-v-ab692064]{background-color:#f95100;display:inline-block;padding:10px 20px;color:#fff;border-radius:22px}#tab-aaochat .aaochat-start-conversion a[data-v-ab692064]:hover{background-color:#d1561b}.aaochat-tab-view[data-v-ab692064]{display:flex;flex-direction:column;min-width:100%}.aaochat-message-list[data-v-ab692064]{display:flex;flex:1;flex-direction:column-reverse;padding:10px;height:auto;overflow:auto}#tab-aaochat .aaochat-send-message-row[data-v-ab692064]{background-color:#fff;padding-bottom:0px;padding-top:15px;line-height:0px}#tab-aaochat .attach-button[data-v-ab692064]{border-left:1px solid #dcdcdc;border-top:1px solid #dcdcdc;border-bottom:1px solid #dcdcdc;border-radius:14px 2px 2px 14px}#tab-aaochat .input-group-addon[data-v-ab692064],#tab-aaochat .input-group-btn[data-v-ab692064]{white-space:nowrap;vertical-align:middle;display:table-cell}#tab-aaochat .input-group-btn[data-v-ab692064]{position:relative;font-size:0;white-space:nowrap;margin:0;padding:0px !important}#tab-aaochat .input-group[data-v-ab692064]{position:relative;display:flex;border-collapse:separate;width:100%;align-items:center}#tab-aaochat #newMessageContainer .form-control[data-v-ab692064]{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}#tab-aaochat .chat .chat-message button[data-v-ab692064]{float:right;color:#94c2ed;font-size:16px;text-transform:uppercase;border:none;cursor:pointer;font-weight:bold;background:#f2f5f8}#tab-aaochat .no-border-button[data-v-ab692064]{border:0px !important;font-size:20px;background-color:rgba(0,0,0,0) !important}#tab-aaochat .btn[data-v-ab692064]{display:inline-block;padding:6px 8px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid rgba(0,0,0,0);border-radius:4px;margin:0px}#tab-aaochat .option-btn[data-v-ab692064]{display:inline-block;padding:3px 3px;margin-bottom:0;font-size:14px;font-weight:400;line-height:0;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid rgba(0,0,0,0);border-radius:4px;margin:0px;min-height:25px}#tab-aaochat .btn-default[data-v-ab692064]{color:#333;background-color:#fff;border-color:#ccc}#tab-aaochat .btn-group-lg>.btn[data-v-ab692064],#tab-aaochat .btn-lg[data-v-ab692064]{padding:10px 8px;font-size:18px;line-height:1.3333333;border-radius:6px}#tab-aaochat .emoji-wysiwyg-editor[data-v-ab692064]{font-family:"Roboto",sans-serif;border-radius:0px 14px 14px 0px !important;overflow:auto !important;min-height:40px !important;border:0px !important;padding-right:10px !important;display:flex;align-items:center}#tab-aaochat .newMessageOptionsContainer[data-v-ab692064]{display:flex;align-items:center;border:none;font-size:25px;padding:0px;background-color:rgba(0,0,0,0)}#tab-aaochat .newMessageOptionsContainer button[data-v-ab692064]{margin-right:5px}#tab-aaochat .user-selection-btn[data-v-ab692064]{z-index:0;font-size:18px;padding:0px;padding-left:5px;padding-right:5px;border:1px solid #dcdcdc}#tab-aaochat .aaochat-fa[data-v-ab692064]{display:inline-block;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#tab-aaochat .aaochat-fa-paperclip[data-v-ab692064]{background-image:url(${f});width:20px;height:20px}#tab-aaochat .aaochat-fa-plus[data-v-ab692064]{background-image:url(${g});width:12px;height:12px;background-repeat:no-repeat}#tab-aaochat .aaochat-fa-clock-o[data-v-ab692064]{background-image:url(${m});width:12px;height:12px;background-repeat:no-repeat}#tab-aaochat .aaochat-fa-chevron-right[data-v-ab692064]{background-image:url(${A});width:12px;height:12px;background-repeat:no-repeat}#tab-aaochat .aaochat-send-message-btn[data-v-ab692064]{padding:0;border:none;background:none;margin:0px;min-height:50px}#tab-aaochat .aaochat-send-message-btn img[data-v-ab692064]{width:40px}#tab-aaochat .btn-send[data-v-ab692064]{border-radius:50% !important;height:46px;width:46px;background-color:var(--main-color);z-index:0 !important;color:#fff;padding-left:12px}#tab-aaochat .btn-send[data-v-ab692064]:hover{background-color:var(--main-color-dark);color:#fff}#tab-aaochat .btn-send[data-v-ab692064]:focus{outline:none;background-color:var(--main-color-dark);color:#fff}#tab-aaochat .chat .chat-message button[data-v-ab692064]:hover{color:#75b1e8}#tab-aaochat #newMessageContainer[data-v-ab692064]{padding-right:12px;padding-left:12px;scrollbar-color:gray rgba(0,0,0,0);scrollbar-width:thin}#tab-aaochat #newMessageContainer[data-v-ab692064]{flex-grow:1;display:flex;border:1px solid #d2dbe3;margin-right:10px;border-radius:20px 20px 20px 20px;align-items:center;height:50px}#tab-aaochat #txtMessage[data-v-ab692064]{resize:none;box-sizing:content-box;border-radius:5px;width:calc(100% - 30px);border:none;min-height:25px;padding:5px;margin:0px;font-size:16px}#tab-aaochat #txtMessage[data-v-ab692064]::-webkit-input-placeholder{font-style:italic}#tab-aaochat #txtMessage[data-v-ab692064]:-moz-placeholder{font-style:italic}#tab-aaochat #txtMessage[data-v-ab692064]::-moz-placeholder{font-style:italic}#tab-aaochat #txtMessage[data-v-ab692064]:-ms-input-placeholder{font-style:italic}#tab-aaochat #txtMessage[data-v-ab692064]:focus{box-shadow:none}`,"",{version:3,sources:["webpack://./src/views/AaochatTab.vue"],names:[],mappings:"AACA,wDACC,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,YAAA,CACA,WAAA,CAED,0DACC,wBAAA,CACA,oBAAA,CACA,iBAAA,CACA,UAAA,CACA,kBAAA,CAED,gEACC,wBAAA,CAGD,mCACC,YAAA,CACA,qBAAA,CACA,cAAA,CAED,uCACC,YAAA,CACA,MAAA,CACA,6BAAA,CACA,YAAA,CACA,WAAA,CACA,aAAA,CAUD,wDACC,qBAAA,CACA,kBAAA,CACA,gBAAA,CACA,eAAA,CAED,6CACC,6BAAA,CACA,4BAAA,CACA,+BAAA,CACA,+BAAA,CAGD,gGACC,kBAAA,CACA,qBAAA,CACA,kBAAA,CAED,+CACC,iBAAA,CACA,WAAA,CACA,kBAAA,CACA,QAAA,CACA,sBAAA,CAED,2CACC,iBAAA,CACA,YAAA,CACA,wBAAA,CACA,UAAA,CACA,kBAAA,CAED,iEACC,iBAAA,CACA,SAAA,CACA,UAAA,CACA,UAAA,CACA,eAAA,CAED,yDACC,WAAA,CACA,aAAA,CACA,cAAA,CACA,wBAAA,CACA,WAAA,CACA,cAAA,CACA,gBAAA,CACA,kBAAA,CAED,gDACC,qBAAA,CACA,cAAA,CACA,yCAAA,CAED,mCACC,oBAAA,CACA,eAAA,CACA,eAAA,CACA,cAAA,CACA,eAAA,CACA,sBAAA,CACA,iBAAA,CACA,kBAAA,CACA,qBAAA,CACA,6BAAA,CACA,yBAAA,CACA,cAAA,CACA,wBAAA,CACA,qBAAA,CACA,oBAAA,CACA,gBAAA,CACA,qBAAA,CACA,8BAAA,CACA,iBAAA,CACA,UAAA,CAED,0CACC,oBAAA,CACA,eAAA,CACA,eAAA,CACA,cAAA,CACA,eAAA,CACA,aAAA,CACA,iBAAA,CACA,kBAAA,CACA,qBAAA,CACA,6BAAA,CACA,yBAAA,CACA,cAAA,CACA,wBAAA,CACA,qBAAA,CACA,oBAAA,CACA,gBAAA,CACA,qBAAA,CACA,8BAAA,CACA,iBAAA,CACA,UAAA,CACA,eAAA,CAED,2CACC,UAAA,CACA,qBAAA,CACA,iBAAA,CAED,uFACC,gBAAA,CACA,cAAA,CACA,qBAAA,CACA,iBAAA,CAED,oDACC,+BAAA,CACA,0CAAA,CACA,wBAAA,CACA,0BAAA,CACA,qBAAA,CACA,6BAAA,CACA,YAAA,CACA,kBAAA,CAED,0DAGC,YAAA,CACA,kBAAA,CACA,WAAA,CAEA,cAAA,CACA,WAAA,CAGA,8BAAA,CAED,iEACC,gBAAA,CAED,kDAKC,SAAA,CACA,cAAA,CACA,WAAA,CACA,gBAAA,CACA,iBAAA,CAEA,wBAAA,CAED,0CACC,oBAAA,CACA,iBAAA,CACA,mBAAA,CACA,kCAAA,CACA,iCAAA,CAED,oDACC,wDAAA,CACA,UAAA,CACA,WAAA,CAKD,+CACC,wDAAA,CACA,UAAA,CACA,WAAA,CACA,2BAAA,CAED,kDACC,wDAAA,CACA,UAAA,CACA,WAAA,CACA,2BAAA,CAED,wDACC,wDAAA,CACA,UAAA,CACA,WAAA,CACA,2BAAA,CAED,wDACC,SAAA,CACA,WAAA,CACA,eAAA,CACA,UAAA,CACA,eAAA,CAED,4DACC,UAAA,CAED,wCACC,4BAAA,CACA,WAAA,CACA,UAAA,CACA,kCAAA,CACA,oBAAA,CACA,UAAA,CACA,iBAAA,CAGD,8CACC,uCAAA,CACA,UAAA,CAGD,8CACC,YAAA,CACA,uCAAA,CACA,UAAA,CAMD,+DACC,aAAA,CAGD,mDACC,kBAAA,CACA,iBAAA,CACA,kCAAA,CACA,oBAAA,CAED,mDACC,WAAA,CACA,YAAA,CACA,wBAAA,CACA,iBAAA,CACA,iCAAA,CACA,kBAAA,CACA,WAAA,CAED,0CACC,WAAA,CACA,sBAAA,CACA,iBAAA,CACA,uBAAA,CACA,WAAA,CACA,eAAA,CACA,WAAA,CACA,UAAA,CACA,cAAA,CAID,qEACC,iBAAA,CAGD,2DACC,iBAAA,CAGD,4DACC,iBAAA,CAGD,gEACC,iBAAA,CAGD,gDACC,eAAA",sourcesContent:["\n#tab-aaochat .aaochat-start-conversion {\n\ttext-align: center;\n\talign-items: center;\n\tjustify-content: center;\n\tdisplay: flex;\n\theight: 100%;\n}\n#tab-aaochat .aaochat-start-conversion a {\n\tbackground-color:#f95100;\n\tdisplay: inline-block;\n\tpadding: 10px 20px;\n\tcolor:white;\n\tborder-radius: 22px;\n}\n#tab-aaochat .aaochat-start-conversion a:hover {\n\tbackground-color:#d1561b;\n}\n\n.aaochat-tab-view {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmin-width:100%;\n}\n.aaochat-message-list {\n\tdisplay:flex;\n\tflex:1;\n\tflex-direction: column-reverse;\n\tpadding: 10px;\n\theight: auto;\n\toverflow: auto;\n}\n// Form CSS start \n.aaochat-message-form-wrapper {\n\t\n}\n.aaochat-message-form {\n\t\n}\n\n#tab-aaochat .aaochat-send-message-row {\n\tbackground-color:white;\n\tpadding-bottom: 0px;\n\tpadding-top: 15px;\n\tline-height: 0px;\n}\n#tab-aaochat .attach-button {\n\tborder-left: 1px solid #dcdcdc;\n\tborder-top: 1px solid #dcdcdc;\n\tborder-bottom: 1px solid #dcdcdc;\n\tborder-radius: 14px 2px 2px 14px;\n}\n\n#tab-aaochat .input-group-addon, #tab-aaochat .input-group-btn {\n\twhite-space: nowrap;\n\tvertical-align: middle;\n\tdisplay: table-cell;\n}\n#tab-aaochat .input-group-btn {\n\tposition: relative;\n\tfont-size: 0;\n\twhite-space: nowrap;\n\tmargin: 0;\n\tpadding: 0px !important;\n}\n#tab-aaochat .input-group {\n\tposition: relative;\n\tdisplay: flex;\n\tborder-collapse: separate;\n\twidth: 100%;\n\talign-items: center;\n}\n#tab-aaochat #newMessageContainer .form-control {\n\tposition: relative;\n\tz-index: 2;\n\tfloat: left;\n\twidth: 100%;\n\tmargin-bottom: 0;\n}\n#tab-aaochat .chat .chat-message button {\n\tfloat: right;\n\tcolor: #94C2ED;\n\tfont-size: 16px;\n\ttext-transform: uppercase;\n\tborder: none;\n\tcursor: pointer;\n\tfont-weight: bold;\n\tbackground: #F2F5F8;\n}\n#tab-aaochat .no-border-button {\n\tborder: 0px !important;\n\tfont-size: 20px;\n\tbackground-color: transparent !important;\n}\n#tab-aaochat .btn {\n\tdisplay: inline-block;\n\tpadding: 6px 8px;\n\tmargin-bottom: 0;\n\tfont-size: 14px;\n\tfont-weight: 400;\n\tline-height: 1.42857143;\n\ttext-align: center;\n\twhite-space: nowrap;\n\tvertical-align: middle;\n\t-ms-touch-action: manipulation;\n\ttouch-action: manipulation;\n\tcursor: pointer;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\tbackground-image: none;\n\tborder: 1px solid transparent;\n\tborder-radius: 4px;\n\tmargin: 0px;\n}\n#tab-aaochat .option-btn {\n\tdisplay: inline-block;\n\tpadding: 3px 3px;\n\tmargin-bottom: 0;\n\tfont-size: 14px;\n\tfont-weight: 400;\n\tline-height: 0;\n\ttext-align: center;\n\twhite-space: nowrap;\n\tvertical-align: middle;\n\t-ms-touch-action: manipulation;\n\ttouch-action: manipulation;\n\tcursor: pointer;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\tbackground-image: none;\n\tborder: 1px solid transparent;\n\tborder-radius: 4px;\n\tmargin: 0px;\n\tmin-height: 25px;\n}\n#tab-aaochat .btn-default {\n\tcolor: #333;\n\tbackground-color: #fff;\n\tborder-color: #ccc;\n}\n#tab-aaochat .btn-group-lg>.btn, #tab-aaochat .btn-lg {\n\tpadding: 10px 8px;\n\tfont-size: 18px;\n\tline-height: 1.3333333;\n\tborder-radius: 6px;\n}\n#tab-aaochat .emoji-wysiwyg-editor {\n\tfont-family: \"Roboto\", sans-serif;\n\tborder-radius: 0px 14px 14px 0px !important;\n\toverflow: auto !important;\n\tmin-height: 40px !important;\n\tborder: 0px !important;\n\tpadding-right: 10px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n#tab-aaochat .newMessageOptionsContainer {\n\t/* position: absolute; */\n\t/* top: 3px; */\n\tdisplay: flex;\n\talign-items: center;\n\tborder: none;\n\t/* z-index: 0; */\n\tfont-size: 25px;\n\tpadding: 0px;\n\t/* right: 65px; */\n\t/* width: max-content; */\n\tbackground-color: transparent;\n}\n#tab-aaochat .newMessageOptionsContainer button {\n\tmargin-right: 5px;\n}\n#tab-aaochat .user-selection-btn {\n\t/* position: absolute; */\n\t/* top: 12px; */\n\t/* border: none; */\n\t/* z-index: 9; */\n\tz-index: 0;\n\tfont-size: 18px;\n\tpadding: 0px;\n\tpadding-left: 5px;\n\tpadding-right: 5px;\n\t/* right: 167px; */\n\tborder: 1px solid #dcdcdc;\n}\n#tab-aaochat .aaochat-fa {\n\tdisplay: inline-block;\n\tfont-size: inherit;\n\ttext-rendering: auto;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n}\n#tab-aaochat .aaochat-fa-paperclip {\n\tbackground-image: url('../../img/attachment.svg');\n\twidth: 20px;\n\theight: 20px;\n}\n#tab-aaochat .aaochat-fa-paperclip:before {\n\n}\n#tab-aaochat .aaochat-fa-plus {\n\tbackground-image: url('../../img/plus.svg');\n\twidth: 12px;\n\theight: 12px;\n\tbackground-repeat: no-repeat;\n}\n#tab-aaochat .aaochat-fa-clock-o {\n\tbackground-image: url('../../img/schedule msg.svg');\n\twidth: 12px;\n\theight: 12px;\n\tbackground-repeat: no-repeat;\n}\n#tab-aaochat .aaochat-fa-chevron-right {\n\tbackground-image: url('../../img/right_arrow.svg');\n\twidth: 12px;\n\theight: 12px;\n\tbackground-repeat: no-repeat;\n}\n#tab-aaochat .aaochat-send-message-btn {\n\tpadding: 0;\n\tborder: none;\n\tbackground: none;\n\tmargin:0px;\n\tmin-height: 50px;\n}\n#tab-aaochat .aaochat-send-message-btn img {\n\twidth: 40px;\n}\n#tab-aaochat .btn-send {\n\tborder-radius: 50% !important;\n\theight: 46px;\n\twidth: 46px;\n\tbackground-color: var(--main-color);\n\tz-index: 0 !important;\n\tcolor: white;\n\tpadding-left: 12px;\n}\n\n#tab-aaochat .btn-send:hover {\n\tbackground-color: var(--main-color-dark);\n\tcolor: white;\n}\n\n#tab-aaochat .btn-send:focus {\n\toutline: none;\n\tbackground-color: var(--main-color-dark);\n\tcolor: white;\n}\n#tab-aaochat .chat .chat-message button {\n\n}\n\n#tab-aaochat .chat .chat-message button:hover {\n\tcolor: #75b1e8;\n}\n\n#tab-aaochat #newMessageContainer {\n\tpadding-right: 12px;\n\tpadding-left: 12px;\n\tscrollbar-color: gray transparent;\n\tscrollbar-width: thin;\n}\n#tab-aaochat #newMessageContainer {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tborder: 1px solid rgb(210, 219, 227);\n\tmargin-right: 10px;\n\tborder-radius: 20px 20px 20px 20px;\n\talign-items: center;\n\theight: 50px;\n}\n#tab-aaochat #txtMessage {\n\tresize: none;\n\tbox-sizing: content-box;\n\tborder-radius: 5px;\n\twidth: calc(100% - 30px);\n\tborder: none;\n\tmin-height: 25px;\n\tpadding: 5px;\n\tmargin: 0px;\n\tfont-size: 16px;\n\t/*display: none;*/\n}\n\n#tab-aaochat #txtMessage::-webkit-input-placeholder {\n\tfont-style: italic;\n}\n\n#tab-aaochat #txtMessage:-moz-placeholder {\n\tfont-style: italic;\n}\n\n#tab-aaochat #txtMessage::-moz-placeholder {\n\tfont-style: italic;\n}\n\n#tab-aaochat #txtMessage:-ms-input-placeholder {\n\tfont-style: italic;\n}\n\n#tab-aaochat #txtMessage:focus {\n\tbox-shadow: none;\n}\n// Form CSS end \n"],sourceRoot:""}]);const y=d},846:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(7537),o=n.n(r),a=n(3645),s=n.n(a)()(o());s.push([t.id,"\n#tab-aaochat{\n\tdisplay:flex;\n\tflex:1;\n}\n","",{version:3,sources:["webpack://./src/views/AaochatTab.vue"],names:[],mappings:";AAmbA;CACA,YAAA;CACA,MAAA;AACA",sourcesContent:['\x3c!--\n  - @copyright Copyright (c) 2023 Aao Business Chat <info@aaochat.com>\n  -\n  - @author Aao Business Chat <info@aaochat.com>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  --\x3e\n<template>\n\t<div :class="{ \'icon-loading\': loading }" style="display:flex; flex:1;">\n\t\t\x3c!-- error message --\x3e\n\t\t<template  v-if="error" :title="error">\n\t\t\t<div class="aaochat-tab-view">\n\t\t\t\t<div class="aaochat-start-conversion">\n\t\t\t\t\t<span><a href="#" class="" @click="showSendMessageForm">\n\t\t\t\t\tStart Conversation\n\t\t\t\t\t</a></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t\x3c!-- aaochtMessages content --\x3e\n\t\t\t<div class="aaochat-tab-view" v-if="channelId">\n\n\t\t\t\t<div class="aaochat-message-list" v-on:scroll.native="handleScroll" v-on:scroll="handleScroll">\n\t\t\t\t\t<AaochtMessage v-for="(message, index) in aaochtMessages"\n\t\t\t\t\t\t:key="message.message_id"\n\t\t\t\t\t\t:previousMessageTimestamp="(index==aaochtMessages.length-1? null: aaochtMessages[index+1].created_at)"\n\t\t\t\t\t\t:message="message" />\n\t\t\t\t</div>\n\n\t\t\t\t<div class="aaochat-message-form-wrapper">\n\t\t\t\t\t<div class="aaochat-message-form">\n\t\t\t\t\t\t<form v-on:submit.prevent="onSubmit" class="chat-message" onsubmit="return false;" action="#">\n\t\t\t\t\t\t\t<div class="row aaochat-send-message-row">\n\t\t\t\t\t\t\t\t<div class="col-md-12">\n\t\t\t\t\t\t\t\t\t<div class="input-group">\n\t\t\t\t\t\t\t\t\t\t<div style="" emoji-form="" emoji-message="emojiMessage" id="newMessageContainer">\n\t\t\t\t\t\t\t\t\t\t\t<textarea id="txtMessage" v-model="txtMessage" @keyup.enter.exact="sendAaochatMessage" class="form-control input-lg ng-pristine ng-untouched ng-valid " placeholder="Type your message here..." style=""></textarea>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="input-group-btn">\n\t\t\t\t\t\t\t\t\t\t\t<ActionButton type="button " class="aaochat-send-message-btn" @click="sendAaochatMessage">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src="../../img/send.png" alt="">\n\t\t\t\t\t\t\t\t\t\t\t</ActionButton>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<template v-if="channelId==null && !loading" :title="t(\'aaochat\', \'\')">\n\t\t\t\t<div class="aaochat-tab-view">\n\t\t\t\t\t<div class="aaochat-start-conversion">\n\t\t\t\t\t\t<span><a href="#" class="" @click="showSendMessageForm">\n\t\t\t\t\t\tStart Conversation\n\t\t\t\t\t\t</a></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</template>\n\t</div>\n</template>\n\n<script>\nimport { generateOcsUrl } from \'@nextcloud/router\'\nimport { translate } from \'@nextcloud/l10n\'\nimport axios from \'@nextcloud/axios\'\nimport NcEmptyContent from \'@nextcloud/vue/dist/Components/NcEmptyContent.js\'\n\nimport AaochtMessage from \'./AaochtMessage.vue\'\nimport socketService from \'../socketio_service.js\'\n\nimport logger from \'../logger.js\'\n\nexport default {\n\tname: \'AaochatTab\',\n\tcomponents: {\n\t\tAaochtMessage,\n\t\tNcEmptyContent,\n\t},\n\tcreated(){\n\t\tconst socket = socketService.setupSocketConnection(localStorage.getItem("nextcloud-AaoChatServerURL"));\n\t\tsocket.on(\'connect\', () => {\n\t\t\tconsole.log(\'connected inside\');\n\t\t});\n\t\tsocket.on(\'message\', (data) => {\n\t\t\t\n\t\t\tconsole.log(\'new message received\', data);\n\t\t\tif(this.channelId!=data.channel_id) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst existingMessage = this.aaochtMessages.find(function(item){\n\t\t\t\treturn item.message_id == data.message_id;\n\t\t\t});\n\t\t\tif(!existingMessage){\n\t\t\t\tdata.delivered = data.delivered||false;\n\t\t\t\tdata.seen = data.seen||false;\n\t\t\t\tdata.trashed = data.trashed||false;\n\t\t\t\tthis.aaochtMessages.unshift(data);\n\t\t\t}\n\n\t\t\tsocket.emit(\'user:message-seen\',{\n\t\t\t\tmessage_id: data.message_id,\n            \tuser_id: data.user_id,\n            \tchannel_id: data.channel_id,\n                is_splash: data.is_splash          \n\t\t\t});\n\t\t\t\n\t\t});\n\n\n\t\tsocket.on(\'message-received\', (data)=>{\n\t\t\tconsole.log(\'message-received\',data);\n\t\t\tconst existingMessageIndex = this.aaochtMessages.findIndex(function(item){\n\t\t\t\treturn item.message_id == data.message_id;\n\t\t\t});\n\n\t\t\tif(existingMessageIndex==-1){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst newMessage= this.aaochtMessages[existingMessageIndex];\n\t\t\tnewMessage.delivered = true;\n\n\t\t\tthis.aaochtMessages.splice(existingMessageIndex,1,newMessage);\n\n\t\t});\n\n\t\tsocket.on(\'message-seen\', (data)=>{\n\t\t\tconsole.log(\'message-seen\',data);\n\t\t\tconst existingMessageIndex = this.aaochtMessages.findIndex(function(item){\n\t\t\t\treturn item.message_id == data.message_id;\n\t\t\t});\n\n\t\t\tif(existingMessageIndex==-1){\n\t\t\t\tconsole.log(\'message-seen not found.\');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst newMessage= this.aaochtMessages[existingMessageIndex];\n\t\t\tnewMessage.seen = true;\n\t\t\t\n\t\t\t//Vue.set(this.aaochtMessages,existingMessageIndex,newMessage)\n\t\t\tthis.aaochtMessages.splice(existingMessageIndex,1,newMessage);\n\n\t\t})\n\n\t\tsocket.on(\'message-deleted\', (data)=>{\n\n\t\t\tconst existingMessageIndex = this.aaochtMessages.findIndex(function(item){\n\t\t\t\treturn item.message_id == data.message_id;\n\t\t\t});\n\n\t\t\tif(existingMessageIndex==-1){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconst newMessage= this.aaochtMessages[existingMessageIndex];\n\t\t\tnewMessage.trashed = true;\n\n\t\t\tthis.aaochtMessages.splice(existingMessageIndex,1,newMessage);\n\n\t\t})\n\t},\n\tdata() {\n\t\treturn {\n\t\t\terror: \'\',\n\t\t\tloading: true,\n\t\t\tloadingMessages: false,\n\t\t\tfileInfo: null,\n\t\t\tchannelId: null,\n\t\t\taaochtChannel: [],\n\t\t\taaochtMessages: [],\n\t\t\taaochtRootUser: {},\n\t\t\ttxtMessage:\'\',\n\t\t\tlastScrollTop:0\n\t\t}\n\t},\n\tmethods: {\n\t\tonSubmit () {\n\t\t\t// DO Something\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * \n\t\t */\n\t\thandleScroll(data) {\n\t\t\t//console.log(\'handleScroll\');\n\t\t\t//console.log(data.srcElement.offsetHeight, data.srcElement.scrollTop, data.srcElement.scrollHeight);\n\n\t\t\tvar st = data.srcElement.scrollTop;\n\t\t\tif (st > this.lastScrollTop){\n\t\t\t\t// downscroll code\n\t\t\t\tconsole.log(\'scroll down\');\n\t\t\t} else {\n\t\t\t\t// upscroll code\n\t\t\t\tconsole.log(\'scroll up\');\n\t\t\t\tif(Math.abs(data.srcElement.scrollTop)+data.srcElement.offsetHeight + 10 >= data.srcElement.scrollHeight){\n\t\t\t\t\tthis.getMessageHistory(false);\n\t\t\t\t}\n\t\t\t}\n            this.lastScrollTop = st;\n\n\t\t},\n\t\t/**\n\t\t * Update current fileInfo and fetch new activities\n\t\t *\n\t\t * @param {object} fileInfo the current file FileInfo\n\t\t */\n\t\tasync update(fileInfo) {\n\t\t\tthis.fileInfo = fileInfo\n\t\t\tthis.resetState()\n\t\t\tawait this.getAaochatConversions()\n\t\t},\n\t\t/**\n\t\t * Get the existing aaocht messages\n\t\t */\n\t\tasync getAaochatConversions() {\n\t\t\t//console.log(\'Ashok test\');\n\t\t\t//console.log(this.fileInfo);\n\t\t\ttry {\n\t\t\t\t\n\t\t\t\tconst u = OC.getCurrentUser(); \n\n\t\t\t\tthis.loading = true\n\t\t\t\tlet api_url = OC.generateUrl(\'/apps/aaochat/getgroup\'+\'?fileid=\'+this.fileInfo.id)\n\t\t\t\tconst aaochtChannel = await axios.get(api_url)\t\t\t\t\n\t\t\t\tconsole.log(aaochtChannel);\n\n\n\t\t\t\tvar responseData = JSON.parse(aaochtChannel.data);\n\t\t\t\tconsole.log(responseData);\n\t\t\t\tif(responseData.status == \'error\') {\n\t\t\t\t\t//this.startConversionDisplay($el, responseData);\n\t\t\t\t\tthis.loading = false\n\t\t\t\t} else if(responseData.status == \'success\') {\n\t\t\t\t\tconst channelData = responseData.data;\n\t\t\t\t\tconst channelUsers = channelData.users;\n\t\t\t\t\tthis.aaochtRootUser = channelUsers.find(function(singleUser){\n\t\t\t\t\t\treturn singleUser.user_name == u.uid;\n\t\t\t\t\t});\n\t\t\t\t\tthis.aaochtChannel = channelData;\n\t\t\t\t\tthis.channelId = channelData._id;\t\t\t\t\t\n\t\t\t\t\tthis.loading = false\n\t\t\t\t\tthis.getMessageHistory();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\t// Status 304 is not an error.\n\t\t\t\tif (error.response !== undefined && error.response.status === 304) {\n\t\t\t\t\tthis.loading = false\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.error = translate(\'aaochat\', \'Unable to load the aaochtChannel\')\n\t\t\t\tthis.loading = false\n\t\t\t\tconsole.error(\'Error loading the aaochtChannel\', error)\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Get the existing aaocht messages\n\t\t */\n\t\tasync getMessageHistory(isPreviousLoad = false) {\n\t\t\ttry {\n\n\t\t\t\tif(this.loadingMessages==true){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(isPreviousLoad==false){\n\t\t\t\t\tthis.loading = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.loadingMessages =  true;\n\t\t\t\tlet authKey = \'\';\n\t\t\t\tlet aaoChatServerURL = \'\';\n\t\t\t\tif (typeof(Storage) !== "undefined") {\n\t\t\t\t\tauthKey = localStorage.getItem("ngStorage-AuthKey").replace(/"/g,\'\');\n\t\t\t\t\taaoChatServerURL = localStorage.getItem("nextcloud-AaoChatServerURL");\n\t\t\t\t}\n\t\t\t\tlet postdata = {channel_id:this.channelId};\n\n\t\t\t\tif(this.aaochtMessages.length > 0){\n\t\t\t\t\tpostdata.message_id = this.aaochtMessages[this.aaochtMessages.length-1].message_id;\n\t\t\t\t}\n\n          \t\tlet headers = {"Authorization": authKey,\'content-type\':\'application/json\'}\n          \t\tlet api_url = aaoChatServerURL+\'/api/channel/messages?fetch_notification_messages=false\';\n\n\t\t\t\tconst aaochtMessages = await axios.post(api_url,postdata,{headers});\n\t\t\t\tthis.aaochtMessages.push(...aaochtMessages.data.messages);\n\t\t\t\t\n\t\t\t\tthis.loadingMessages = false;\n\t\t\t\tthis.loading = false;\n\t\t\t\t// this.processAaochtMessages(aaochtMessages)\n\t\t\t} catch (error) {\n\t\t\t\t// Status 304 is not an error.\n\t\t\t\tif (error.response !== undefined && error.response.status === 304) {\n\t\t\t\t\tthis.loadingMessages = false;\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.error = translate(\'aaochat\', \'Unable to load the messages\')\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.loadingMessages = false;\n\t\t\t\tconsole.error(\'Error loading the messages\', error)\n\t\t\t} \n\t\t},\n\t\t/**\n\t\t * Reset the current view to its default state\n\t\t */\n\t\tresetState() {\n\t\t\tthis.loading = true\n\t\t\tthis.error = \'\'\n\t\t\tthis.loadingMessages = false;\n\t\t\tthis.aaochtMessages=[];\n\t\t\tthis.channelId=null;\n\t\t\tthis.lastScrollTop=0;\n\t\t},\n\t\t/**\n\t\t * Process the current messages data\n\t\t * and init messages[]\n\t\t *\n\t\t * @param {object} messages the activity ocs api request data\n\t\t * @param {object} messages.data the request data\n\t\t */\n\t\tprocessAaochtMessages({ data }) {\n\t\t\tif (data.ocs && data.ocs.data && data.ocs.data.length > 0) {\n\t\t\t\t// create Activity objects and sort by newest\n\t\t\t\t/*this.messages = data.ocs.data\n\t\t\t\t\t.map(activity => new ActivityModel(activity))\n\t\t\t\t\t.sort((a, b) => b.timestamp - a.timestamp)*/\n\t\t\t\tthis.messages = {}\n\t\t\t\tlogger.debug(`Processed ${this.messages.length} aaochat messages`, { messages: this.messages, fileInfo: this.fileInfo })\n\t\t\t}\n\t\t},\n\t\tt: translate,\n\t\t/**\n\t\t *\n\t\t */\n\t\tasync showSendMessageForm() {\n\t\t\tconst u = OC.getCurrentUser(); \n\n\t\t\tthis.loading = true\n\t\t\tlet api_url = OC.generateUrl(\'/apps/aaochat/syncshareinfo?fileid=\'+this.fileInfo.id)\n\t\t\tconst aaochtChannel = await axios.get(api_url)\t\t\t\t\n\t\t\tconsole.log(aaochtChannel);\n\n\t\t\tvar responseData = aaochtChannel.data;\n\t\t\tconsole.log(responseData);\n\t\t\tif(responseData.status == \'error\') {\n\t\t\t\tthis.loading = false\n\t\t\t} else if(responseData.status == \'success\') {\n\t\t\t\tconst channelData = responseData.data;\n\t\t\t\tconst channelUsers = channelData.users;\n\t\t\t\tthis.aaochtRootUser = channelUsers.find(function(singleUser){\n\t\t\t\t\treturn singleUser.user_name == u.uid;\n\t\t\t\t});\n\t\t\t\tthis.aaochtChannel = channelData;\n\t\t\t\tthis.channelId = channelData._id;\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tasync sendAaochatMessage() {\n\t\t\t//this.loading = true\n\t\t\tlet authKey = \'\';\n\t\t\tlet aaoChatServerURL = \'\';\n\t\t\t//console.log(this.txtMessage);\n\t\t\tif (typeof(Storage) !== "undefined") {\n\t\t\t\tauthKey = localStorage.getItem("ngStorage-AuthKey").replace(/"/g,\'\');\n\t\t\t\taaoChatServerURL = localStorage.getItem("nextcloud-AaoChatServerURL");\n\t\t\t}\n\n\t\t\tif(this.txtMessage!=null && this.txtMessage.trim().length > 0) {\n\t\t\t\tconst text = this.txtMessage.trim();\n\t\t\t\tthis.txtMessage = \'\';\n\t\t\t\tlet postdata = {channels:this.channelId, message:text};\n\t\t\t\tlet headers = {"Authorization": authKey,\'content-type\':\'application/json\'}\n\t\t\t\tlet api_url = aaoChatServerURL+\'/api/channel/message/upload-file-and-send-message\';\n\n\t\t\t\tconst response = await axios.post(api_url,postdata,{headers});\n\t\t\t}\n\t\t\t\n\t\t\tthis.loading = false;\n\t\t},\n\t\tasync scrollToReply(replyMessage) {\n\t\t\t//console.log(replyMessage);\n\t\t\tthis.loading = true;\n\t\t\tthis.loadingMessages = true;\n\t\t\tconst u = OC.getCurrentUser();\n\t\t\tlet authKey = \'\';\n\t\t\tlet aaoChatServerURL = \'\';\n\t\t\tif (typeof(Storage) !== "undefined") {\n\t\t\t\tauthKey = localStorage.getItem("ngStorage-AuthKey").replace(/"/g,\'\');\n\t\t\t\taaoChatServerURL = localStorage.getItem("nextcloud-AaoChatServerURL");\n\t\t\t}\n\t\t\tlet headers = {"Authorization": authKey,\'content-type\':\'application/json\'}\n\t\t\tlet postdata = {channel_id:this.channelId,user_id:u.uid,timestamp:replyMessage.timestamp-1000};\n\t\t\tlet api_url = aaoChatServerURL+\'/api/channel/messages/after-timestamp?fetch_notification_messages=false\';\n\t\t\tconst aaochtMessages = await axios.post(api_url,postdata,{headers});\n\t\t\tthis.aaochtMessages = aaochtMessages.data.messages;\n\n\t\t\tsetTimeout(()=> {\n\t\t\t\tif(document.getElementById("message-"+replyMessage.message_id) != null) {\n\t\t\t\t\tdocument.getElementById(\'reply-\'+replyMessage.message_id).click();\n\t\t\t\t}\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.loadingMessages = false;\n          \t}, 500);\n\t\t\t//var responseData = await response.json();\n\n\t\t}\n\t},\n}\n<\/script>\n\n<style>\n#tab-aaochat{\n\tdisplay:flex;\n\tflex:1;\n}\n</style>\n\n<style lang="scss" scoped>\n\t#tab-aaochat .aaochat-start-conversion {\n\t\ttext-align: center;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tdisplay: flex;\n\t\theight: 100%;\n\t}\n\t#tab-aaochat .aaochat-start-conversion a {\n\t\tbackground-color:#f95100;\n\t\tdisplay: inline-block;\n\t\tpadding: 10px 20px;\n\t\tcolor:white;\n\t\tborder-radius: 22px;\n\t}\n\t#tab-aaochat .aaochat-start-conversion a:hover {\n\t\tbackground-color:#d1561b;\n\t}\n\n\t.aaochat-tab-view {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-width:100%;\n\t}\n\t.aaochat-message-list {\n\t\tdisplay:flex;\n\t\tflex:1;\n\t\tflex-direction: column-reverse;\n\t\tpadding: 10px;\n\t\theight: auto;\n\t\toverflow: auto;\n\t}\n\t// Form CSS start \n\t.aaochat-message-form-wrapper {\n\t\t\n\t}\n\t.aaochat-message-form {\n\t\t\n\t}\n\n\t#tab-aaochat .aaochat-send-message-row {\n\t\tbackground-color:white;\n\t\tpadding-bottom: 0px;\n\t\tpadding-top: 15px;\n\t\tline-height: 0px;\n\t}\n\t#tab-aaochat .attach-button {\n\t\tborder-left: 1px solid #dcdcdc;\n\t\tborder-top: 1px solid #dcdcdc;\n\t\tborder-bottom: 1px solid #dcdcdc;\n\t\tborder-radius: 14px 2px 2px 14px;\n\t}\n\n\t#tab-aaochat .input-group-addon, #tab-aaochat .input-group-btn {\n\t\twhite-space: nowrap;\n\t\tvertical-align: middle;\n\t\tdisplay: table-cell;\n\t}\n\t#tab-aaochat .input-group-btn {\n\t\tposition: relative;\n\t\tfont-size: 0;\n\t\twhite-space: nowrap;\n\t\tmargin: 0;\n\t\tpadding: 0px !important;\n\t}\n\t#tab-aaochat .input-group {\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tborder-collapse: separate;\n\t\twidth: 100%;\n\t\talign-items: center;\n\t}\n\t#tab-aaochat #newMessageContainer .form-control {\n\t\tposition: relative;\n\t\tz-index: 2;\n\t\tfloat: left;\n\t\twidth: 100%;\n\t\tmargin-bottom: 0;\n\t}\n\t#tab-aaochat .chat .chat-message button {\n\t\tfloat: right;\n\t\tcolor: #94C2ED;\n\t\tfont-size: 16px;\n\t\ttext-transform: uppercase;\n\t\tborder: none;\n\t\tcursor: pointer;\n\t\tfont-weight: bold;\n\t\tbackground: #F2F5F8;\n\t}\n\t#tab-aaochat .no-border-button {\n\t\tborder: 0px !important;\n\t\tfont-size: 20px;\n\t\tbackground-color: transparent !important;\n\t}\n\t#tab-aaochat .btn {\n\t\tdisplay: inline-block;\n\t\tpadding: 6px 8px;\n\t\tmargin-bottom: 0;\n\t\tfont-size: 14px;\n\t\tfont-weight: 400;\n\t\tline-height: 1.42857143;\n\t\ttext-align: center;\n\t\twhite-space: nowrap;\n\t\tvertical-align: middle;\n\t\t-ms-touch-action: manipulation;\n\t\ttouch-action: manipulation;\n\t\tcursor: pointer;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\t\t-ms-user-select: none;\n\t\tuser-select: none;\n\t\tbackground-image: none;\n\t\tborder: 1px solid transparent;\n\t\tborder-radius: 4px;\n\t\tmargin: 0px;\n\t}\n\t#tab-aaochat .option-btn {\n\t\tdisplay: inline-block;\n\t\tpadding: 3px 3px;\n\t\tmargin-bottom: 0;\n\t\tfont-size: 14px;\n\t\tfont-weight: 400;\n\t\tline-height: 0;\n\t\ttext-align: center;\n\t\twhite-space: nowrap;\n\t\tvertical-align: middle;\n\t\t-ms-touch-action: manipulation;\n\t\ttouch-action: manipulation;\n\t\tcursor: pointer;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\t\t-ms-user-select: none;\n\t\tuser-select: none;\n\t\tbackground-image: none;\n\t\tborder: 1px solid transparent;\n\t\tborder-radius: 4px;\n\t\tmargin: 0px;\n\t\tmin-height: 25px;\n\t}\n\t#tab-aaochat .btn-default {\n\t\tcolor: #333;\n\t\tbackground-color: #fff;\n\t\tborder-color: #ccc;\n\t}\n\t#tab-aaochat .btn-group-lg>.btn, #tab-aaochat .btn-lg {\n\t\tpadding: 10px 8px;\n\t\tfont-size: 18px;\n\t\tline-height: 1.3333333;\n\t\tborder-radius: 6px;\n\t}\n\t#tab-aaochat .emoji-wysiwyg-editor {\n\t\tfont-family: "Roboto", sans-serif;\n\t\tborder-radius: 0px 14px 14px 0px !important;\n\t\toverflow: auto !important;\n\t\tmin-height: 40px !important;\n\t\tborder: 0px !important;\n\t\tpadding-right: 10px !important;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t#tab-aaochat .newMessageOptionsContainer {\n\t\t/* position: absolute; */\n\t\t/* top: 3px; */\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tborder: none;\n\t\t/* z-index: 0; */\n\t\tfont-size: 25px;\n\t\tpadding: 0px;\n\t\t/* right: 65px; */\n\t\t/* width: max-content; */\n\t\tbackground-color: transparent;\n\t}\n\t#tab-aaochat .newMessageOptionsContainer button {\n\t\tmargin-right: 5px;\n\t}\n\t#tab-aaochat .user-selection-btn {\n\t\t/* position: absolute; */\n\t\t/* top: 12px; */\n\t\t/* border: none; */\n\t\t/* z-index: 9; */\n\t\tz-index: 0;\n\t\tfont-size: 18px;\n\t\tpadding: 0px;\n\t\tpadding-left: 5px;\n\t\tpadding-right: 5px;\n\t\t/* right: 167px; */\n\t\tborder: 1px solid #dcdcdc;\n\t}\n\t#tab-aaochat .aaochat-fa {\n\t\tdisplay: inline-block;\n\t\tfont-size: inherit;\n\t\ttext-rendering: auto;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t}\n\t#tab-aaochat .aaochat-fa-paperclip {\n\t\tbackground-image: url(\'../../img/attachment.svg\');\n\t\twidth: 20px;\n\t\theight: 20px;\n\t}\n\t#tab-aaochat .aaochat-fa-paperclip:before {\n\t\n\t}\n\t#tab-aaochat .aaochat-fa-plus {\n\t\tbackground-image: url(\'../../img/plus.svg\');\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tbackground-repeat: no-repeat;\n\t}\n\t#tab-aaochat .aaochat-fa-clock-o {\n\t\tbackground-image: url(\'../../img/schedule msg.svg\');\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tbackground-repeat: no-repeat;\n\t}\n\t#tab-aaochat .aaochat-fa-chevron-right {\n\t\tbackground-image: url(\'../../img/right_arrow.svg\');\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tbackground-repeat: no-repeat;\n\t}\n\t#tab-aaochat .aaochat-send-message-btn {\n\t\tpadding: 0;\n\t\tborder: none;\n\t\tbackground: none;\n\t\tmargin:0px;\n\t\tmin-height: 50px;\n\t}\n\t#tab-aaochat .aaochat-send-message-btn img {\n\t\twidth: 40px;\n\t}\n\t#tab-aaochat .btn-send {\n\t\tborder-radius: 50% !important;\n\t\theight: 46px;\n\t\twidth: 46px;\n\t\tbackground-color: var(--main-color);\n\t\tz-index: 0 !important;\n\t\tcolor: white;\n\t\tpadding-left: 12px;\n\t}\n\n\t#tab-aaochat .btn-send:hover {\n\t\tbackground-color: var(--main-color-dark);\n\t\tcolor: white;\n\t}\n\n\t#tab-aaochat .btn-send:focus {\n\t\toutline: none;\n\t\tbackground-color: var(--main-color-dark);\n\t\tcolor: white;\n\t}\n\t#tab-aaochat .chat .chat-message button {\n\n\t}\n\n\t#tab-aaochat .chat .chat-message button:hover {\n\t\tcolor: #75b1e8;\n\t}\n\n\t#tab-aaochat #newMessageContainer {\n\t\tpadding-right: 12px;\n\t\tpadding-left: 12px;\n\t\tscrollbar-color: gray transparent;\n\t\tscrollbar-width: thin;\n\t}\n\t#tab-aaochat #newMessageContainer {\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tborder: 1px solid rgb(210, 219, 227);\n\t\tmargin-right: 10px;\n\t\tborder-radius: 20px 20px 20px 20px;\n\t\talign-items: center;\n\t\theight: 50px;\n\t}\n\t#tab-aaochat #txtMessage {\n\t\tresize: none;\n\t\tbox-sizing: content-box;\n\t\tborder-radius: 5px;\n\t\twidth: calc(100% - 30px);\n\t\tborder: none;\n\t\tmin-height: 25px;\n\t\tpadding: 5px;\n\t\tmargin: 0px;\n\t\tfont-size: 16px;\n\t\t/*display: none;*/\n\t}\n\n\t#tab-aaochat #txtMessage::-webkit-input-placeholder {\n\t\tfont-style: italic;\n\t}\n\n\t#tab-aaochat #txtMessage:-moz-placeholder {\n\t\tfont-style: italic;\n\t}\n\n\t#tab-aaochat #txtMessage::-moz-placeholder {\n\t\tfont-style: italic;\n\t}\n\n\t#tab-aaochat #txtMessage:-ms-input-placeholder {\n\t\tfont-style: italic;\n\t}\n\n\t#tab-aaochat #txtMessage:focus {\n\t\tbox-shadow: none;\n\t}\n\t// Form CSS end \n</style>'],sourceRoot:""}]);const i=s},8987:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(7537),o=n.n(r),a=n(3645),s=n.n(a)()(o());s.push([t.id,"\n.message-container[data-v-3307282a] {\n\t\tposition:relative;\n\t\tpadding:10px 15px 20px;\n\t\tborder-radius:5px;\n\t\tmax-width: 70%;\n\t\tmin-width: 150px;\n}\n.message-text[data-v-3307282a]{\n\t\twhite-space: pre-wrap;       /* css-3 */\n\t\twhite-space: -moz-pre-wrap;  /* Mozilla, since 1999 */\n\t\twhite-space: -pre-wrap;      /* Opera 4-6 */\n\t\twhite-space: -o-pre-wrap;    /* Opera 7 */\n\t\tword-wrap: break-word;   \n\t\toverflow-wrap: anywhere;\n}\n.created-at[data-v-3307282a] {\n\t\tposition: absolute;\n\t\tbottom: 1px;\n\t\tright: 10px;\n}\n.message-time[data-v-3307282a] {\n\t\tcolor: #a8aab1;\n\t\tpadding-left: 6px;\n\t\tfont-size: 11px;\n}\n.my-message[data-v-3307282a]{\n\t\tdisplay:flex;\n\t\tjustify-content: end;\n\t\tmargin-bottom:10px;\n}\n.my-message .message-user[data-v-3307282a]{\n\t\tdisplay:none;\n}\n.other-message[data-v-3307282a] {\n\t\tdisplay:flex;\n\t\tjustify-content: start;\n\t\tmargin-bottom:10px;\n}\n.other-message .message-user[data-v-3307282a]{\n\t\tcolor:#f95100;\n}\n.my-message .reply-message-user[data-v-3307282a]{\n\t\tcolor:#f95100;\n}\n#tab-aaochat .message-container.private[data-v-3307282a] {\n\t\tbackground-color: #fcf8e3 !important;\n    \tborder: 1px solid #ece8cf;\n}\n#tab-aaochat .alert-info[data-v-3307282a] {\n\t\tcolor: #31708f;\n\t\tbackground-color: #d9edf7;\n\t\tborder-color: #bce8f1;\n}\n#tab-aaochat .message-container .private .message-label[data-v-3307282a] {\n\t\tfont-size: 11px;\n\t\tcolor: gray;\n\t\tline-height: 14px;\n}\n#tab-aaochat .trashed .message-text[data-v-3307282a] {\n\t\tfont-size: 14px;\n}\n.my-message .message-container[data-v-3307282a] {\n\t\tbackground-color:#d9edf7;\n}\n.other-message .message-container[data-v-3307282a] {\n\t\tbackground-color:#dcdcdc;\n}\n#tab-aaochat .seen-msg[data-v-3307282a]::before {\n\t\tcolor: #f95100 !important;\n}\n#tab-aaochat .message-container .reply-container[data-v-3307282a] {\n\t\tmargin-top: 5px;\n\t\tborder: 1px solid #dcdcdc;\n\t\tborder-left: 3px solid #f95100;\n\t\tfont-size: 16px;\n\t\tborder-radius: 4px;\n\t\tpadding: 10px;\n\t\tbackground-color: #efefef;\n\t\tmax-width: 100%;\n\t\toverflow-wrap: break-word;\n\t\tword-break: break-all;\n\t\tcursor: pointer;\n}\n#tab-aaochat .message-container .reply-container .message-text[data-v-3307282a] {\n\t\tcursor: pointer;\n}\n","",{version:3,sources:["webpack://./src/views/AaochtMessage.vue"],names:[],mappings:";AAgKA;EACA,iBAAA;EACA,sBAAA;EACA,iBAAA;EACA,cAAA;EACA,gBAAA;AACA;AAEA;EACA,qBAAA,QAAA,UAAA;EACA,0BAAA,GAAA,wBAAA;EACA,sBAAA,OAAA,cAAA;EACA,wBAAA,KAAA,YAAA;EACA,qBAAA;EACA,uBAAA;AACA;AACA;EACA,kBAAA;EACA,WAAA;EACA,WAAA;AACA;AACA;EACA,cAAA;EACA,iBAAA;EACA,eAAA;AACA;AAEA;EACA,YAAA;EACA,oBAAA;EACA,kBAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,YAAA;EACA,sBAAA;EACA,kBAAA;AACA;AAEA;EACA,aAAA;AACA;AACA;EACA,aAAA;AACA;AAEA;EACA,oCAAA;KACA,yBAAA;AACA;AACA;EACA,cAAA;EACA,yBAAA;EACA,qBAAA;AACA;AACA;EACA,eAAA;EACA,WAAA;EACA,iBAAA;AACA;AACA;EACA,eAAA;AACA;AAEA;EACA,wBAAA;AACA;AAEA;EACA,wBAAA;AACA;AACA;EACA,yBAAA;AACA;AACA;EACA,eAAA;EACA,yBAAA;EACA,8BAAA;EACA,eAAA;EACA,kBAAA;EACA,aAAA;EACA,yBAAA;EACA,eAAA;EACA,yBAAA;EACA,qBAAA;EACA,eAAA;AACA;AACA;EACA,eAAA;AACA",sourcesContent:['\x3c!--\n  - @copyright Copyright (c) 2023 Aao Business Chat <info@aaochat.com>\n  -\n  - @author Aao Business Chat <info@aaochat.com>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  --\x3e\n<template>\n\t<div :id="\'message-\'+message.message_id">\n\t\t<div v-if="canShowDateTag()" style="text-align:center; margin-bottom: 10px;">\n\t\t <span style="background-color: #efefef; border-radius: 5px; padding:8px;">{{canShowDateTag()}}</span>\t\n\t\t</div>\n\t<div :class="[message.user && loggedUser.uid==message.user.user_name ? \'my-message\':\'other-message\']">\n\t\t<div class="message-container" :class="[message.is_private==true ? \'private\':\'\']" v-if="message.message_type!=6">\n\t\t\n\t\t\t<div  v-if="message.message_type!=6 && message.trashed!=true">\n\t\t\t\t<span class="message-label" v-if="message.is_private==true">Private</span>\n\t\t\t\t<span class="message-label" v-if="message.is_reminder==true">Reminder</span>\n\t\t\t\t<b v-if="message.user.user_name!=loggedUser.uid" class="message-user">{{message.user.full_name}}</b>\n\t\t\t\t\n\t\t\t\t\x3c!-- Reply object --\x3e\n\t\t\t\t<a v-if="message.reply" :href="\'#message-\'+message.reply.message_id" :id="\'reply-\'+message.reply.message_id">\n\t\t\t\t\t<div v-if="message.reply" class="reply-container" @click="scrollToReply(message.reply)">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<b v-if="message.reply.user.user_name!=loggedUser.uid" class="reply-message-user">\n\t\t\t\t\t\t\t{{ message.reply.user.full_name }}\n\t\t\t\t\t\t</b>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<AaochtMessageAttachment  :attachments="message.reply.attachments" />\n\t\t\t\t\t\t\t<pre class="message-text">{{message.reply.message}}</pre>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t\t\x3c!-- End of reply object --\x3e\n\t\t\t\t<div>\n\t\t\t\t\t<AaochtMessageAttachment  :attachments="message.attachments" />\n\t\t\t\t\t<pre class="message-text">{{message.message}}</pre>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="trashed" v-if="message.trashed==true">\n\t\t\t\t<span class="message-text">This message is deleted.</span>\n\t\t\t</div>\n\n\t\t\t<div class="created-at" v-if="message.message_type!=6 && message.trashed!=true">\n\t\t\t\t<small class="message-time" >{{messageLocalTime()}}</small>\n\t\t\t\t<small v-show="message.user.user_name==loggedUser.uid && message.is_reminder!=1"><i :class="[message.seen ? \'icon-double-tick-icon seen-msg\': message.delivered ?  \'icon-double-tick-icon gray-txt\' : \'icon-single-tick-icon gray-txt\']"></i></small>\n\t\t\t</div>\n\t\t\t\t\n\t\t</div>\n\t</div>\n\t</div>\n</template>\n\n<script>\n\nimport AaochtMessageAttachment from \'./AaochtMessageAttachment.vue\'\n\n/**\n * @typedef RichObject\n * @type {object}\n * @property {string} id - The id of the riche object.\n * @property {string} type - The type of the file object.\n */\n\nexport default {\n\tname: \'AaochtMessage\',\n\tcomponents: {\n\t\tAaochtMessageAttachment\n\t},\n\tprops: {\n\t\t/**\n\t\t * The AaochtMessage to render.\n\t\t */\n\t\tpreviousMessageTimestamp:{\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdateFromNow: \'\',\n\t\t\tloggedUser: OC.getCurrentUser(),\n\t\t\tdateInterval: 0,\n\t\t}\n\t},\n\tcomputed: {\n\t\t\n\t},\n\tcreated() {\n\n\t},\n\tdestroyed() {\n\n\t},\n\tmethods: {\n\n\t\tgetDateFromUTCString(dateString){\n\t\t\tconst messageDate = new Date(dateString);\n\t\t\tconst options = { year: \'numeric\', month: \'short\', day: \'numeric\' };\n\t\t\tconst formatedDate = messageDate.toLocaleDateString(undefined, options);\n\t\t\treturn formatedDate;\n\t\t},\n\n\t\tcanShowDateTag(){\n\n\t\t\tif(this.previousMessageTimestamp==null){\n\t\t\t\treturn this.getDateFromUTCString(this.message.created_at);\n\t\t\t}\n\n\t\t\tconst previousDate = this.getDateFromUTCString(this.previousMessageTimestamp);\n\t\t\tconst messageDate = this.getDateFromUTCString(this.message.created_at);\n\n\t\t\tif(messageDate==previousDate){\n\t\t\t\treturn false;\n\t\t\t}else{\n\t\t\t\treturn messageDate;\n\t\t\t}\n\t\t},\t\n\n\t\tmessageLocalTime() {\n\t\t\tconst messageDate = new Date(this.message.created_at);\n\t\t\tconst options = { year: \'numeric\', month: \'short\', day: \'numeric\' };\n\t\t\tconst formatedDate = messageDate.toLocaleDateString(undefined, options);\n\t\t\tconst formatedTime = messageDate.toLocaleTimeString(\'en-US\', {\n\t\t\t\thour:   \'2-digit\',\n\t\t\t\tminute: \'2-digit\',\n\t\t\t});\n          return formatedDate+\' \'+formatedTime;\n\t\t},\n\t\tscrollToReply(replyMessage) {\n\t\t\t//console.log(replyMessage);\n\t\t\tif(document.getElementById("message-"+replyMessage.message_id) == null) {\n\t\t\t\tthis.$parent.scrollToReply(replyMessage);\n\t\t\t}\n\t\t}\n\t},\n}\n<\/script>\n\n<style lang="css" scoped>\n\t.message-container {\n\t\tposition:relative;\n\t\tpadding:10px 15px 20px;\n\t\tborder-radius:5px;\n\t\tmax-width: 70%;\n\t\tmin-width: 150px;\n\t}\n\n\t.message-text{\n\t\twhite-space: pre-wrap;       /* css-3 */\n\t\twhite-space: -moz-pre-wrap;  /* Mozilla, since 1999 */\n\t\twhite-space: -pre-wrap;      /* Opera 4-6 */\n\t\twhite-space: -o-pre-wrap;    /* Opera 7 */\n\t\tword-wrap: break-word;   \n\t\toverflow-wrap: anywhere;\n\t}\n\t.created-at {\n\t\tposition: absolute;\n\t\tbottom: 1px;\n\t\tright: 10px;\n\t}\n\t.message-time {\n\t\tcolor: #a8aab1;\n\t\tpadding-left: 6px;\n\t\tfont-size: 11px;\n\t}\n\t\n\t.my-message{\n\t\tdisplay:flex;\n\t\tjustify-content: end;\n\t\tmargin-bottom:10px;\n\t}\n\n\t.my-message .message-user{\n\t\tdisplay:none;\n\t}\n\n\t.other-message {\n\t\tdisplay:flex;\n\t\tjustify-content: start;\n\t\tmargin-bottom:10px;\n\t}\n\n\t.other-message .message-user{\n\t\tcolor:#f95100;\n\t}\n\t.my-message .reply-message-user{\n\t\tcolor:#f95100;\n\t}\n\n\t#tab-aaochat .message-container.private {\n\t\tbackground-color: #fcf8e3 !important;\n    \tborder: 1px solid #ece8cf;\n\t}\n\t#tab-aaochat .alert-info {\n\t\tcolor: #31708f;\n\t\tbackground-color: #d9edf7;\n\t\tborder-color: #bce8f1;\n\t}\n\t#tab-aaochat .message-container .private .message-label {\n\t\tfont-size: 11px;\n\t\tcolor: gray;\n\t\tline-height: 14px;\n\t}\n\t#tab-aaochat .trashed .message-text {\n\t\tfont-size: 14px;\n\t}\n\n\t.my-message .message-container {\n\t\tbackground-color:#d9edf7;\n\t}\n\n\t.other-message .message-container {\n\t\tbackground-color:#dcdcdc;\n\t}\n\t#tab-aaochat .seen-msg::before {\n\t\tcolor: #f95100 !important;\n\t}\n\t#tab-aaochat .message-container .reply-container {\n\t\tmargin-top: 5px;\n\t\tborder: 1px solid #dcdcdc;\n\t\tborder-left: 3px solid #f95100;\n\t\tfont-size: 16px;\n\t\tborder-radius: 4px;\n\t\tpadding: 10px;\n\t\tbackground-color: #efefef;\n\t\tmax-width: 100%;\n\t\toverflow-wrap: break-word;\n\t\tword-break: break-all;\n\t\tcursor: pointer;\n\t}\n\t#tab-aaochat .message-container .reply-container .message-text {\n\t\tcursor: pointer;\n\t}\n</style>'],sourceRoot:""}]);const i=s},938:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(7537),o=n.n(r),a=n(3645),s=n.n(a)()(o());s.push([t.id,"\n#tab-aaochat .chat-attachment-box[data-v-379443a0] {\n\twidth: 100%;\n\talign-items: center;\n\tmargin-bottom: 5px;\n\tdisplay: flex;\n\tword-break: break-all;\n}\n#tab-aaochat .file-icon-container[data-v-379443a0] {\n\tpadding: 5px;\n\tbackground-color: white;\n\ttext-align: center;\n\twidth: 40px;\n\theight: 40px;\n\tborder-radius: 5px;\n\tmargin-right: 15px;\n}\n#tab-aaochat .file-icon-container img[data-v-379443a0] {\n\theight: 30px;\n\tvertical-align: middle;\n\tborder: 0;\n}\n\n","",{version:3,sources:["webpack://./src/views/AaochtMessageAttachment.vue"],names:[],mappings:";AA6IA;CACA,WAAA;CACA,mBAAA;CACA,kBAAA;CACA,aAAA;CACA,qBAAA;AACA;AACA;CACA,YAAA;CACA,uBAAA;CACA,kBAAA;CACA,WAAA;CACA,YAAA;CACA,kBAAA;CACA,kBAAA;AACA;AAEA;CACA,YAAA;CACA,sBAAA;CACA,SAAA;AACA",sourcesContent:["\x3c!--\n  - @copyright Copyright (c) 2023 Aao Business Chat <info@aaochat.com>\n  -\n  - @author Aao Business Chat <info@aaochat.com>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  --\x3e\n<template>\n\t<div v-if=\"attachments.length > 0\">\n\t<div  v-for=\"attachment in attachments\" :key=\"attachment.file_id\">\n\t\t<div class=\"chat-image\" v-if=\"(attachment.extension=='png'||attachment.extension=='jpg'||attachment.extension=='jpeg'||attachment.extension=='gif')\">\n\t\t\t<img draggable=\"false\" :src=\"getAttachmentThumbUrl(attachment)\" style=\"width:100%\" alt=\"\">\n\t\t</div>\n\t\t\n\t\t<a class=\"chat-attachment-box\" v-if=\"(attachment.extension=='mp4'||attachment.extension=='ogg'||attachment.extension=='webm')\">\n\t\t\t<div class=\"file-icon-container\">\n\t\t\t\t<img :src=\"aaoChatServerURL+'/public/images/'+getFileIcon(attachment)\" alt=\"\">\n\t\t\t</div>\n\t\t\t{{attachment.display_name}}\n\t\t</a>\n\n\t\t<div class=\"chat-image\" v-if=\"(attachment.extension=='mp3'||attachment.extension=='wav'||attachment.extension=='m4a')\">\n\t\t\t<audio controls style=\"margin-bottom: -8px\">\n\t\t\t\t<source :src=\"getAttachmentUrl(attachment)\" :type=\"'audio/'+attachment.extension=='m4a'?'mp3':attachment.extension\" />\n\t\t\t</audio>\n\t\t</div>\n\n\t\t<a class=\"chat-attachment-box\"\n\t\tv-if=\"!(attachment.extension=='mp3'||attachment.extension=='m4a'||attachment.extension=='wav'||attachment.extension=='png'||attachment.extension=='jpg'||attachment.extension=='jpeg'||attachment.extension=='gif'||attachment.extension=='mp4'||attachment.extension=='ogg'||attachment.extension=='webm')\">\n\t\t\t<div class=\"file-icon-container\">\n\t\t\t\t<img :src=\"aaoChatServerURL+'/public/images/'+getFileIcon(attachment)\" alt=\"\">\n\t\t\t</div>\n\t\t\t{{attachment.display_name}}\n\t\t</a>\n\t</div>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tname: 'AaochtMessageAttachment',\n\tcomponents: {\n\n\t},\n\tprops: {\n\t\t/**\n\t\t * The AaochtMessageAttachment to render.\n\t\t */\n\t\t attachments: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdateFromNow: '',\n\t\t\tloggedUser: OC.getCurrentUser(),\n\t\t\tdateInterval: 0,\n\t\t\tauthKey: localStorage.getItem(\"ngStorage-AuthKey\").replace(/\"/g,''),\n            aaoChatServerURL: localStorage.getItem(\"nextcloud-AaoChatServerURL\"),\n            aaoChatFileServerURL: localStorage.getItem(\"nextcloud-AaoChatFileServerURL\"),\n\t\t}\n\t},\n\tcomputed: {\n\t\t\n\t},\n\tcreated() {\n\n\t},\n\tdestroyed() {\n\n\t},\n\tmethods: {\n\t\tgetAttachmentUrl(attachment) {\n\t\t\treturn this.aaoChatFileServerURL+'/download/attachment/'+attachment.file_id+'.'+attachment.extension+'?authKey='+this.authKey\n\t\t},\n\t\tgetAttachmentThumbUrl(attachment) {\n\t\t\treturn this.aaoChatFileServerURL+'/download/attachment/thumb/'+attachment.file_id+'.'+attachment.extension+'?authKey='+this.authKey\n\t\t},\n\t\tgetFileIcon(attachment) {\n\t\t\tlet extension = attachment.extension;\n\t\t\tif (['pdf'].includes(extension)) {\n                return 'pdf.svg';\n            } else if (['doc', 'docx', 'rtf'].includes(extension)) {\n                return 'doc.svg'\n            } else if (['ppt', 'pptx'].includes(extension)) {\n                return 'ppt.svg'\n            } else if (['xls', 'csv', 'xlsx'].includes(extension)) {\n                return 'xls.svg'\n            } else if (['txt'].includes(extension)) {\n                return 'txt.svg'\n            } else if (['mp4', 'ogg', 'webm'].includes(extension)) {\n                return 'play-media.png'\n            } else {\n                return 'file.svg'\n            }\n\t\t}\n\t},\n}\n<\/script>\n\n<style lang=\"css\" scoped>\n\t#tab-aaochat .chat-attachment-box {\n\t\twidth: 100%;\n\t\talign-items: center;\n\t\tmargin-bottom: 5px;\n\t\tdisplay: flex;\n\t\tword-break: break-all;\n\t}\n\t#tab-aaochat .file-icon-container {\n\t\tpadding: 5px;\n\t\tbackground-color: white;\n\t\ttext-align: center;\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tborder-radius: 5px;\n\t\tmargin-right: 15px;\n\t}\n\n\t#tab-aaochat .file-icon-container img {\n\t\theight: 30px;\n\t\tvertical-align: middle;\n\t\tborder: 0;\n\t}\n\t\n</style>"],sourceRoot:""}]);const i=s},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(s[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&s[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},1667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},7537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},5983:(t,e,n)=>{t.exports=n(2192),t.exports.parser=n(2983)},2192:(t,e,n)=>{var r=n(3352),o=n(8767),a=n(4802)("engine.io-client:socket"),s=n(7355),i=n(2983),c=n(4187),l=n(1830);function u(t,e){if(!(this instanceof u))return new u(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=c(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=c(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=u,u.priorWebsocketSuccess=!1,o(u.prototype),u.protocol=i.protocol,u.Socket=u,u.Transport=n(6496),u.transports=n(3352),u.parser=n(2983),u.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=i.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},u.prototype.open=function(){var t;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},u.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},u.prototype.probe=function(t){a('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var o=!this.supportsBinary&&r.transport.supportsBinary;n=n||o}n||(a('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(a('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;u.priorWebsocketSuccess="websocket"===e.name,a('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(a("changing transport and sending upgrade packet"),h(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())}))}else{a('probe transport "%s" failed',t);var s=new Error("probe error");s.transport=e.name,r.emit("upgradeError",s)}})))}function s(){n||(n=!0,h(),e.close(),e=null)}function i(n){var o=new Error("probe error: "+n);o.transport=e.name,s(),a('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",o)}function c(){i("transport closed")}function l(){i("socket closed")}function p(t){e&&t.name!==e.name&&(a('"%s" works - aborting "%s"',t.name,e.name),s())}function h(){e.removeListener("open",o),e.removeListener("error",i),e.removeListener("close",c),r.removeListener("close",l),r.removeListener("upgrading",p)}u.priorWebsocketSuccess=!1,e.once("open",o),e.once("error",i),e.once("close",c),this.once("close",l),this.once("upgrading",p),e.open()},u.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},u.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},u.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},u.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},u.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():e()})):this.upgrading?r():e()}function e(){t.onClose("forced close"),a("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},u.prototype.onError=function(t){a("socket error %j",t),u.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},u.prototype.onClose=function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(a('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},u.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~s(this.transports,t[n])&&e.push(t[n]);return e}},6496:(t,e,n)=>{var r=n(2983),o=n(8767);function a(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=a,o(a.prototype),a.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},a.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},a.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},a.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},a.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},a.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},a.prototype.onPacket=function(t){this.emit("packet",t)},a.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},3352:(t,e,n)=>{var r=n(2777),o=n(3416),a=n(9785),s=n(4442);e.polling=function(t){var e=!1,n=!1,s=!1!==t.jsonp;if("undefined"!=typeof location){var i="https:"===location.protocol,c=location.port;c||(c=i?443:80),e=t.hostname!==location.hostname||c!==t.port,n=t.secure!==i}if(t.xdomain=e,t.xscheme=n,"open"in new r(t)&&!t.forceJSONP)return new o(t);if(!s)throw new Error("JSONP disabled");return new a(t)},e.websocket=s},9785:(t,e,n)=>{var r=n(9015),o=n(3861);t.exports=u;var a,s=/\n/g,i=/\\n/g;function c(){}function l(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}}function u(t){if(r.call(this,t),this.query=this.query||{},!a){var e=l();a=e.___eio=e.___eio||[]}this.index=a.length;var n=this;a.push((function(t){n.onData(t)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=c)}),!1)}o(u,r),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},u.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},u.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,o=document.createElement("form"),a=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=c,o.method="POST",o.setAttribute("accept-charset","utf-8"),a.name="d",o.appendChild(a),document.body.appendChild(o),this.form=o,this.area=a}function l(){u(),e()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),u(),t=t.replace(i,"\\\n"),this.area.value=t.replace(s,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}},3416:(t,e,n)=>{var r=n(2777),o=n(9015),a=n(8767),s=n(3861),i=n(4802)("engine.io-client:polling-xhr");function c(){}function l(t){if(o.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function u(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(t.exports=l,t.exports.Request=u,s(l,o),l.prototype.supportsBinary=!0,l.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new u(t)},l.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),o=this;r.on("success",e),r.on("error",(function(t){o.onError("xhr post error",t)})),this.sendXhr=r},l.prototype.doPoll=function(){i("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},a(u.prototype),u.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new r(t),n=this;try{i("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout((function(){n.onError(e.status)}),0))},i("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout((function(){n.onError(t)}),0)}"undefined"!=typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},u.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},u.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},u.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",h);else if("function"==typeof addEventListener){var p="onpagehide"in self?"pagehide":"unload";addEventListener(p,h,!1)}function h(){for(var t in u.requests)u.requests.hasOwnProperty(t)&&u.requests[t].abort()}},9015:(t,e,n)=>{var r=n(6496),o=n(1830),a=n(2983),s=n(3861),i=n(2281),c=n(4802)("engine.io-client:polling");t.exports=u;var l=null!=new(n(2777))({xdomain:!1}).responseType;function u(t){var e=t&&t.forceBase64;l&&!e||(this.supportsBinary=!1),r.call(this,t)}s(u,r),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||n()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||n()})))}else n()},u.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(t){var e=this;c("polling got data %s",t),a.decodePayload(t,this.socket.binaryType,(function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},u.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};a.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,n)}))},u.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=i()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},4442:(t,e,n)=>{var r,o,a=n(6496),s=n(2983),i=n(1830),c=n(3861),l=n(2281),u=n(4802)("engine.io-client:websocket");if("undefined"!=typeof WebSocket)r=WebSocket;else if("undefined"!=typeof self)r=self.WebSocket||self.MozWebSocket;else try{o=n(7020)}catch(t){}var p=r||o;function h(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=r&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(p=o),a.call(this,t)}t.exports=h,c(h,a),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new p(t,e):new p(t):new p(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},h.prototype.write=function(t){var e=this;this.writable=!1;for(var n=t.length,r=0,o=n;r<o;r++)!function(t){s.encodePacket(t,e.supportsBinary,(function(r){if(!e.usingBrowserWebSocket){var o={};t.options&&(o.compress=t.options.compress),e.perMessageDeflate&&("string"==typeof r?Buffer.byteLength(r):r.length)<e.perMessageDeflate.threshold&&(o.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(r):e.ws.send(r,o)}catch(t){u("websocket closed before onclose event")}--n||(e.emit("flush"),setTimeout((function(){e.writable=!0,e.emit("drain")}),0))}))}(t[r])},h.prototype.onClose=function(){a.prototype.onClose.call(this)},h.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},h.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=l()),this.supportsBinary||(t.b64=1),(t=i.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},h.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===h.prototype.name)}},2777:(t,e,n)=>{var r=n(8058);t.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(t){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},4802:(t,e,n)=>{var r=n(4155);function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(7616)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(a=o))})),t.splice(a,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())},7616:(t,e,n)=>{function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,a=o-(n||o);t.diff=a,t.prev=n,t.curr=o,n=o;for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var o=e.formatters[r];if("function"==typeof o){var a=s[c];n=o.call(t,a),s.splice(c,1),c--}return n})),e.formatArgs.call(t,s),(r.log||e.log||console.log.bind(console)).apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var a=e.instances[n];a.enabled=e.enabled(a.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(810),e.instances=[],e.names=[],e.skips=[],e.formatters={}},2983:(t,e,n)=>{var r,o=n(1905),a=n(3466),s=n(9718),i=n(6906),c=n(4346);"undefined"!=typeof ArrayBuffer&&(r=n(3704));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=l||u;e.protocol=3;var h=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=o(h),f={type:"error",data:"parser error"},g=n(5548);function m(t,e,n){for(var r=new Array(t.length),o=i(t.length,n),a=function(t,n,o){e(n,(function(e,n){r[t]=n,o(e,r)}))},s=0;s<t.length;s++)a(s,t[s],o)}e.encodePacket=function(t,n,r,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof r&&(o=r,r=null);var a=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=t.data,a=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=h[t.type];for(var i=0;i<a.length;i++)s[i+1]=a[i];return r(s.buffer)}(t,n,o);if(void 0!==g&&a instanceof g)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(p)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){e.encodePacket({type:t.type,data:o.result},n,!0,r)},o.readAsArrayBuffer(t.data)}(t,n,r);var o=new Uint8Array(1);return o[0]=h[t.type],r(new g([o.buffer,t.data]))}(t,n,o);if(a&&a.base64)return function(t,n){return n("b"+e.packets[t.type]+t.data.data)}(t,o);var s=h[t.type];return void 0!==t.data&&(s+=r?c.encode(String(t.data),{strict:!1}):String(t.data)),o(""+s)},e.encodeBase64Packet=function(t,n){var r,o="b"+e.packets[t.type];if(void 0!==g&&t.data instanceof g){var a=new FileReader;return a.onload=function(){var t=a.result.split(",")[1];n(o+t)},a.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),i=new Array(s.length),c=0;c<s.length;c++)i[c]=s[c];r=String.fromCharCode.apply(null,i)}return o+=btoa(r),n(o)},e.decodePacket=function(t,n,r){if(void 0===t)return f;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=function(t){try{t=c.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return f;var o=t.charAt(0);return Number(o)==o&&d[o]?t.length>1?{type:d[o],data:t.substring(1)}:{type:d[o]}:f}o=new Uint8Array(t)[0];var a=s(t,1);return g&&"blob"===n&&(a=new g([a])),{type:d[o],data:a}},e.decodeBase64Packet=function(t,e){var n=d[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var o=r.decode(t.substr(1));return"blob"===e&&g&&(o=new g([o])),{type:n,data:o}},e.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var o=a(t);return n&&o?g&&!p?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r):t.length?void m(t,(function(t,r){e.encodePacket(t,!!o&&n,!1,(function(t){r(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return r(e.join(""))})):r("0:")},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);var o;if("function"==typeof n&&(r=n,n=null),""===t)return r(f,0,1);for(var a,s,i="",c=0,l=t.length;c<l;c++){var u=t.charAt(c);if(":"===u){if(""===i||i!=(a=Number(i)))return r(f,0,1);if(i!=(s=t.substr(c+1,a)).length)return r(f,0,1);if(s.length){if(o=e.decodePacket(s,n,!1),f.type===o.type&&f.data===o.data)return r(f,0,1);if(!1===r(o,c+a,l))return}c+=a,i=""}else i+=u}return""!==i?r(f,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));m(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){return n(null,t)}))}),(function(t,e){var r=e.reduce((function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2}),0),o=new Uint8Array(r),a=0;return e.forEach((function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}o[a++]=e?0:1;var i=n.byteLength.toString();for(s=0;s<i.length;s++)o[a++]=parseInt(i[s]);for(o[a++]=255,r=new Uint8Array(n),s=0;s<r.length;s++)o[a++]=r[s]})),n(o.buffer)}))},e.encodePayloadAsBlob=function(t,n){m(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,e[0]=0}var a=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(a.length+1);for(o=0;o<a.length;o++)s[o]=parseInt(a[o]);if(s[a.length]=255,g){var i=new g([e.buffer,s.buffer,t]);n(null,i)}}))}),(function(t,e){return n(new g(e))}))},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var o=t,a=[];o.byteLength>0;){for(var i=new Uint8Array(o),c=0===i[0],l="",u=1;255!==i[u];u++){if(l.length>310)return r(f,0,1);l+=i[u]}o=s(o,2+l.length),l=parseInt(l);var p=s(o,0,l);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(t){var h=new Uint8Array(p);for(p="",u=0;u<h.length;u++)p+=String.fromCharCode(h[u])}a.push(p),o=s(o,l)}var d=a.length;a.forEach((function(t,o){r(e.decodePacket(t,n,!0),o,d)}))}},1905:t=>{t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},4346:t=>{var e,n,r,o=String.fromCharCode;function a(t){for(var e,n,r=[],o=0,a=t.length;o<a;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<a?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function s(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function i(t,e){return o(t>>e&63|128)}function c(t,e){if(0==(4294967168&t))return o(t);var n="";return 0==(4294965248&t)?n=o(t>>6&31|192):0==(4294901760&t)?(s(t,e)||(t=65533),n=o(t>>12&15|224),n+=i(t,6)):0==(4292870144&t)&&(n=o(t>>18&7|240),n+=i(t,12),n+=i(t,6)),n+o(63&t|128)}function l(){if(r>=n)throw Error("Invalid byte index");var t=255&e[r];if(r++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function u(t){var o,a;if(r>n)throw Error("Invalid byte index");if(r==n)return!1;if(o=255&e[r],r++,0==(128&o))return o;if(192==(224&o)){if((a=(31&o)<<6|l())>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&o)){if((a=(15&o)<<12|l()<<6|l())>=2048)return s(a,t)?a:65533;throw Error("Invalid continuation byte")}if(240==(248&o)&&(a=(7&o)<<18|l()<<12|l()<<6|l())>=65536&&a<=1114111)return a;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=a(t),o=r.length,s=-1,i="";++s<o;)i+=c(r[s],n);return i},decode:function(t,s){var i=!1!==(s=s||{}).strict;e=a(t),n=e.length,r=0;for(var c,l=[];!1!==(c=u(i));)l.push(c);return function(t){for(var e,n=t.length,r=-1,a="";++r<n;)(e=t[r])>65535&&(a+=o((e-=65536)>>>10&1023|55296),e=56320|1023&e),a+=o(e);return a}(l)}}},810:t=>{var e=1e3,n=60*e,r=60*n,o=24*r;function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,s){s=s||{};var i,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===c&&!1===isNaN(t))return s.long?a(i=t,o,"day")||a(i,r,"hour")||a(i,n,"minute")||a(i,e,"second")||i+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=r?Math.round(t/r)+"h":t>=n?Math.round(t/n)+"m":t>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},3466:(t,e,n)=>{var r=n(579),o=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);t.exports=function t(e){if(!e||"object"!=typeof e)return!1;if(r(e)){for(var n=0,o=e.length;n<o;n++)if(t(e[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||a&&e instanceof Blob||s&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0;return!1}},579:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},8058:t=>{try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},7355:t=>{var e=[].indexOf;t.exports=function(t,n){if(e)return t.indexOf(n);for(var r=0;r<t.length;++r)if(t[r]===n)return r;return-1}},1830:(t,e)=>{e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var a=n[r].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}},4187:t=>{var e=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var r=t,o=t.indexOf("["),a=t.indexOf("]");-1!=o&&-1!=a&&(t=t.substring(0,o)+t.substring(o,a).replace(/:/g,";")+t.substring(a,t.length));for(var s=e.exec(t||""),i={},c=14;c--;)i[n[c]]=s[c]||"";return-1!=o&&-1!=a&&(i.source=r,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i}},4155:t=>{var e,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var i,c=[],l=!1,u=-1;function p(){l&&i&&(l=!1,i.length?c=i.concat(c):u=-1,c.length&&h())}function h(){if(!l){var t=s(p);l=!0;for(var e=c.length;e;){for(i=c,c=[];++u<e;)i&&i[u].run();u=-1,e=c.length}i=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function f(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},6376:(t,e,n)=>{const r=n(4225),{MAX_LENGTH:o,MAX_SAFE_INTEGER:a}=n(3295),{safeRe:s,t:i}=n(5765),c=n(2893),{compareIdentifiers:l}=n(6742);class u{constructor(t,e){if(e=c(e),t instanceof u){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const n=t.trim().match(e.loose?s[i.LOOSE]:s[i.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<a)return e}return t})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(r("SemVer.compare",this.version,this.options,t),!(t instanceof u)){if("string"==typeof t&&t===this.version)return 0;t=new u(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof u||(t=new u(t,this.options)),l(this.major,t.major)||l(this.minor,t.minor)||l(this.patch,t.patch)}comparePre(t){if(t instanceof u||(t=new u(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const n=this.prerelease[e],o=t.prerelease[e];if(r("prerelease compare",e,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return l(n,o)}while(++e)}compareBuild(t){t instanceof u||(t=new u(t,this.options));let e=0;do{const n=this.build[e],o=t.build[e];if(r("prerelease compare",e,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return l(n,o)}while(++e)}inc(t,e,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,n),this.inc("pre",e,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e,n),this.inc("pre",e,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const t=Number(n)?1:0;if(!e&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[t];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(e===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(t)}}if(e){let r=[e,t];!1===n&&(r=[e]),0===l(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=u},8679:(t,e,n)=>{const r=n(6376);t.exports=(t,e)=>new r(t,e).major},3959:(t,e,n)=>{const r=n(6376);t.exports=(t,e,n=!1)=>{if(t instanceof r)return t;try{return new r(t,e)}catch(t){if(!n)return null;throw t}}},6397:(t,e,n)=>{const r=n(3959);t.exports=(t,e)=>{const n=r(t,e);return n?n.version:null}},3295:t=>{const e=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},4225:(t,e,n)=>{var r=n(4155);const o="object"==typeof r&&r.env&&r.env.NODE_DEBUG&&/\bsemver\b/i.test(r.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};t.exports=o},6742:t=>{const e=/^[0-9]+$/,n=(t,n)=>{const r=e.test(t),o=e.test(n);return r&&o&&(t=+t,n=+n),t===n?0:r&&!o?-1:o&&!r?1:t<n?-1:1};t.exports={compareIdentifiers:n,rcompareIdentifiers:(t,e)=>n(e,t)}},2893:t=>{const e=Object.freeze({loose:!0}),n=Object.freeze({});t.exports=t=>t?"object"!=typeof t?e:t:n},5765:(t,e,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o}=n(3295),a=n(4225),s=(e=t.exports={}).re=[],i=e.safeRe=[],c=e.src=[],l=e.t={};let u=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",r],[p,o]],d=(t,e,n)=>{const r=(t=>{for(const[e,n]of h)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t})(e),o=u++;a(t,o,e),l[t]=o,c[o]=e,s[o]=new RegExp(e,n?"g":void 0),i[o]=new RegExp(r,n?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),d("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${p}+`),d("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),d("FULL",`^${c[l.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),d("LOOSE",`^${c[l.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),d("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),d("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),d("COERCERTL",c[l.COERCE],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",d("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",d("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},6809:(t,e,n)=>{var r=n(3678),o=n(875),a=n(2739),s=n(3669)("socket.io-client");t.exports=e=c;var i=e.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o=r(t),c=o.source,l=o.id,u=o.path,p=i[l]&&u in i[l].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||p?(s("ignoring socket cache for %s",c),n=a(c,e)):(i[l]||(s("new io instance for %s",c),i[l]=a(c,e)),n=i[l]),o.query&&!e.query&&(e.query=o.query),n.socket(o.path,e)}e.protocol=o.protocol,e.connect=c,e.Manager=n(2739),e.Socket=n(8584)},2739:(t,e,n)=>{var r=n(5983),o=n(8584),a=n(8767),s=n(875),i=n(5464),c=n(6077),l=n(3669)("socket.io-client:manager"),u=n(7355),p=n(3010),h=Object.prototype.hasOwnProperty;function d(t,e){if(!(this instanceof d))return new d(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=d,d.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},d.prototype.updateSocketIds=function(){for(var t in this.nsps)h.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},d.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},a(d.prototype),d.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},d.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},d.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(t,e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var a=i(n,"open",(function(){o.onopen(),t&&t()})),s=i(n,"error",(function(e){if(l("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else o.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var u=setTimeout((function(){l("connect attempt timed out after %d",c),a.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(a),this.subs.push(s),this},d.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(i(t,"data",c(this,"ondata"))),this.subs.push(i(t,"ping",c(this,"onping"))),this.subs.push(i(t,"pong",c(this,"onpong"))),this.subs.push(i(t,"error",c(this,"onerror"))),this.subs.push(i(t,"close",c(this,"onclose"))),this.subs.push(i(this.decoder,"decoded",c(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(t){this.decoder.add(t)},d.prototype.ondecoded=function(t){this.emit("packet",t)},d.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},d.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new o(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",a),n.on("connect",(function(){n.id=r.generateId(t)})),this.autoConnect&&a()}function a(){~u(r.connecting,n)||r.connecting.push(n)}return n},d.prototype.destroy=function(t){var e=u(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},d.prototype.packet=function(t){l("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()})))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},d.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout((function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},d.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},5464:t=>{t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},8584:(t,e,n)=>{var r=n(875),o=n(8767),a=n(4042),s=n(5464),i=n(6077),c=n(3669)("socket.io-client:socket"),l=n(1830),u=n(3466);t.exports=d;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=o.prototype.emit;function d(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",i(this,"onopen")),s(t,"packet",i(this,"onpacket")),s(t,"close",i(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},d.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},d.prototype.emit=function(t){if(p.hasOwnProperty(t))return h.apply(this,arguments),this;var e=a(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:u(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},d.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},d.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?l.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},d.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},d.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===r.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},d.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},d.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var o=a(arguments);c("sending ack %j",o),e.packet({type:u(o)?r.BINARY_ACK:r.ACK,id:t,data:o})}}},d.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(t){return this.flags.compress=t,this},d.prototype.binary=function(t){return this.flags.binary=t,this}},3678:(t,e,n)=>{var r=n(4187),o=n(3669)("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),n=r(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port,n.href=n.protocol+"://"+a+(e&&e.port===n.port?"":":"+n.port),n}},3669:(t,e,n)=>{var r=n(4155);function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(1350)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(a=o))})),t.splice(a,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())},1350:(t,e,n)=>{function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,a=o-(n||o);t.diff=a,t.prev=n,t.curr=o,n=o;for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var o=e.formatters[r];if("function"==typeof o){var a=s[c];n=o.call(t,a),s.splice(c,1),c--}return n})),e.formatArgs.call(t,s),(r.log||e.log||console.log.bind(console)).apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var a=e.instances[n];a.enabled=e.enabled(a.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(4241),e.instances=[],e.names=[],e.skips=[],e.formatters={}},1259:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},4241:t=>{var e=1e3,n=60*e,r=60*n,o=24*r;function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,s){s=s||{};var i,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===c&&!1===isNaN(t))return s.long?a(i=t,o,"day")||a(i,r,"hour")||a(i,n,"minute")||a(i,e,"second")||i+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=r?Math.round(t/r)+"h":t>=n?Math.round(t/n)+"m":t>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},555:(t,e,n)=>{var r=n(1259),o=n(7070),a=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),i="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File);function c(t,e){if(!t)return t;if(o(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(r(t)){for(var a=new Array(t.length),s=0;s<t.length;s++)a[s]=c(t[s],e);return a}if("object"==typeof t&&!(t instanceof Date)){for(var i in a={},t)a[i]=c(t[i],e);return a}return t}function l(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(r(t))for(var n=0;n<t.length;n++)t[n]=l(t[n],e);else if("object"==typeof t)for(var o in t)t[o]=l(t[o],e);return t}e.deconstructPacket=function(t){var e=[],n=t.data,r=t;return r.data=c(n,e),r.attachments=e.length,{packet:r,buffers:e}},e.reconstructPacket=function(t,e){return t.data=l(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,a=t;!function t(c,l,u){if(!c)return c;if(s&&c instanceof Blob||i&&c instanceof File){n++;var p=new FileReader;p.onload=function(){u?u[l]=this.result:a=this.result,--n||e(a)},p.readAsArrayBuffer(c)}else if(r(c))for(var h=0;h<c.length;h++)t(c[h],h,c);else if("object"==typeof c&&!o(c))for(var d in c)t(c[d],d,c)}(a),n||e(a)}},875:(t,e,n)=>{var r=n(3669)("socket.io-parser"),o=n(5385),a=n(555),s=n(1259),i=n(7070);function c(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=p;var l=e.ERROR+'"encode error"';function u(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var o=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===o)return l;n+=o}return r("encoded %j as %s",t,n),n}function p(){this.reconstructor=null}function h(t){this.reconPack=t,this.buffers=[]}function d(t){return{type:e.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,n){r("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type?function(t,e){a.removeBlobs(t,(function(t){var n=a.deconstructPacket(t),r=u(n.packet),o=n.buffers;o.unshift(r),e(o)}))}(t,n):n([u(t)])},o(p.prototype),p.prototype.add=function(t){var n;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=function(t){var n=0,o={type:Number(t.charAt(0))};if(null==e.types[o.type])return d("unknown packet type "+o.type);if(e.BINARY_EVENT===o.type||e.BINARY_ACK===o.type){for(var a=n+1;"-"!==t.charAt(++n)&&n!=t.length;);var i=t.substring(a,n);if(i!=Number(i)||"-"!==t.charAt(n))throw new Error("Illegal attachments");o.attachments=Number(i)}if("/"===t.charAt(n+1)){for(a=n+1;++n&&","!==(l=t.charAt(n))&&n!==t.length;);o.nsp=t.substring(a,n)}else o.nsp="/";var c=t.charAt(n+1);if(""!==c&&Number(c)==c){for(a=n+1;++n;){var l;if(null==(l=t.charAt(n))||Number(l)!=l){--n;break}if(n===t.length)break}o.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){var u=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n));if(!1===u||o.type!==e.ERROR&&!s(u))return d("invalid payload");o.data=u}return r("decoded %s as %j",t,o),o}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new h(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n)}else{if(!i(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},7070:t=>{t.exports=function(t){return e&&Buffer.isBuffer(t)||n&&(t instanceof ArrayBuffer||r(t))};var e="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,n="function"==typeof ArrayBuffer,r=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}},5385:t=>{function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}},3379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},s=[],i=0;i<t.length;i++){var c=t[i],l=r.base?c[0]+r.base:c[0],u=a[l]||0,p="".concat(l," ").concat(u);a[l]=u+1;var h=n(p),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)e[h].references++,e[h].updater(d);else{var f=o(d,r);r.byIndex=i,e.splice(i,0,{identifier:p,updater:f,references:1})}s.push(p)}return s}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var a=r(t=t||[],o=o||{});return function(t){t=t||[];for(var s=0;s<a.length;s++){var i=n(a[s]);e[i].references--}for(var c=r(t,o),l=0;l<a.length;l++){var u=n(a[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}a=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},4042:t=>{t.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},7378:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>ze});var r=function(){var t=this,e=t._self._c;return e("div",{class:{"icon-loading":t.loading},staticStyle:{display:"flex",flex:"1"}},[t.error?[e("div",{staticClass:"aaochat-tab-view"},[e("div",{staticClass:"aaochat-start-conversion"},[e("span",[e("a",{attrs:{href:"#"},on:{click:t.showSendMessageForm}},[t._v("\n\t\t\t\tStart Conversation\n\t\t\t\t")])])])])]:[t.channelId?e("div",{staticClass:"aaochat-tab-view"},[e("div",{staticClass:"aaochat-message-list",on:{scroll:t.handleScroll},nativeOn:{scroll:function(e){return t.handleScroll.apply(null,arguments)}}},t._l(t.aaochtMessages,(function(n,r){return e("AaochtMessage",{key:n.message_id,attrs:{previousMessageTimestamp:r==t.aaochtMessages.length-1?null:t.aaochtMessages[r+1].created_at,message:n}})})),1),t._v(" "),e("div",{staticClass:"aaochat-message-form-wrapper"},[e("div",{staticClass:"aaochat-message-form"},[e("form",{staticClass:"chat-message",attrs:{onsubmit:"return false;",action:"#"},on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"row aaochat-send-message-row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"input-group"},[e("div",{attrs:{"emoji-form":"","emoji-message":"emojiMessage",id:"newMessageContainer"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.txtMessage,expression:"txtMessage"}],staticClass:"form-control input-lg ng-pristine ng-untouched ng-valid",attrs:{id:"txtMessage",placeholder:"Type your message here..."},domProps:{value:t.txtMessage},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.sendAaochatMessage.apply(null,arguments)},input:function(e){e.target.composing||(t.txtMessage=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-group-btn"},[e("ActionButton",{staticClass:"aaochat-send-message-btn",attrs:{type:"button "},on:{click:t.sendAaochatMessage}},[e("img",{attrs:{src:n(9301),alt:""}})])],1)])])])])])])]):t._e(),t._v(" "),null!=t.channelId||t.loading?t._e():[e("div",{staticClass:"aaochat-tab-view"},[e("div",{staticClass:"aaochat-start-conversion"},[e("span",[e("a",{attrs:{href:"#"},on:{click:t.showSendMessageForm}},[t._v("\n\t\t\t\t\tStart Conversation\n\t\t\t\t\t")])])])])]]],2)};r._withStripped=!0;var o=n(9753),a=n(1352);function s(t,e){return function(){return t.apply(e,arguments)}}const{toString:i}=Object.prototype,{getPrototypeOf:c}=Object,l=(u=Object.create(null),t=>{const e=i.call(t);return u[e]||(u[e]=e.slice(8,-1).toLowerCase())});var u;const p=t=>(t=t.toLowerCase(),e=>l(e)===t),h=t=>e=>typeof e===t,{isArray:d}=Array,f=h("undefined"),g=p("ArrayBuffer"),m=h("string"),A=h("function"),y=h("number"),v=t=>null!==t&&"object"==typeof t,b=t=>{if("object"!==l(t))return!1;const e=c(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},C=p("Date"),x=p("File"),w=p("Blob"),E=p("FileList"),S=p("URLSearchParams");function k(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let r,o;if("object"!=typeof t&&(t=[t]),d(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let s;for(r=0;r<a;r++)s=o[r],e.call(null,t[s],s,t)}}function L(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,o=n.length;for(;o-- >0;)if(r=n[o],e===r.toLowerCase())return r;return null}const R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,O=t=>!f(t)&&t!==R,M=(T="undefined"!=typeof Uint8Array&&c(Uint8Array),t=>T&&t instanceof T);var T;const _=p("HTMLFormElement"),I=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),N=p("RegExp"),D=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};k(n,((n,o)=>{!1!==e(n,o,t)&&(r[o]=n)})),Object.defineProperties(t,r)},B="abcdefghijklmnopqrstuvwxyz",F="0123456789",j={DIGIT:F,ALPHA:B,ALPHA_DIGIT:B+B.toUpperCase()+F},P=p("AsyncFunction"),U={isArray:d,isArrayBuffer:g,isBuffer:function(t){return null!==t&&!f(t)&&null!==t.constructor&&!f(t.constructor)&&A(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||A(t.append)&&("formdata"===(e=l(t))||"object"===e&&A(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&g(t.buffer),e},isString:m,isNumber:y,isBoolean:t=>!0===t||!1===t,isObject:v,isPlainObject:b,isUndefined:f,isDate:C,isFile:x,isBlob:w,isRegExp:N,isFunction:A,isStream:t=>v(t)&&A(t.pipe),isURLSearchParams:S,isTypedArray:M,isFileList:E,forEach:k,merge:function t(){const{caseless:e}=O(this)&&this||{},n={},r=(r,o)=>{const a=e&&L(n,o)||o;b(n[a])&&b(r)?n[a]=t(n[a],r):b(r)?n[a]=t({},r):d(r)?n[a]=r.slice():n[a]=r};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&k(arguments[t],r);return n},extend:(t,e,n,{allOwnKeys:r}={})=>(k(e,((e,r)=>{n&&A(e)?t[r]=s(e,n):t[r]=e}),{allOwnKeys:r}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let o,a,s;const i={};if(e=e||{},null==t)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)s=o[a],r&&!r(s,t,e)||i[s]||(e[s]=t[s],i[s]=!0);t=!1!==n&&c(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:l,kindOfTest:p,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(d(t))return t;let e=t.length;if(!y(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:_,hasOwnProperty:I,hasOwnProp:I,reduceDescriptors:D,freezeMethods:t=>{D(t,((e,n)=>{if(A(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];A(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return d(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:L,global:R,isContextDefined:O,ALPHABET:j,generateString:(t=16,e=j.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n},isSpecCompliantForm:function(t){return!!(t&&A(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(v(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const o=d(t)?[]:{};return k(t,((t,e)=>{const a=n(t,r+1);!f(a)&&(o[e]=a)})),e[r]=void 0,o}}return t};return n(t,0)},isAsyncFn:P,isThenable:t=>t&&(v(t)||A(t))&&A(t.then)&&A(t.catch)};function z(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}U.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const q=z.prototype,G={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{G[t]={value:t}})),Object.defineProperties(z,G),Object.defineProperty(q,"isAxiosError",{value:!0}),z.from=(t,e,n,r,o,a)=>{const s=Object.create(q);return U.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),z.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,a&&Object.assign(s,a),s};const $=z;function H(t){return U.isPlainObject(t)||U.isArray(t)}function W(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function Y(t,e,n){return t?t.concat(e).map((function(t,e){return t=W(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const X=U.toFlatObject(U,{},null,(function(t){return/^is[A-Z]/.test(t)})),V=function(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!U.isUndefined(e[t])}))).metaTokens,o=n.visitor||l,a=n.dots,s=n.indexes,i=(n.Blob||"undefined"!=typeof Blob&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(o))throw new TypeError("visitor must be a function");function c(t){if(null===t)return"";if(U.isDate(t))return t.toISOString();if(!i&&U.isBlob(t))throw new $("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(t)||U.isTypedArray(t)?i&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function l(t,n,o){let i=t;if(t&&!o&&"object"==typeof t)if(U.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(U.isArray(t)&&function(t){return U.isArray(t)&&!t.some(H)}(t)||(U.isFileList(t)||U.endsWith(n,"[]"))&&(i=U.toArray(t)))return n=W(n),i.forEach((function(t,r){!U.isUndefined(t)&&null!==t&&e.append(!0===s?Y([n],r,a):null===s?n:n+"[]",c(t))})),!1;return!!H(t)||(e.append(Y(o,n,a),c(t)),!1)}const u=[],p=Object.assign(X,{defaultVisitor:l,convertValue:c,isVisitable:H});if(!U.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!U.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),U.forEach(n,(function(n,a){!0===(!(U.isUndefined(n)||null===n)&&o.call(e,n,U.isString(a)?a.trim():a,r,p))&&t(n,r?r.concat(a):[a])})),u.pop()}}(t),e};function K(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Z(t,e){this._pairs=[],t&&V(t,this,e)}const J=Z.prototype;J.append=function(t,e){this._pairs.push([t,e])},J.toString=function(t){const e=t?function(e){return t.call(this,e,K)}:K;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const Q=Z;function tt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function et(t,e,n){if(!e)return t;const r=n&&n.encode||tt,o=n&&n.serialize;let a;if(a=o?o(e,n):U.isURLSearchParams(e)?e.toString():new Q(e,n).toString(r),a){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}const nt=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){U.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},rt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ot={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Q,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},at=function(t){function e(t,n,r,o){let a=t[o++];const s=Number.isFinite(+a),i=o>=t.length;return a=!a&&U.isArray(r)?r.length:a,i?(U.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s):(r[a]&&U.isObject(r[a])||(r[a]=[]),e(t,n,r[a],o)&&U.isArray(r[a])&&(r[a]=function(t){const e={},n=Object.keys(t);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],e[a]=t[a];return e}(r[a])),!s)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,((t,r)=>{e(function(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null},st={"Content-Type":void 0},it={transitional:rt,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,o=U.isObject(t);if(o&&U.isHTMLForm(t)&&(t=new FormData(t)),U.isFormData(t))return r&&r?JSON.stringify(at(t)):t;if(U.isArrayBuffer(t)||U.isBuffer(t)||U.isStream(t)||U.isFile(t)||U.isBlob(t))return t;if(U.isArrayBufferView(t))return t.buffer;if(U.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return V(t,new ot.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return ot.isNode&&U.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((a=U.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return V(a?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),function(t,e,n){if(U.isString(t))try{return(0,JSON.parse)(t),U.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||it.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&U.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw $.from(t,$.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};U.forEach(["delete","get","head"],(function(t){it.headers[t]={}})),U.forEach(["post","put","patch"],(function(t){it.headers[t]=U.merge(st)}));const ct=it,lt=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ut=Symbol("internals");function pt(t){return t&&String(t).trim().toLowerCase()}function ht(t){return!1===t||null==t?t:U.isArray(t)?t.map(ht):String(t)}function dt(t,e,n,r,o){return U.isFunction(r)?r.call(this,e,n):(o&&(e=n),U.isString(e)?U.isString(r)?-1!==e.indexOf(r):U.isRegExp(r)?r.test(e):void 0:void 0)}class ft{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function o(t,e,n){const o=pt(e);if(!o)throw new Error("header name must be a non-empty string");const a=U.findKey(r,o);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||e]=ht(t))}const a=(t,e)=>U.forEach(t,((t,n)=>o(t,n,e)));return U.isPlainObject(t)||t instanceof this.constructor?a(t,e):U.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?a((t=>{const e={};let n,r,o;return t&&t.split("\n").forEach((function(t){o=t.indexOf(":"),n=t.substring(0,o).trim().toLowerCase(),r=t.substring(o+1).trim(),!n||e[n]&&lt[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e):null!=t&&o(e,t,n),this}get(t,e){if(t=pt(t)){const n=U.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(U.isFunction(e))return e.call(this,t,n);if(U.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=pt(t)){const n=U.findKey(this,t);return!(!n||void 0===this[n]||e&&!dt(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function o(t){if(t=pt(t)){const o=U.findKey(n,t);!o||e&&!dt(0,n[o],o,e)||(delete n[o],r=!0)}}return U.isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const o=e[n];t&&!dt(0,this[o],o,t,!0)||(delete this[o],r=!0)}return r}normalize(t){const e=this,n={};return U.forEach(this,((r,o)=>{const a=U.findKey(n,o);if(a)return e[a]=ht(r),void delete e[o];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete e[o],e[s]=ht(r),n[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return U.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&U.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[ut]=this[ut]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=pt(t);e[r]||(function(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,o){return this[r].call(this,e,t,n,o)},configurable:!0})}))}(n,t),e[r]=!0)}return U.isArray(t)?t.forEach(r):r(t),this}}ft.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),U.freezeMethods(ft.prototype),U.freezeMethods(ft);const gt=ft;function mt(t,e){const n=this||ct,r=e||n,o=gt.from(r.headers);let a=r.data;return U.forEach(t,(function(t){a=t.call(n,a,o.normalize(),e?e.status:void 0)})),o.normalize(),a}function At(t){return!(!t||!t.__CANCEL__)}function yt(t,e,n){$.call(this,null==t?"canceled":t,$.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(yt,$,{__CANCEL__:!0});const vt=yt,bt=ot.isStandardBrowserEnv?{write:function(t,e,n,r,o,a){const s=[];s.push(t+"="+encodeURIComponent(e)),U.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),U.isString(r)&&s.push("path="+r),U.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Ct(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const xt=ot.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=U.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};function wt(t,e){let n=0;const r=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o,a=0,s=0;return e=void 0!==e?e:1e3,function(i){const c=Date.now(),l=r[s];o||(o=c),n[a]=i,r[a]=c;let u=s,p=0;for(;u!==a;)p+=n[u++],u%=t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),c-o<e)return;const h=l&&c-l;return h?Math.round(1e3*p/h):void 0}}(50,250);return o=>{const a=o.loaded,s=o.lengthComputable?o.total:void 0,i=a-n,c=r(i);n=a;const l={loaded:a,total:s,progress:s?a/s:void 0,bytes:i,rate:c||void 0,estimated:c&&s&&a<=s?(s-a)/c:void 0,event:o};l[e?"download":"upload"]=!0,t(l)}}const Et={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let r=t.data;const o=gt.from(t.headers).normalize(),a=t.responseType;let s;function i(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}U.isFormData(r)&&(ot.isStandardBrowserEnv||ot.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(e+":"+n))}const l=Ct(t.baseURL,t.url);function u(){if(!c)return;const r=gt.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new $("Request failed with status code "+n.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),i()}),(function(t){n(t),i()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:t,request:c}),c=null}if(c.open(t.method.toUpperCase(),et(l,t.params,t.paramsSerializer),!0),c.timeout=t.timeout,"onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(u)},c.onabort=function(){c&&(n(new $("Request aborted",$.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new $("Network Error",$.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||rt;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new $(e,r.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,t,c)),c=null},ot.isStandardBrowserEnv){const e=(t.withCredentials||xt(l))&&t.xsrfCookieName&&bt.read(t.xsrfCookieName);e&&o.set(t.xsrfHeaderName,e)}void 0===r&&o.setContentType(null),"setRequestHeader"in c&&U.forEach(o.toJSON(),(function(t,e){c.setRequestHeader(e,t)})),U.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),a&&"json"!==a&&(c.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&c.addEventListener("progress",wt(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",wt(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{c&&(n(!e||e.type?new vt(null,t,c):e),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const p=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(l);p&&-1===ot.protocols.indexOf(p)?n(new $("Unsupported protocol "+p+":",$.ERR_BAD_REQUEST,t)):c.send(r||null)}))}};U.forEach(Et,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));function St(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vt(null,t)}function kt(t){return St(t),t.headers=gt.from(t.headers),t.data=mt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),(t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let o=0;o<e&&(n=t[o],!(r=U.isString(n)?Et[n.toLowerCase()]:n));o++);if(!r){if(!1===r)throw new $(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(U.hasOwnProp(Et,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!U.isFunction(r))throw new TypeError("adapter is not a function");return r})(t.adapter||ct.adapter)(t).then((function(e){return St(t),e.data=mt.call(t,t.transformResponse,e),e.headers=gt.from(e.headers),e}),(function(e){return At(e)||(St(t),e&&e.response&&(e.response.data=mt.call(t,t.transformResponse,e.response),e.response.headers=gt.from(e.response.headers))),Promise.reject(e)}))}const Lt=t=>t instanceof gt?t.toJSON():t;function Rt(t,e){e=e||{};const n={};function r(t,e,n){return U.isPlainObject(t)&&U.isPlainObject(e)?U.merge.call({caseless:n},t,e):U.isPlainObject(e)?U.merge({},e):U.isArray(e)?e.slice():e}function o(t,e,n){return U.isUndefined(e)?U.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function a(t,e){if(!U.isUndefined(e))return r(void 0,e)}function s(t,e){return U.isUndefined(e)?U.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function i(n,o,a){return a in e?r(n,o):a in t?r(void 0,n):void 0}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i,headers:(t,e)=>o(Lt(t),Lt(e),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),(function(r){const a=c[r]||o,s=a(t[r],e[r],r);U.isUndefined(s)&&a!==i||(n[r]=s)})),n}const Ot={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Ot[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const Mt={};Ot.transitional=function(t,e,n){function r(t,e){return"[Axios v1.4.0] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,o,a)=>{if(!1===t)throw new $(r(o," has been removed"+(e?" in "+e:"")),$.ERR_DEPRECATED);return e&&!Mt[o]&&(Mt[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,a)}};const Tt={assertOptions:function(t,e,n){if("object"!=typeof t)throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const a=r[o],s=e[a];if(s){const e=t[a],n=void 0===e||s(e,a,t);if(!0!==n)throw new $("option "+a+" must be "+n,$.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new $("Unknown option "+a,$.ERR_BAD_OPTION)}},validators:Ot},_t=Tt.validators;class It{constructor(t){this.defaults=t,this.interceptors={request:new nt,response:new nt}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Rt(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:o}=e;let a;void 0!==n&&Tt.assertOptions(n,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),null!=r&&(U.isFunction(r)?e.paramsSerializer={serialize:r}:Tt.assertOptions(r,{encode:_t.function,serialize:_t.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase(),a=o&&U.merge(o.common,o[e.method]),a&&U.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete o[t]})),e.headers=gt.concat(a,o);const s=[];let i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));let u,p=0;if(!i){const t=[kt.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,c),u=t.length,l=Promise.resolve(e);p<u;)l=l.then(t[p++],t[p++]);return l}u=s.length;let h=e;for(p=0;p<u;){const t=s[p++],e=s[p++];try{h=t(h)}catch(t){e.call(this,t);break}}try{l=kt.call(this,h)}catch(t){return Promise.reject(t)}for(p=0,u=c.length;p<u;)l=l.then(c[p++],c[p++]);return l}getUri(t){return et(Ct((t=Rt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}U.forEach(["delete","get","head","options"],(function(t){It.prototype[t]=function(e,n){return this.request(Rt(n||{},{method:t,url:e,data:(n||{}).data}))}})),U.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,o){return this.request(Rt(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}It.prototype[t]=e(),It.prototype[t+"Form"]=e(!0)}));const Nt=It;class Dt{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,o){n.reason||(n.reason=new vt(t,r,o),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Dt((function(e){t=e})),cancel:t}}}const Bt=Dt,Ft={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ft).forEach((([t,e])=>{Ft[e]=t}));const jt=Ft,Pt=function t(e){const n=new Nt(e),r=s(Nt.prototype.request,n);return U.extend(r,Nt.prototype,n,{allOwnKeys:!0}),U.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(Rt(e,n))},r}(ct);Pt.Axios=Nt,Pt.CanceledError=vt,Pt.CancelToken=Bt,Pt.isCancel=At,Pt.VERSION="1.4.0",Pt.toFormData=V,Pt.AxiosError=$,Pt.Cancel=Pt.CanceledError,Pt.all=function(t){return Promise.all(t)},Pt.spread=function(t){return function(e){return t.apply(null,e)}},Pt.isAxiosError=function(t){return U.isObject(t)&&!0===t.isAxiosError},Pt.mergeConfig=Rt,Pt.AxiosHeaders=gt,Pt.formToJSON=t=>at(U.isHTMLForm(t)?new FormData(t):t),Pt.HttpStatusCode=jt,Pt.default=Pt;const Ut=Pt;var zt=n(6397),qt=n(8679);class Gt{bus;constructor(t){"function"==typeof t.getVersion&&zt(t.getVersion())?qt(t.getVersion())!==qt(this.getVersion())&&console.warn("Proxying an event bus of version "+t.getVersion()+" with "+this.getVersion()):console.warn("Proxying an event bus with an unknown or invalid version"),this.bus=t}getVersion(){return"3.1.0"}subscribe(t,e){this.bus.subscribe(t,e)}unsubscribe(t,e){this.bus.unsubscribe(t,e)}emit(t,e){this.bus.emit(t,e)}}class $t{handlers=new Map;getVersion(){return"3.1.0"}subscribe(t,e){this.handlers.set(t,(this.handlers.get(t)||[]).concat(e))}unsubscribe(t,e){this.handlers.set(t,(this.handlers.get(t)||[]).filter((t=>t!=e)))}emit(t,e){(this.handlers.get(t)||[]).forEach((t=>{try{t(e)}catch(t){console.error("could not invoke event listener",t)}}))}}let Ht,Wt=null;const Yt=[];var Xt;Xt=t=>{Ht=t.token,Yt.forEach((e=>{try{e(t.token)}catch(t){console.error("error updating CSRF token observer",t)}}))},(null!==Wt?Wt:"undefined"==typeof window?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(void 0!==window.OC&&window.OC._eventBus&&void 0===window._nc_event_bus&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),Wt=void 0!==window?._nc_event_bus?new Gt(window._nc_event_bus):window._nc_event_bus=new $t,Wt)).subscribe("csrf-token-update",Xt);var Vt=function(){return Vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Vt.apply(this,arguments)};function Kt(t,e,n,r){return new(n||(n=Promise))((function(o,a){function s(t){try{c(r.next(t))}catch(t){a(t)}}function i(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,i)}c((r=r.apply(t,e||[])).next())}))}function Zt(t,e){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}"function"==typeof SuppressedError&&SuppressedError;var Jt,Qt,te=Symbol("csrf-retry"),ee=Symbol("retryDelay"),ne=Ut.create({headers:{requesttoken:null!==(Jt=function(){if(void 0===Ht){const t=document?.getElementsByTagName("head")[0];Ht=t?t.getAttribute("data-requesttoken"):null}return Ht}())&&void 0!==Jt?Jt:""}}),re=Object.assign(ne,{CancelToken:Ut.CancelToken,isCancel:Ut.isCancel});re.interceptors.response.use((function(t){return t}),function(t){return function(e){return Kt(void 0,void 0,void 0,(function(){var n,r,a,s,i,c,l;return Zt(this,(function(u){switch(u.label){case 0:return n=e.config,r=e.response,a=e.request,s=null==a?void 0:a.responseURL,412!==(null==r?void 0:r.status)||"CSRF check failed"!==(null===(l=null==r?void 0:r.data)||void 0===l?void 0:l.message)||void 0!==n[te]?[3,2]:(console.warn("Request to ".concat(s," failed because of a CSRF mismatch. Fetching a new token")),[4,t.get((0,o.nu)("/csrftoken"))]);case 1:return i=u.sent().data.token,console.debug("New request token ".concat(i," fetched")),t.defaults.headers.requesttoken=i,[2,t(Vt(Vt({},n),(c={headers:Vt(Vt({},n.headers),{requesttoken:i})},c[te]=!0,c)))];case 2:return[2,Promise.reject(e)]}}))}))}}(re)),re.interceptors.response.use((function(t){return t}),function(t){return function(e){return Kt(void 0,void 0,void 0,(function(){var n,r,o,a,s,i,c,l,u;return Zt(this,(function(p){switch(p.label){case 0:return n=e.config,r=e.response,o=e.request,a=null==o?void 0:o.responseURL,s=null==r?void 0:r.status,i=null==r?void 0:r.headers,503===s&&"1"===i["x-nextcloud-maintenance-mode"]&&n.retryIfMaintenanceMode&&(!n[ee]||n[ee]<=32)?(c=2*(null!==(u=n[ee])&&void 0!==u?u:1),console.warn("Request to ".concat(a," failed because of maintenance mode. Retrying in ").concat(c,"s")),[4,new Promise((function(t){setTimeout(t,1e3*c)}))]):[3,2];case 1:return p.sent(),[2,t(Vt(Vt({},n),(l={},l[ee]=c,l)))];case 2:return[2,Promise.reject(e)]}}))}))}}(re)),re.interceptors.response.use((function(t){return t}),(function(t){return Kt(void 0,void 0,void 0,(function(){var e,n,r,o,a;return Zt(this,(function(s){return e=t.config,n=t.response,r=t.request,o=null==r?void 0:r.responseURL,401===(null==n?void 0:n.status)&&"Current user is not logged in"===(null===(a=null==n?void 0:n.data)||void 0===a?void 0:a.message)&&e.reloadExpiredSession&&(null===window||void 0===window?void 0:window.location)&&(console.error("Request to ".concat(o," failed because the user session expired. Reloading the page …")),window.location.reload()),[2,Promise.reject(t)]}))}))})),Qt=function(t){ne.defaults.headers.requesttoken=t},Yt.push(Qt);var oe=n(3455),ae=n.n(oe),se=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"message-"+t.message.message_id}},[t.canShowDateTag()?e("div",{staticStyle:{"text-align":"center","margin-bottom":"10px"}},[e("span",{staticStyle:{"background-color":"#efefef","border-radius":"5px",padding:"8px"}},[t._v(t._s(t.canShowDateTag()))])]):t._e(),t._v(" "),e("div",{class:[t.message.user&&t.loggedUser.uid==t.message.user.user_name?"my-message":"other-message"]},[6!=t.message.message_type?e("div",{staticClass:"message-container",class:[1==t.message.is_private?"private":""]},[6!=t.message.message_type&&1!=t.message.trashed?e("div",[1==t.message.is_private?e("span",{staticClass:"message-label"},[t._v("Private")]):t._e(),t._v(" "),1==t.message.is_reminder?e("span",{staticClass:"message-label"},[t._v("Reminder")]):t._e(),t._v(" "),t.message.user.user_name!=t.loggedUser.uid?e("b",{staticClass:"message-user"},[t._v(t._s(t.message.user.full_name))]):t._e(),t._v(" "),t.message.reply?e("a",{attrs:{href:"#message-"+t.message.reply.message_id,id:"reply-"+t.message.reply.message_id}},[t.message.reply?e("div",{staticClass:"reply-container",on:{click:function(e){return t.scrollToReply(t.message.reply)}}},[t.message.reply.user.user_name!=t.loggedUser.uid?e("b",{staticClass:"reply-message-user"},[t._v("\n\t\t\t\t\t\t"+t._s(t.message.reply.user.full_name)+"\n\t\t\t\t\t")]):t._e(),t._v(" "),e("div",[e("AaochtMessageAttachment",{attrs:{attachments:t.message.reply.attachments}}),t._v(" "),e("pre",{staticClass:"message-text"},[t._v(t._s(t.message.reply.message))])],1)]):t._e()]):t._e(),t._v(" "),e("div",[e("AaochtMessageAttachment",{attrs:{attachments:t.message.attachments}}),t._v(" "),e("pre",{staticClass:"message-text"},[t._v(t._s(t.message.message))])],1)]):t._e(),t._v(" "),1==t.message.trashed?e("div",{staticClass:"trashed"},[e("span",{staticClass:"message-text"},[t._v("This message is deleted.")])]):t._e(),t._v(" "),6!=t.message.message_type&&1!=t.message.trashed?e("div",{staticClass:"created-at"},[e("small",{staticClass:"message-time"},[t._v(t._s(t.messageLocalTime()))]),t._v(" "),e("small",{directives:[{name:"show",rawName:"v-show",value:t.message.user.user_name==t.loggedUser.uid&&1!=t.message.is_reminder,expression:"message.user.user_name==loggedUser.uid && message.is_reminder!=1"}]},[e("i",{class:[t.message.seen?"icon-double-tick-icon seen-msg":t.message.delivered?"icon-double-tick-icon gray-txt":"icon-single-tick-icon gray-txt"]})])]):t._e()]):t._e()])])};se._withStripped=!0;var ie=function(){var t=this,e=t._self._c;return t.attachments.length>0?e("div",t._l(t.attachments,(function(n){return e("div",{key:n.file_id},["png"==n.extension||"jpg"==n.extension||"jpeg"==n.extension||"gif"==n.extension?e("div",{staticClass:"chat-image"},[e("img",{staticStyle:{width:"100%"},attrs:{draggable:"false",src:t.getAttachmentThumbUrl(n),alt:""}})]):t._e(),t._v(" "),"mp4"==n.extension||"ogg"==n.extension||"webm"==n.extension?e("a",{staticClass:"chat-attachment-box"},[e("div",{staticClass:"file-icon-container"},[e("img",{attrs:{src:t.aaoChatServerURL+"/public/images/"+t.getFileIcon(n),alt:""}})]),t._v("\n\t\t"+t._s(n.display_name)+"\n\t")]):t._e(),t._v(" "),"mp3"==n.extension||"wav"==n.extension||"m4a"==n.extension?e("div",{staticClass:"chat-image"},[e("audio",{staticStyle:{"margin-bottom":"-8px"},attrs:{controls:""}},[e("source",{attrs:{src:t.getAttachmentUrl(n),type:"audio/"+n.extension=="m4a"?"mp3":n.extension}})])]):t._e(),t._v(" "),"mp3"!=n.extension&&"m4a"!=n.extension&&"wav"!=n.extension&&"png"!=n.extension&&"jpg"!=n.extension&&"jpeg"!=n.extension&&"gif"!=n.extension&&"mp4"!=n.extension&&"ogg"!=n.extension&&"webm"!=n.extension?e("a",{staticClass:"chat-attachment-box"},[e("div",{staticClass:"file-icon-container"},[e("img",{attrs:{src:t.aaoChatServerURL+"/public/images/"+t.getFileIcon(n),alt:""}})]),t._v("\n\t\t"+t._s(n.display_name)+"\n\t")]):t._e()])})),0):t._e()};ie._withStripped=!0;const ce={name:"AaochtMessageAttachment",components:{},props:{attachments:{type:Array,required:!0}},data:function(){return{dateFromNow:"",loggedUser:OC.getCurrentUser(),dateInterval:0,authKey:localStorage.getItem("ngStorage-AuthKey").replace(/"/g,""),aaoChatServerURL:localStorage.getItem("nextcloud-AaoChatServerURL"),aaoChatFileServerURL:localStorage.getItem("nextcloud-AaoChatFileServerURL")}},computed:{},created:function(){},destroyed:function(){},methods:{getAttachmentUrl:function(t){return this.aaoChatFileServerURL+"/download/attachment/"+t.file_id+"."+t.extension+"?authKey="+this.authKey},getAttachmentThumbUrl:function(t){return this.aaoChatFileServerURL+"/download/attachment/thumb/"+t.file_id+"."+t.extension+"?authKey="+this.authKey},getFileIcon:function(t){var e=t.extension;return["pdf"].includes(e)?"pdf.svg":["doc","docx","rtf"].includes(e)?"doc.svg":["ppt","pptx"].includes(e)?"ppt.svg":["xls","csv","xlsx"].includes(e)?"xls.svg":["txt"].includes(e)?"txt.svg":["mp4","ogg","webm"].includes(e)?"play-media.png":"file.svg"}}};var le=n(3379),ue=n.n(le),pe=n(7795),he=n.n(pe),de=n(569),fe=n.n(de),ge=n(3565),me=n.n(ge),Ae=n(9216),ye=n.n(Ae),ve=n(4589),be=n.n(ve),Ce=n(938),xe={};function we(t,e,n,r,o,a,s,i){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):o&&(c=i?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:l}}xe.styleTagTransform=be(),xe.setAttributes=me(),xe.insert=fe().bind(null,"head"),xe.domAPI=he(),xe.insertStyleElement=ye(),ue()(Ce.Z,xe),Ce.Z&&Ce.Z.locals&&Ce.Z.locals;const Ee={name:"AaochtMessage",components:{AaochtMessageAttachment:we(ce,ie,[],!1,null,"379443a0",null).exports},props:{previousMessageTimestamp:{type:String,required:!1},message:{type:Object,required:!0}},data:function(){return{dateFromNow:"",loggedUser:OC.getCurrentUser(),dateInterval:0}},computed:{},created:function(){},destroyed:function(){},methods:{getDateFromUTCString:function(t){return new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},canShowDateTag:function(){if(null==this.previousMessageTimestamp)return this.getDateFromUTCString(this.message.created_at);var t=this.getDateFromUTCString(this.previousMessageTimestamp),e=this.getDateFromUTCString(this.message.created_at);return e!=t&&e},messageLocalTime:function(){var t=new Date(this.message.created_at);return t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})+" "+t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})},scrollToReply:function(t){null==document.getElementById("message-"+t.message_id)&&this.$parent.scrollToReply(t)}}};var Se=n(8987),ke={};ke.styleTagTransform=be(),ke.setAttributes=me(),ke.insert=fe().bind(null,"head"),ke.domAPI=he(),ke.insertStyleElement=ye(),ue()(Se.Z,ke),Se.Z&&Se.Z.locals&&Se.Z.locals;const Le=we(Ee,se,[],!1,null,"3307282a",null).exports;var Re=n(9398),Oe=n.n(Re);const Me=(0,n(7499).IY)().setApp("aaochat").detectUser().build();function Te(t){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(t)}function _e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ie(){Ie=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,s=Object.create(a.prototype),i=new S(o||[]);return r(s,"_invoke",{value:C(t,n,i)}),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function f(){}var g={};c(g,a,(function(){return this}));var m=Object.getPrototypeOf,A=m&&m(m(k([])));A&&A!==e&&n.call(A,a)&&(g=A);var y=f.prototype=h.prototype=Object.create(g);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,a,s,i){var c=u(t[r],t,a);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==Te(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,s,i)}),(function(t){o("throw",t,s,i)})):e.resolve(p).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,i)}))}i(c.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function C(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var i=x(s,n);if(i){if(i===p)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=u(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:d,configurable:!0}),d.displayName=c(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(b.prototype),c(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var s=new b(l(e,n,r,o),a);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},v(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var i=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(i&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function Ne(t,e,n,r,o,a,s){try{var i=t[a](s),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(r,o)}function De(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){Ne(a,r,o,s,i,"next",t)}function i(t){Ne(a,r,o,s,i,"throw",t)}s(void 0)}))}}const Be={name:"AaochatTab",components:{AaochtMessage:Le,NcEmptyContent:ae()},created:function(){var t=this,e=Oe().setupSocketConnection(localStorage.getItem("nextcloud-AaoChatServerURL"));e.on("connect",(function(){console.log("connected inside")})),e.on("message",(function(n){console.log("new message received",n),t.channelId==n.channel_id&&(t.aaochtMessages.find((function(t){return t.message_id==n.message_id}))||(n.delivered=n.delivered||!1,n.seen=n.seen||!1,n.trashed=n.trashed||!1,t.aaochtMessages.unshift(n)),e.emit("user:message-seen",{message_id:n.message_id,user_id:n.user_id,channel_id:n.channel_id,is_splash:n.is_splash}))})),e.on("message-received",(function(e){console.log("message-received",e);var n=t.aaochtMessages.findIndex((function(t){return t.message_id==e.message_id}));if(-1!=n){var r=t.aaochtMessages[n];r.delivered=!0,t.aaochtMessages.splice(n,1,r)}})),e.on("message-seen",(function(e){console.log("message-seen",e);var n=t.aaochtMessages.findIndex((function(t){return t.message_id==e.message_id}));if(-1!=n){var r=t.aaochtMessages[n];r.seen=!0,t.aaochtMessages.splice(n,1,r)}else console.log("message-seen not found.")})),e.on("message-deleted",(function(e){var n=t.aaochtMessages.findIndex((function(t){return t.message_id==e.message_id}));if(-1!=n){var r=t.aaochtMessages[n];r.trashed=!0,t.aaochtMessages.splice(n,1,r)}}))},data:function(){return{error:"",loading:!0,loadingMessages:!1,fileInfo:null,channelId:null,aaochtChannel:[],aaochtMessages:[],aaochtRootUser:{},txtMessage:"",lastScrollTop:0}},methods:{onSubmit:function(){return!1},handleScroll:function(t){var e=t.srcElement.scrollTop;e>this.lastScrollTop?console.log("scroll down"):(console.log("scroll up"),Math.abs(t.srcElement.scrollTop)+t.srcElement.offsetHeight+10>=t.srcElement.scrollHeight&&this.getMessageHistory(!1)),this.lastScrollTop=e},update:function(t){var e=this;return De(Ie().mark((function n(){return Ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.fileInfo=t,e.resetState(),n.next=4,e.getAaochatConversions();case 4:case"end":return n.stop()}}),n)})))()},getAaochatConversions:function(){var t=this;return De(Ie().mark((function e(){var n,r,o,s,i,c;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=OC.getCurrentUser(),t.loading=!0,r=OC.generateUrl("/apps/aaochat/getgroup?fileid="+t.fileInfo.id),e.next=6,re.get(r);case 6:o=e.sent,console.log(o),s=JSON.parse(o.data),console.log(s),"error"==s.status?t.loading=!1:"success"==s.status&&(i=s.data,c=i.users,t.aaochtRootUser=c.find((function(t){return t.user_name==n.uid})),t.aaochtChannel=i,t.channelId=i._id,t.loading=!1,t.getMessageHistory()),e.next=21;break;case 13:if(e.prev=13,e.t0=e.catch(0),void 0===e.t0.response||304!==e.t0.response.status){e.next=18;break}return t.loading=!1,e.abrupt("return");case 18:t.error=(0,a.Iu)("aaochat","Unable to load the aaochtChannel"),t.loading=!1,console.error("Error loading the aaochtChannel",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,13]])})))()},getMessageHistory:function(){var t=arguments,e=this;return De(Ie().mark((function n(){var r,o,s,i,c,l,u,p;return Ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]&&t[0],n.prev=1,1!=e.loadingMessages){n.next=4;break}return n.abrupt("return");case 4:return 0==r&&(e.loading=!0),e.loadingMessages=!0,s="",i="","undefined"!=typeof Storage&&(s=localStorage.getItem("ngStorage-AuthKey").replace(/"/g,""),i=localStorage.getItem("nextcloud-AaoChatServerURL")),c={channel_id:e.channelId},e.aaochtMessages.length>0&&(c.message_id=e.aaochtMessages[e.aaochtMessages.length-1].message_id),l={Authorization:s,"content-type":"application/json"},u=i+"/api/channel/messages?fetch_notification_messages=false",n.next=15,re.post(u,c,{headers:l});case 15:p=n.sent,(o=e.aaochtMessages).push.apply(o,function(t){if(Array.isArray(t))return _e(t)}(h=p.data.messages)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(h)||function(t,e){if(t){if("string"==typeof t)return _e(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(t,e):void 0}}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e.loadingMessages=!1,e.loading=!1,n.next=31;break;case 21:if(n.prev=21,n.t0=n.catch(1),void 0===n.t0.response||304!==n.t0.response.status){n.next=27;break}return e.loadingMessages=!1,e.loading=!1,n.abrupt("return");case 27:e.error=(0,a.Iu)("aaochat","Unable to load the messages"),e.loading=!1,e.loadingMessages=!1,console.error("Error loading the messages",n.t0);case 31:case"end":return n.stop()}var h}),n,null,[[1,21]])})))()},resetState:function(){this.loading=!0,this.error="",this.loadingMessages=!1,this.aaochtMessages=[],this.channelId=null,this.lastScrollTop=0},processAaochtMessages:function(t){var e=t.data;e.ocs&&e.ocs.data&&e.ocs.data.length>0&&(this.messages={},Me.debug("Processed ".concat(this.messages.length," aaochat messages"),{messages:this.messages,fileInfo:this.fileInfo}))},t:a.Iu,showSendMessageForm:function(){var t=this;return De(Ie().mark((function e(){var n,r,o,a,s,i;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=OC.getCurrentUser(),t.loading=!0,r=OC.generateUrl("/apps/aaochat/syncshareinfo?fileid="+t.fileInfo.id),e.next=5,re.get(r);case 5:o=e.sent,console.log(o),a=o.data,console.log(a),"error"==a.status?t.loading=!1:"success"==a.status&&(s=a.data,i=s.users,t.aaochtRootUser=i.find((function(t){return t.user_name==n.uid})),t.aaochtChannel=s,t.channelId=s._id,t.loading=!1);case 10:case"end":return e.stop()}}),e)})))()},sendAaochatMessage:function(){var t=this;return De(Ie().mark((function e(){var n,r,o,a,s,i;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",r="","undefined"!=typeof Storage&&(n=localStorage.getItem("ngStorage-AuthKey").replace(/"/g,""),r=localStorage.getItem("nextcloud-AaoChatServerURL")),!(null!=t.txtMessage&&t.txtMessage.trim().length>0)){e.next=12;break}return o=t.txtMessage.trim(),t.txtMessage="",a={channels:t.channelId,message:o},s={Authorization:n,"content-type":"application/json"},i=r+"/api/channel/message/upload-file-and-send-message",e.next=11,re.post(i,a,{headers:s});case 11:e.sent;case 12:t.loading=!1;case 13:case"end":return e.stop()}}),e)})))()},scrollToReply:function(t){var e=this;return De(Ie().mark((function n(){var r,o,a,s,i,c,l;return Ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loading=!0,e.loadingMessages=!0,r=OC.getCurrentUser(),o="",a="","undefined"!=typeof Storage&&(o=localStorage.getItem("ngStorage-AuthKey").replace(/"/g,""),a=localStorage.getItem("nextcloud-AaoChatServerURL")),s={Authorization:o,"content-type":"application/json"},i={channel_id:e.channelId,user_id:r.uid,timestamp:t.timestamp-1e3},c=a+"/api/channel/messages/after-timestamp?fetch_notification_messages=false",n.next=11,re.post(c,i,{headers:s});case 11:l=n.sent,e.aaochtMessages=l.data.messages,setTimeout((function(){null!=document.getElementById("message-"+t.message_id)&&document.getElementById("reply-"+t.message_id).click(),e.loading=!1,e.loadingMessages=!1}),500);case 14:case"end":return n.stop()}}),n)})))()}}};var Fe=n(846),je={};je.styleTagTransform=be(),je.setAttributes=me(),je.insert=fe().bind(null,"head"),je.domAPI=he(),je.insertStyleElement=ye(),ue()(Fe.Z,je),Fe.Z&&Fe.Z.locals&&Fe.Z.locals;var Pe=n(4305),Ue={};Ue.styleTagTransform=be(),Ue.setAttributes=me(),Ue.insert=fe().bind(null,"head"),Ue.domAPI=he(),Ue.insertStyleElement=ye(),ue()(Pe.Z,Ue),Pe.Z&&Pe.Z.locals&&Pe.Z.locals;const ze=we(Be,r,[],!1,null,"ab692064",null).exports},2281:t=>{"use strict";var e,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r=64,o={},a=0,s=0;function i(t){var e="";do{e=n[t%r]+e,t=Math.floor(t/r)}while(t>0);return e}function c(){var t=i(+new Date);return t!==e?(a=0,e=t):t+"."+i(a++)}for(;s<r;s++)o[n[s]]=s;c.encode=i,c.decode=function(t){var e=0;for(s=0;s<t.length;s++)e=e*r+o[t.charAt(s)];return e},t.exports=c},4469:t=>{"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZD0iTTIuNTIsMTguNDRhNC44MSw0LjgxLDAsMCwxLDAtNi43OUwxMy4xNSwxLjE0QTMuMzYsMy4zNiwwLDAsMSwxNy45LDUuODlMNy4yNywxNi40MmExLjkyLDEuOTIsMCwwLDEtMi43MS0yLjcxTDkuOTEsOC40OGEuNDcuNDcsMCwwLDEsLjY3LjY3TDUuMjUsMTQuMzhhMSwxLDAsMCwwLDAsMS4zNCwxLDEsMCwwLDAsMS4zNywwTDE3LjI1LDUuMjJhMi4zOSwyLjM5LDAsMCwwLTMuMzgtMy4zOUwzLjIxLDEyLjM0YTMuODQsMy44NCwwLDAsMCw1LjQzLDUuNDJMMTcuODIsOC43YS40Ni40NiwwLDAsMSwuNjgsMCwuNDYuNDYsMCwwLDEsMCwuNjdMOS4zMSwxOC40NkE0LjgxLDQuODEsMCwwLDEsMi41MiwxOC40NFoiLz48L3N2Zz4="},5428:t=>{"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZD0iTTE4LjQ0LDExLjQxaC03djdhMS40MSwxLjQxLDAsMSwxLTIuODIsMHYtN2gtN2ExLjQxLDEuNDEsMCwwLDEsMC0yLjgyaDd2LTdhMS40MSwxLjQxLDAsMCwxLDIuODIsMHY3aDdhMS40MSwxLjQxLDAsMSwxLDAsMi44MloiLz48L3N2Zz4="},1481:t=>{"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZD0iTTE1LjIsOC45MSw2Ljg1LjU4YTEuNDcsMS40NywwLDAsMC0yLjA4LDBoMGExLjQ4LDEuNDgsMCwwLDAsMCwyLjA4TDEyLjA2LDEwbC03LjMsNy4zYTEuNDgsMS40OCwwLDAsMCwwLDIuMDgsMS40NiwxLjQ2LDAsMCwwLDIuMDksMGw4LjM1LTguMzNBMS40OCwxLjQ4LDAsMCwwLDE1LjI4LDlaIi8+PC9zdmc+"},5467:t=>{"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZD0iTTEwLDE5Ljg1QTkuODUsOS44NSwwLDEsMSwxOS44NSwxMCw5Ljg2LDkuODYsMCwwLDEsMTAsMTkuODVaTTEwLDEuNzNBOC4yNyw4LjI3LDAsMSwwLDE4LjI3LDEwLDguMjgsOC4yOCwwLDAsMCwxMCwxLjczWm0tLjA2LDlINC44OGEuNzkuNzksMCwwLDEsMC0xLjU4SDkuMTVWMy4zYS43OS43OSwwLDEsMSwxLjU4LDBWOS45NEEuOC44LDAsMCwxLDkuOTQsMTAuNzNaIi8+PC9zdmc+"},9301:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAknSURBVHgBlVhdbF1HEZ4599hJaiexQaJ1QcItIeKtbhFEVdvESIBEK9UIHqAvjYvaF5CaGIkfqUikkRCiAvVGAl5aWhtRKQUqEqE+IKr6tkGItiR1kXiBorg84Kai2Pm3788ZZv9mZ/fcGzsrXZ9zdmdnv5n9ZnbWCFto9Oz0WHcUpqCAGSCYJoRJRNjN70hehr+tKHGfeeen6TPD9ovISfg+sHIAa/xniXqwVFXwyravtE5sBQ9uBrY9DIexpEO81Jga4YWLCA0sAgvMPqxeo5rUMhWJaTIflIwVO0sV/rICmN/xQGsZrhf0+rPTh4uSvs/qxxBT3W4mWa8GcA5u8KRzsBsnWQaRvJdZ2rzzM5G0RtsZy0h4ZPhga2HLoNef3t/kgUNgARg9VQonGIFh7/kRLQsoKdAH40rUd820l5xL7Ftz+yOvzm0K+urP98/z+geBKJMI3gI/JNiCoLjary390iOacs9Gevl5cQcrmN/2jVMPDQS9/uT+JjToUbFUgQxsdVvslo0GpN7XO0Kasn7nyHd6yDEwNQ89b7zG5vZHT83VQF994p5ZbMAzzgf1FiCH6DerkKIy81O0SQpJWrINDjqh94WQTtBi0FOgdUFV4Tdv+NappoC++sPpSaDeIg9+lDLv6xRBhrluL6O3VIiS2hjxpIMUEYW5qCehpQhERgYCokpCqzs2ylvx8dZaab6q9e4sFjApblL6woKVDTXkkCT06sxgyHIeEHgCkQ9fcpOsHOgwiPzwRjkjyDM6ZniX4tnhnMWuYPcQ9zxuRa88dtdZlpnUXkq97T0ByhMuY6FwXciSBhwllHDAKUuhwrA07CmEqNKz1r48dEt54dv3fJE61SSl+YxiGnKMCEQlEXL6K6piIsjIXAnOaIbnCwqtrE6UzClSEQzIOHu7bHSnyrJdHagk3ZM60RRJxFFhlwnzwPLAlINiWCoJDCeorIGyNRjeyRuTpKaQ84lmyl6nmgIKZ0QMD8KQcIJu8vkeccfcTwE/MIGdxeehu/jrUEyo+d6R6EkDcQeC1yV5hEDVoYGRjjEEvJOQpvHiw3euMsCxIBCPrrBZ0aOBMSPNPwDesNNR4P0VaP/+Gej++UUfNIiY0dr3aRUCx3f6BSQEUC+sJpnG2aPD1VrY9mQ9MVGC320gZ5B/vw2NT9xuRYoPTsD22cegs+d22DjxC4T/roBLjY5s4Rwnbb/tqwDUKRqTFkV8PrkkiQdxrKA2f3YQqzbrN+9tlnJPoA738Q/sk7/bYPu7fz8DeRu6+14Y/fELsO3+r/HHKM9Fq6/qiF6A8N4xeoD8O/kxMmuh+TbjRnbDz+m4dY0ug69woLwi/nmQFiCpJ7TRjrNx0P3baRjUhr/0MIz8YAHKu+51QK2hXlfQ164sQNvftuDIPM23c16QJy9PHoOTx7WZfSQkAn3ChfTmgkYKBzM+shN3PfdH2KxV763A5e99Hei9lXj0YyQtqF0HkOyQpPbAKYWNQX9hH+XpC5TWsBjoNMyfO+d/B8WHJmArrf3Si7Dx3NPUO/efJD+nsJP0FjFkp6d5Nr4z+eEjfAowqd25y1cfhB7Yk8E+w3uX5/V4mjlL+LvxsY/zb+9WMEPj1r0wdOcBzpWj0D1zmvXw+mZNo0+vV6n1/DvLWFnfb58FdBl914DlresShglo+gNo816pyfzb+M1xoEsXYautuJGzzIOPwK5fncShz91n9VjAVeYgvWYvXTP0Nb57y0eOyFZphoR8G4rprCSh/71PncWX0L/bn82JozuvCd6MD919AIqbbobev/7Bhl/SSybrCx/TAhxw9TOfJthKC4m2XiinoEwqvXECG3v2Qjl1B2z78lcHq+SdOn//ZwcMxrNDcHsjyrCQx4X5RLEunMgeu3ktb7vDeg1HR63nipsmAEdGcTNvm9ZdOgPrC0/BgBuDL6R8+vBnW5ArEVRhHi4nUjbFLRKDPGADduToE3C9zXh3ff4paL9w3FWGfarDRB6k6pXapkykMZYA2mJ1dwk3ORr+/H14vYCNZzd++zzQ5YspgYOjqipNhwFM5rRSSsk6NWJgKsChAComboattu7Sabjyo6NUnXu37lWlV8dcHnwyHjitrHDg0ZW9iZKYYSxnTZ7erPXe/idc/dlPqPvWmwhSREYQEE/HWNZGR9XAgo+9Mrfc8z81JONdY8+1AVveWiocFzoJwQCw5l3dp4E6ByLlnM65JWy2cVnFRZVcedsnBwJmoAYw0eVLqG7jLv1AvKXL7SSaVMcRDMlitKxxSWjgVwKoecLk37yZFMa8hercisz2ngrb752RXoj9zVDuL5CCReXD6DT+Z8h5rjl2pwSWBWIwKAWaz9W7KxYs8xYAsnNKR772GqWlnL9uEfVLfSrO/HlyvuCuZcoEMVxiPNhk50y5/adXhbcXHphhwGfqgL216lWCzjmoIu2Y5GDLgceCkC2r3sTV6U89yZ2H66lI36ihvoWQRX3unXyr+wR0dEP2H4B+8+NYs+hC46R4NqEHQQ0cFnpyDCwtnBc5Gh308SJQvmx/wO4spwZQqyhh+xLLnc8DwRkRcfg/CkI0snaC5gZk8inmzJOo8rX0Y8go7+xq/fVkMd5qrbGfmzJOMZVaWdDX4wEt5NxgVchyRZFQKfEgQe3IRu92G0pBR3CWmzNv+gon3j7GXWs1a8GTP8seCViIyYVSCqB2rKKSrzVq2kRGH+Xq323vMNwFAT3eWmLAeDTbzlpGEW3ZNpPitzIozkvnUAjpkKiTmEDUOR7DDjUIjoy3/rIsoB3w18w/rI9B1lDX2l6J2Xbsx88+LTemltpQVXD95rtYa+5qvb6gMKWNbzLz3PlgrfbI3/t9D+qT/kKcmjgjk0OVl5lk8+Mvv/GQFily3eOLr8/yvOhxe1apUkG2G2KtLbQBOdtkeqCVSkchhYYiKgHrPW9+vJ/NHHBf0BZ46405VmKEl+0CGGuJGGyykIoDMbRGK9vtOay9q4NX0X6tIDy8++XX5vrhu2Y2W52emoRi+CCfuLOsc1J7xJcE6CsHSC4NA0+/2uLZKUtr5sQDGD1mU/HgeVtrF6b3zfSgmuZNm+IyiX84VjvGU5C0uX4DEs7yyysseYL/YfeWy2TXbv8HrbpwlYucKxEAAAAASUVORK5CYII="},7020:()=>{},7888:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6397),o=n(8679);function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=a(r),i=a(o),c=function(){function t(t){"function"==typeof t.getVersion&&s.default(t.getVersion())?i.default(t.getVersion())!==i.default(this.getVersion())&&console.warn("Proxying an event bus of version "+t.getVersion()+" with "+this.getVersion()):console.warn("Proxying an event bus with an unknown or invalid version"),this.bus=t}return t.prototype.getVersion=function(){return"3.1.0"},t.prototype.subscribe=function(t,e){this.bus.subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this.bus.unsubscribe(t,e)},t.prototype.emit=function(t,e){this.bus.emit(t,e)},t}(),l=function(){function t(){this.handlers=new Map}return t.prototype.getVersion=function(){return"3.1.0"},t.prototype.subscribe=function(t,e){this.handlers.set(t,(this.handlers.get(t)||[]).concat(e))},t.prototype.unsubscribe=function(t,e){this.handlers.set(t,(this.handlers.get(t)||[]).filter((function(t){return t!=e})))},t.prototype.emit=function(t,e){(this.handlers.get(t)||[]).forEach((function(t){try{t(e)}catch(t){console.error("could not invoke event listener",t)}}))},t}(),u=null;function p(){return null!==u?u:"undefined"==typeof window?new Proxy({},{get:function(){return function(){return console.error("Window not available, EventBus can not be established!")}}}):(void 0!==window.OC&&window.OC._eventBus&&void 0===window._nc_event_bus&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),u=void 0!==(null===window||void 0===window?void 0:window._nc_event_bus)?new c(window._nc_event_bus):window._nc_event_bus=new l)}e.ProxyBus=c,e.SimpleBus=l,e.emit=function(t,e){p().emit(t,e)},e.subscribe=function(t,e){p().subscribe(t,e)},e.unsubscribe=function(t,e){p().unsubscribe(t,e)}}}]);
//# sourceMappingURL=aaochat.378.js.map?v=61c078e87054a7770a76