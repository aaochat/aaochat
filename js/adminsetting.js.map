{"version":3,"file":"adminsetting.js","mappings":"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","sources":["webpack://aaochat/./src/adminsetting.js"],"sourcesContent":["jQuery(document).ready(function(){\n\n\t$( \"#side-menu-lead-create\" ).on( \"click\", function(e) {\n\t\t\tvar action_name = $(this).attr('name');\n\t\t\tvar aaochat_lead_name = $('#aaochat_lead_name').val();\n\t\t\tvar aaochat_lead_email = $('#aaochat_lead_email').val();\n\t\t\tvar aaochat_lead_phone_contry_code = $('#aaochat_lead_phone_contry_code').val();\n\t\t\tvar aaochat_lead_phone = $('#aaochat_lead_phone').val();\n\t\t\tvar aaochat_lead_country = $('#aaochat_lead_country').val();\n\t\t\tvar aaochat_lead_domain_identifier = $('#aaochat_lead_domain_identifier').val();\n\t\t\tvar aaochat_lead_organization = $('#aaochat_lead_organization').val();\n\t\t\tvar aaochat_lead_organization_address = $('#aaochat_lead_organization_address').val();\n\t\t\tvar aaochat_lead_organization_siteurl = $('#aaochat_lead_organization_siteurl').val();\n\t\t\t$(this).attr('disabled','disabled');\n\t\t\tif(aaochat_lead_name == '') {\n\t\t\t\talert('Please enter full name');\n\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif(aaochat_lead_email == '') {\n\t\t\t\talert('Please enter email');\n\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif(aaochat_lead_email != '') {\n\t\t\t\t//console.log((/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(aaochat_lead_email)));\n\t\t\t\t//if ((/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(aaochat_lead_email))==false)\n\t\t\t\tvar mailformat = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\n\t\t\t\t\n\t\t\t\tif ((aaochat_lead_email.match(mailformat))==null)\n\t\t\t\t{\t\t\t\t\t\n\t\t\t\t\talert('Please enter valid email');\n\t\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(aaochat_lead_phone_contry_code == '') {\n\t\t\t\talert('Please enter phone country code');\n\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif(aaochat_lead_phone == '') {\n\t\t\t\talert('Please enter phone number');\n\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif(aaochat_lead_country == '') {\n\t\t\t\talert('Please enter country');\n\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif(aaochat_lead_domain_identifier == '') {\n\t\t\t\talert('Please enter domain name');\n\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tif(aaochat_lead_domain_identifier.length > 20) {\n\t\t\t\t\talert('domain name must be less than 20 characters.');\n\t\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\t//const regexp = /^[a-z0-9]+([\\-\\_\\.]{1}[a-z0-9]+)*\\.[a-z]{2,6}$/i;\n\t\t\t\t\tconst regexp = /^[a-zA-Z0-9\\-\\_\\.]+$/i;\n\t\t\t\t\tif (regexp.test(aaochat_lead_domain_identifier)==false)\n\t\t\t\t\t{\n\t\t\t\t\t\talert('Please enter valid domain name');\n\t\t\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(aaochat_lead_organization == '') {\n\t\t\t\talert('Please enter organization');\n\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif(aaochat_lead_organization_address == '') {\n\t\t\t\talert('Please enter organization address');\n\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif(aaochat_lead_organization_siteurl == '') {\n\t\t\t\talert('Please enter organization site url');\n\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t$('.aaochat_loader').show();\n\t\t\t$.ajax({\n\t\t\t\turl: OC.generateUrl('/apps/aaochat/createlead'),\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: { action_name:action_name,\n\t\t\t\taaochat_lead_name: aaochat_lead_name,\n\t\t\t\taaochat_lead_email: aaochat_lead_email,\n\t\t\t\taaochat_lead_phone_contry_code: aaochat_lead_phone_contry_code,\n\t\t\t\taaochat_lead_phone: aaochat_lead_phone,\n\t\t\t\taaochat_lead_country: aaochat_lead_country,\n\t\t\t\taaochat_lead_domain_identifier: aaochat_lead_domain_identifier,\n\t\t\t\taaochat_lead_organization: aaochat_lead_organization,\n\t\t\t\taaochat_lead_organization_address: aaochat_lead_organization_address,\n\t\t\t\taaochat_lead_organization_siteurl: aaochat_lead_organization_siteurl },\n\t\t\t\tsuccess: function (lead_response) {\n\t\t\t\t\tconsole.log(lead_response);\n\t\t    \t\tif( lead_response.status == 'success' )\n\t\t    \t\t{\n\t\t\t\t\t\tif(action_name == 'register')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar responseData = lead_response.data;\n\t\t\t\t\t\t\tvar id = responseData._id;\n\t\t\t\t\t\t\tvar name = responseData.name;\n\t\t\t\t\t\t\tvar email = responseData.email;\t\t    \t\t\t\n\t\t\t\t\t\t\tvar phoneNo = responseData.phoneNo;\n\t\t\t\t\t\t\tvar organization = responseData.organization;\n\t\t\t\t\t\t\tvar status = responseData.status;\n\t\t\t\t\t\t\tvar isLeadCreated = 'no';\n\t\t\t\t\t\t\tif(id == '') {\n\t\t\t\t\t\t\t\tisLeadCreated = 'yes';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$('#aaochat_lead_status').val(status);\n\t\t\t\t\t\t\t$('#aaochat_lead_id').val(id);\n\t\t\t\t\t\t\t$('#aaochat_lead_status_msg').html(lead_response.message);\n\t\t\t\t\t\t\t//$('#aaochat_lead_status_msg').html('You will receive the license key in your registered email address within 24 hours. <br/>Once you receive the license key, please enter below and activate it.');\n\t\t\t\t\t\t\t$('#aaochat-lead .side-menu-setting-table input').attr('readonly','readonly');\n\t\t\t\t\t\t\t$('#aaochat-lead .side-menu-setting-table textarea').attr('disabled','disabled');\n\t\t\t\t\t\t\t$('#aaochat-lead .side-menu-setting-table select').attr('disabled','disabled');\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t//window.location.reload();\n\t\t\t\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t\t\t\t\t\t\t$('#activate-licence').css({'display':'block'});\n\t\t\t\t\t\t\t}, 1500);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$('#aaochat_lead_status_msg').html('Your detail updated successfully.');\n\t\t\t\t\t\t\t$('#aaochat-lead input#aaochat_lead_domain_identifier').attr('readonly','readonly');\n\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t$(\"#side-menu-lead-create\").removeAttr('disabled','disabled');\n\t\t\t\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t\t\t\t\t\t\t$('#activate-licence').css({'display':'block'});\n\t\t\t\t\t\t\t}, 1500);\n\t\t\t\t\t\t}\n\n\t\t    \t\t}\n\t\t    \t\telse \n\t\t    \t\t{\n\t\t    \t\t\tif(typeof lead_response.message != 'undefined') {\n\t\t    \t\t\t\talert(lead_response.message);\n\t\t\t\t\t\t\t$(\"#side-menu-lead-create\").removeAttr('disabled','disabled');\n\t\t\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t    \t\t\t}\n\t\t    \t\t}\n\t\t\t\t},\n\t\t\t\terror: function(xhr, status, error){\n\t\t\t\t\t$(\"#side-menu-lead-create\").removeAttr('disabled','disabled');\n\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t\t\t }\n\t\t\t}); \n\n\t});\n\n\t$( \"#side-menu-lead-status\" ).on( \"click\", function(e) {\n\t\t\tvar aaochat_lead_id = $('#aaochat_lead_id').val();\n\t\t\tif(aaochat_lead_id == '') {\n\t\t\t\talert(\"We didn't find your reference. Please try later or contact administrator.\");\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t$('.aaochat_loader').show();\n\t\t\t$.ajax({\n\t\t\t\turl: OC.generateUrl('/apps/aaochat/leadstatus'),\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: { aaochat_lead_id: aaochat_lead_id },\n\t\t\t\tsuccess: function (lead_response) {\n\t\t\t\t\t\n\t\t    \t\tif( lead_response.status == 'success' )\n\t\t    \t\t{\n\t\t    \t\t\tvar responseData = lead_response.data;\n\t\t    \t\t\tvar status = responseData.status;\n\t\t\t\t\t\t$('#aaochat_lead_status').val(status);\n\t\t\t\t\t\t//console.log(status);\n\t\t\t\t\t\tif(status == 'pending') {\n\t\t\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t\t\t\t\t\t$('#aaochat_lead_status_msg').html('Your profile is in review. You will receive the license key soon.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t}, 1500);\n\t\t\t\t\t\t}\n\t\t    \t\t}\n\t\t    \t\telse \n\t\t    \t\t{\n\t\t    \t\t\tif(typeof lead_response.message != 'undefined') {\n\t\t    \t\t\t\talert(lead_response.message);\n\t\t\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t    \t\t\t}\n\t\t    \t\t}\n\t\t\t\t}\n\t\t\t}); \n\n\t});\n\n\t//var settingPageUrl = OC.generateUrl('/settings/admin/aaochat');\n\t$( \"#side-menu-license-activate\" ).on( \"click\", function(e) {\n\t\tvar aaochat_license_key = $('#aaochat_license_key').val();\n\t\t\t$(this).attr('disabled','disabled');\n\n\t\t\tif(aaochat_license_key == '') {\n\t\t\t\talert('Please enter license key');\n\t\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t$('.aaochat_loader').show();\n\t\t\t$.ajax({\n\t\t\t\turl: OC.generateUrl('/apps/aaochat/activatelicense'),\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: { licenseKey: aaochat_license_key },\n\t\t\t\tsuccess: function (license_response) {\n\t\t\t\t\t\n\t\t    \t\tif( license_response.status == 'success' )\n\t\t    \t\t{\n\t\t\t\t\t\tvar responseData = license_response.data;\n\t\t\t\t\t\tvar id = responseData._id;\n\t\t\t\t\t\tvar clientId = responseData.clientId;\n\t\t\t\t\t\tvar licenseKey = responseData.licenseKey;\t\t    \t\t\t\n\t\t\t\t\t\tvar serverDetails = responseData.serverDetails;\n\t\t\t\t\t\tvar serverInstanceType = serverDetails.serverInstanceType;\n\t\t\t\t\t\tvar url = serverDetails.url;\n\t\t\t\t\t\tvar fileServerUrl = serverDetails.fileServerUrl;\n\t\t\t\t\t\tvar storageSize = serverDetails.storageSize;\n\t\t\t\t\t\tvar serverDetailsId = serverDetails._id;\n\t\t\t\t\t\tvar status = responseData.status;\n\t\t\t\t\t\tvar activationDate = responseData.activationDate;\n\t\t\t\t\t\tvar ipAddress = responseData.ipAddress;\n\t\t\t\t\t\tvar isLicenseValid = 'no';\n\t\t\t\t\t\tif(status == 'active') {\n\t\t\t\t\t\t\tisLicenseValid = 'yes';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$('#aaochat_client_id').val(clientId);\n\t\t\t\t\t\t$('#aaochat_license_key').val(licenseKey);\n\t\t\t\t\t\t$('#aaochat_is_license_valid').val(isLicenseValid);\n\n\t\t\t\t\t\t$('#aaochat_ser_instance_type').val(serverInstanceType);\n\t\t\t\t\t\t$('#aaochat_ser_url').val(url);\n\t\t\t\t\t\t$('#aaochat_ser_file_server_url').val(fileServerUrl);\n\t\t\t\t\t\t$('#aaochat_ser_storage_size').val(storageSize);\n\t\t\t\t\t\t$('#aaochat_ser_id').val(serverDetailsId);\n\n\t\t\t\t\t\t$('#aaochat_license_status').val(status);\n\t\t\t\t\t\t$('#aaochat_license_id').val(id);\n\t\t\t\t\t\t$('#aaochat_activation_date').val(activationDate);\n\t\t\t\t\t\t$('#aaochat_ipaddress').val(ipAddress);\n\n\t\t\t\t\t\t$('.aaochat-setting-extra-fields').removeClass('hide');\n\t\t\t\t\t\t$('.aaochat-setting-extra-fields').addClass('show');\n\n\t\t\t\t\t\tvar localStorageData = responseData.localStorageData;\n\t\t\t\t\t\tvar ncUserToken = localStorageData.ncUserAuthKey;\n\t\t\t\t\t\tvar aaochatServerUrl = localStorageData.aaochatServerUrl;\n\t\t\t\t\t\tvar aaochatFileServerUrl = localStorageData.aaochatFileServerUrl;\n\t\t\t\t\t\tif (typeof(Storage) !== \"undefined\") {\n\t\t\t\t\t\t\tvar existsNcUserToken = localStorage.getItem(\"ngStorage-AuthKey\");\n\t\t\t\t\t\t\tif((typeof(ncUserToken) != 'undefined' ||  ncUserToken!= null) && ncUserToken != existsNcUserToken) {\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"ngStorage-AuthKey\", ncUserToken);\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"nextcloud-AaoChatServerURL\", aaochatServerUrl);\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"nextcloud-AaoChatFileServerURL\", aaochatFileServerUrl);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t}, 30000); //30000\n\t\t\t\t\t\t\n\t\t    \t\t}\n\t\t\t\t\telse if( license_response.status == 'error' )\n\t\t    \t\t{\n\t\t\t\t\t\tif(typeof license_response.data != 'undefined') {\n\t\t\t\t\t\t\tvar responseData = license_response.data;\n\t\t\t\t\t\t\t//console.log(responseData.serverStatus);\n\t\t\t\t\t\t\tif(responseData.serverStatus == 'inactive' )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\talert('Oops! It appears that the license key you are attempting to use has expired. To continue using Aao Business Chat, kindly submit a new registration request.');\n\t\t\t\t\t\t\t\t$(\"#side-menu-license-activate\").removeAttr('disabled','disabled');\n\t\t\t\t\t\t\t\t$('.aaochat_loader').hide();\n\n\t\t\t\t\t\t\t\tlocalStorage.removeItem(\"ngStorage-AuthKey\");\n\t\t\t\t\t\t\t\tlocalStorage.removeItem(\"nextcloud-AaoChatServerURL\");\n\t\t\t\t\t\t\t\tlocalStorage.removeItem(\"nextcloud-AaoChatFileServerURL\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(typeof license_response.message != 'undefined') {\n\t\t\t\t\t\t\t\talert(license_response.message);\n\t\t\t\t\t\t\t\t$(\"#side-menu-license-activate\").removeAttr('disabled','disabled');\n\t\t\t\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t    \t\telse \n\t\t    \t\t{\n\t\t    \t\t\tif(typeof license_response.message != 'undefined') {\n\t\t    \t\t\t\talert(license_response.message);\n\t\t\t\t\t\t\t$(\"#side-menu-license-activate\").removeAttr('disabled','disabled');\n\t\t\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t    \t\t\t}\n\t\t    \t\t}\n\t\t\t\t},\n\t\t\t\terror: function(xhr, status, error){\n\t\t\t\t\t$(\"#side-menu-license-activate\").removeAttr('disabled','disabled');\n\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t\t\t }\n\t\t\t}); \n\n\t});\n\n\t$( \"#side-menu-license-surrender\" ).on( \"click\", function(e) {\n\t\tvar aaochat_license_key = $('#aaochat_license_key').val();\n\t\tif(aaochat_license_key == '') {\n\t\t\talert('Please enter license key');\n\t\t\t$(this).removeAttr('disabled','disabled');\n\t\t\treturn false;\n\t\t}\n\t\t$(this).attr('disabled','disabled');\n\t\t\t$('.aaochat_loader').show();\n\t\t\t$.ajax({\n\t\t\t\turl: OC.generateUrl('/apps/aaochat/surrenderlicense'),\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: { licenseKey: aaochat_license_key },\n\t\t\t\tsuccess: function (license_response) {\n\t\t\t\t\t//console.log(license_response);\n\t\t    \t\tif( license_response.status == 'success' )\n\t\t    \t\t{\n\t\t    \t\t\tvar responseData = license_response.data;\n\t\t    \t\t\tvar id = responseData._id;\n\t\t    \t\t\tvar clientId = responseData.clientId;\n\t\t    \t\t\tvar licenseKey = responseData.licenseKey;\t\t    \t\t\t\n\t\t    \t\t\tvar serverDetails = responseData.serverDetails;\n\t\t    \t\t\tvar serverInstanceType = serverDetails.serverInstanceType;\n\t\t    \t\t\tvar url = serverDetails.url;\n\t\t    \t\t\tvar fileServerUrl = serverDetails.fileServerUrl;\n\t\t    \t\t\tvar storageSize = serverDetails.storageSize;\n\t\t    \t\t\tvar serverDetailsId = serverDetails._id;\n\t\t\t\t\t\tvar status = responseData.status;\n\t\t\t\t\t\tvar activationDate = responseData.activationDate;\n\t\t\t\t\t\tvar ipAddress = responseData.ipAddress;\n\t\t\t\t\t\tvar isLicenseValid = 'no';\n\t\t\t\t\t\tif(status == 'active') {\n\t\t\t\t\t\t\tisLicenseValid = 'yes';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$('#aaochat_client_id').val(clientId);\n\t\t\t\t\t\t$('#aaochat_license_key').val(licenseKey);\n\t\t\t\t\t\t$('#aaochat_is_license_valid').val(isLicenseValid);\n\n\t\t\t\t\t\t$('#aaochat_ser_instance_type').val(serverInstanceType);\n\t\t\t\t\t\t$('#aaochat_ser_url').val(url);\n\t\t\t\t\t\t$('#aaochat_ser_file_server_url').val(fileServerUrl);\n\t\t\t\t\t\t$('#aaochat_ser_storage_size').val(storageSize);\n\t\t\t\t\t\t$('#aaochat_ser_id').val(serverDetailsId);\n\n\t\t\t\t\t\t$('#aaochat_license_status').val(status);\n\t\t\t\t\t\t$('#aaochat_license_id').val(id);\n\t\t\t\t\t\t$('#aaochat_activation_date').val(activationDate);\n\t\t\t\t\t\t$('#aaochat_ipaddress').val(ipAddress);\n\n\t\t\t\t\t\t$('.aaochat-setting-extra-fields').removeClass('hide');\n\t\t\t\t\t\t$('.aaochat-setting-extra-fields').addClass('show');\n\n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t}, 5000);\n\t\t    \t\t}\n\t\t    \t\telse \n\t\t    \t\t{\n\t\t    \t\t\tif(typeof license_response.message != 'undefined') {\n\t\t    \t\t\t\talert(license_response.message);\n\t\t\t\t\t\t\t$(\"#side-menu-license-surrender\").removeAttr('disabled','disabled');\n\t\t\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t    \t\t\t}\n\t\t    \t\t}\n\t\t\t\t},\n\t\t\t\terror: function(xhr, status, error){\n\t\t\t\t\t$(\"#side-menu-license-surrender\").removeAttr('disabled','disabled');\n\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t\t\t }\n\t\t\t}); \n\n\t});\n}); "],"names":["jQuery","document","ready","$","on","e","action_name","this","attr","aaochat_lead_name","val","aaochat_lead_email","aaochat_lead_phone_contry_code","aaochat_lead_phone","aaochat_lead_country","aaochat_lead_domain_identifier","aaochat_lead_organization","aaochat_lead_organization_address","aaochat_lead_organization_siteurl","alert","removeAttr","match","length","test","show","ajax","url","OC","generateUrl","type","data","success","lead_response","console","log","status","responseData","id","_id","name","email","phoneNo","organization","html","message","setTimeout","hide","css","error","xhr","aaochat_lead_id","window","location","reload","aaochat_license_key","licenseKey","license_response","clientId","serverDetails","serverInstanceType","fileServerUrl","storageSize","serverDetailsId","activationDate","ipAddress","isLicenseValid","removeClass","addClass","localStorageData","ncUserToken","ncUserAuthKey","aaochatServerUrl","aaochatFileServerUrl","Storage","existsNcUserToken","localStorage","getItem","setItem","serverStatus","removeItem"],"sourceRoot":""}