{"version":3,"file":"authkey.js","mappings":"AAAAA,OAAOC,UAAUC,OAAM,WAEtB,IAAIC,EAAoB,KACA,oBAAbC,UACVD,EAAoBE,aAAaC,QAAQ,2BAET,IAAtBH,GAA0D,MAApBA,GAAiD,OAArBA,GAAmD,SAArBA,IAG1GI,EAAE,mBAAmBC,OACrBD,EAAEE,KAAK,CACNC,IAAKC,GAAGC,YAAY,4BACpBC,KAAM,OACNC,KAAM,CAAE,EACRC,QAAS,SAAUC,GAClB,GAAuB,QAApBA,GAAkD,MAApBA,EAEhC,GAA+B,WAA3BA,EAAiBC,OACrB,CACC,IAEIC,EAFeF,EAAiBF,KAEAI,iBAChCC,EAAcD,EAAiBE,cAC/BC,EAAmBH,EAAiBG,iBACpCC,EAAuBJ,EAAiBI,qBAC5C,GAAwB,oBAAblB,QAA0B,CACpC,IAAID,EAAoBE,aAAaC,QAAQ,0BAClB,IAAhBa,GAA8C,MAAdA,GAAuBA,GAAehB,IAChFE,aAAakB,QAAQ,oBAAqBJ,GAC1Cd,aAAakB,QAAQ,6BAA8BF,GACnDhB,aAAakB,QAAQ,iCAAkCD,GAEzD,CAEAE,YAAW,WACVC,OAAOC,SAASC,QACjB,GAAG,IACJ,WAGuC,IAA5BX,EAAiBY,SAC1BrB,EAAE,mBAAmBsB,YAMvBtB,EAAE,mBAAmBsB,MAEvB,EACAC,MAAO,SAASC,EAAKd,EAAQa,GAC5BvB,EAAE,mBAAmBsB,MACtB,IAIH","sources":["webpack://aaochat/./src/authkey.js"],"sourcesContent":["jQuery(document).ready(function(){\n\n\tvar existsNcUserToken = null;\n\tif (typeof(Storage) !== \"undefined\") {\n\t\texistsNcUserToken = localStorage.getItem(\"ngStorage-AuthKey\");\n\t}\n\tif((typeof(existsNcUserToken) == 'undefined' ||  existsNcUserToken== null || existsNcUserToken == '123' || existsNcUserToken == '\"123\"')) {\n\n\t\t//window.location.reload();\n\t\t$('.aaochat_loader').show();\n\t\t$.ajax({\n\t\t\turl: OC.generateUrl('/apps/aaochat/getauthkey'),\n\t\t\ttype: 'POST',\n\t\t\tdata: { },\n\t\t\tsuccess: function (authkey_response) {\n\t\t\t\tif(authkey_response != 'null' && authkey_response != null)\n\t\t\t\t{\n\t\t\t\t\tif( authkey_response.status == 'success' )\n\t\t\t\t\t{\n\t\t\t\t\t\tvar responseData = authkey_response.data;\n\n\t\t\t\t\t\tvar localStorageData = responseData.localStorageData;\n\t\t\t\t\t\tvar ncUserToken = localStorageData.ncUserAuthKey;\n\t\t\t\t\t\tvar aaochatServerUrl = localStorageData.aaochatServerUrl;\n\t\t\t\t\t\tvar aaochatFileServerUrl = localStorageData.aaochatFileServerUrl;\n\t\t\t\t\t\tif (typeof(Storage) !== \"undefined\") {\n\t\t\t\t\t\t\tvar existsNcUserToken = localStorage.getItem(\"ngStorage-AuthKey\");\n\t\t\t\t\t\t\tif((typeof(ncUserToken) != 'undefined' ||  ncUserToken!= null) && ncUserToken != existsNcUserToken) {\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"ngStorage-AuthKey\", ncUserToken);\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"nextcloud-AaoChatServerURL\", aaochatServerUrl);\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"nextcloud-AaoChatFileServerURL\", aaochatFileServerUrl);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t}\n\t\t\t\t\telse \n\t\t\t\t\t{\t\n\t\t\t\t\t\tif(typeof authkey_response.message != 'undefined') {\n\t\t\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$('.aaochat_loader').hide();\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function(xhr, status, error){\n\t\t\t\t$('.aaochat_loader').hide();\n\t\t\t}\n\t\t});\n\t}\n\n}); \n\n"],"names":["jQuery","document","ready","existsNcUserToken","Storage","localStorage","getItem","$","show","ajax","url","OC","generateUrl","type","data","success","authkey_response","status","localStorageData","ncUserToken","ncUserAuthKey","aaochatServerUrl","aaochatFileServerUrl","setItem","setTimeout","window","location","reload","message","hide","error","xhr"],"sourceRoot":""}