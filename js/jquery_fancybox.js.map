{"version":3,"file":"jquery_fancybox.js","mappings":"CAUA,SAAWA,EAAQC,EAAUC,EAAGC,GAC/B,aASA,GAPAH,EAAOI,QAAUJ,EAAOI,SAAW,CACjCC,KAAM,SAAUC,GAAQ,GAMrBJ,EAOL,GAAIA,EAAEK,GAAGC,SACPJ,QAAQC,KAAK,oCADf,CASA,IAqhGKI,EAwRCC,EACLC,EACAC,EA/yGGC,EAAW,CAGbC,eAAe,EAGfC,MAAM,EAGNC,OAAQ,GAGRC,UAAU,EAGVC,uBAAuB,EAGvBC,QAAQ,EAGRC,SAAS,EAKTC,SAAU,OAKVC,QAAS,OAKTC,QAAS,CACV,OAEA,YAGA,SACA,SAICC,SAAU,EAGVC,SAAS,EAGTC,OAAO,EAEPC,MAAO,CAKRC,SAAS,GAGRC,KAAM,CAEPC,SAAU,CAGRC,KAAM,CACPvB,UAAU,KAKVwB,OAAQ,CAETC,IAAK,sKAKLL,SAAS,EAITM,IAAK,CAAC,EAGNC,KAAM,CACJC,UAAW,SAKZC,MAAO,CACRJ,IAAK,yQAILK,OAAQ,GACRC,WAAW,GAIVC,YAAa,QASbC,gBAAiB,OAGjBC,kBAAmB,IAInBC,YAAa,OAabC,iBAAkB,OAGlBC,mBAAoB,IAGpBC,WAAY,GAGZC,UAAW,GAGXC,QAAS,ycAYTC,WAAY,uCAGZC,SAAU,qDAEVC,OAAQ,CACTC,SAAU,kTAIVC,KAAM,mYAINC,MAAO,gSAKPC,UAAW,2QAIXC,WAAY,mRAMZnC,SAAU,mQAMToC,SAAU,OAGVC,eAAe,EAMfC,WAAW,EAGXC,WAAW,EAGXC,WAAW,EAKXC,WAAY,CACbvB,WAAW,GAIVwB,MAAO,CACRC,UAAU,EACVC,UAAU,GAKTC,KAAM,KAaNC,MAAO,CAAC,EAERC,UAAW,CACZ7B,WAAW,EACX8B,MAAO,KAGNC,OAAQ,CACT/B,WAAW,EACXgC,aAAa,EACbd,SAAU,sBACVe,KAAM,KAKLC,MAAO,OAcPC,OAAQxE,EAAEyE,KAEVC,WAAY1E,EAAEyE,KACdE,UAAW3E,EAAEyE,KAEbG,WAAY5E,EAAEyE,KACdI,UAAW7E,EAAEyE,KAEbK,YAAa9E,EAAEyE,KACfM,WAAY/E,EAAEyE,KAEdO,WAAYhF,EAAEyE,KACdQ,aAAcjF,EAAEyE,KAiBhBS,aAAc,SAAUC,EAASC,GAClC,MAAwB,UAAjBD,EAAQE,MAAmB,MACjC,EAGAC,WAAY,QAIZC,aAAc,QAGdC,iBAAiB,EACjBC,eAAe,EACfC,iBAAiB,EAKjBC,OAAQ,CACT3E,uBAAuB,EACvBM,UAAU,EACV4D,aAAc,SAAUC,EAASC,GAC/B,MAAwB,UAAjBD,EAAQE,MAAmB,gBACpC,EACAC,WAAY,SAAUH,EAASC,GAC7B,MAAwB,UAAjBD,EAAQE,KAAmB,iBAAmB,OACvD,EACAG,gBAAiB,SAAUL,EAASC,GAClC,MAAwB,UAAjBD,EAAQE,MAAmB,MACpC,EACAI,cAAe,SAAUN,EAASC,GAChC,MAAwB,UAAjBD,EAAQE,MAAmB,MACpC,GAMCO,KAAM,KACNC,KAAM,CACPC,GAAI,CACFC,MAAO,QACPC,KAAM,OACNC,KAAM,WACNC,MAAO,wEACPC,WAAY,kBACZC,UAAW,kBACXC,YAAa,cACbC,OAAQ,aACRC,SAAU,WACVC,MAAO,QACPC,KAAM,QAERC,GAAI,CACFX,MAAO,kBACPC,KAAM,SACNC,KAAM,cACNC,MAAO,0GACPC,WAAY,mBACZC,UAAW,mBACXC,YAAa,WACbC,OAAQ,iBACRC,SAAU,gBACVC,MAAO,SACPC,KAAM,2BAQLE,EAAK3G,EAAEF,GACP8G,EAAK5G,EAAED,GAEP8G,EAAS,EAUTC,EAEHhH,EAAOiH,uBACPjH,EAAOkH,6BACPlH,EAAOmH,0BACPnH,EAAOoH,wBAEP,SAAUC,GACR,OAAOrH,EAAOsH,WAAWD,EAAU,IAAO,GAC5C,EAIGE,EAEHvH,EAAOwH,sBACPxH,EAAOyH,4BACPzH,EAAO0H,yBACP1H,EAAO2H,uBACP,SAAUC,GACR5H,EAAO6H,aAAaD,EACtB,EAMGE,EAAiB,WACnB,IACDC,EADKC,EAAK/H,EAASgI,cAAc,eAG5BC,EAAc,CACnBC,WAAY,gBACZC,YAAa,iBACbC,cAAe,gBACfC,iBAAkB,uBAGjB,IAAKP,KAAKG,EACX,GAAIF,EAAGO,MAAMR,KAAO5H,EAClB,OAAO+H,EAAYH,GAIpB,MAAO,eACT,CAlBqB,GAuBjBS,EAAc,SAAUC,GAC1B,OAAOA,GAAOA,EAAIC,QAAUD,EAAI,GAAGE,YACrC,EAIIC,EAAY,SAAUC,EAAOC,GAC/B,IAAIC,EAAM7I,EAAE8I,QAAO,EAAM,CAAC,EAAGH,EAAOC,GAQpC,OANA5I,EAAE+I,KAAKH,GAAO,SAAUI,EAAKC,GAC1BjJ,EAAEkJ,QAAQD,KACZJ,EAAIG,GAAOC,EAEZ,IAEOJ,CACT,EA6BIM,EAAW,SAAUC,EAASC,EAAMC,GACtC,IAAIC,EAAOC,KAEXD,EAAKF,KAAOX,EAAU,CACvBY,MAAOA,GACHtJ,EAAEM,SAASK,UAEVX,EAAEyJ,cAAcJ,KACrBE,EAAKF,KAAOX,EAAUa,EAAKF,KAAMA,IAG5BrJ,EAAEM,SAASoJ,WAChBH,EAAKF,KAAOX,EAAUa,EAAKF,KAAME,EAAKF,KAAK1D,SAG1C4D,EAAK7B,GAAK6B,EAAKF,KAAK3B,MAAQb,EAE5B0C,EAAKI,UAAYC,SAASL,EAAKF,KAAKC,MAAO,KAAO,EAClDC,EAAKM,UAAY,KAEjBN,EAAKO,QAAU,KACfP,EAAKQ,QAAU,EAEfR,EAAKS,UAAW,EAGhBT,EAAKU,MAAQ,GAGbV,EAAKW,OAAS,CAAC,EAGfX,EAAKY,WAAWf,GAEXG,EAAKU,MAAMzB,QAIhBe,EAAKa,MACP,EAEApK,EAAE8I,OAAOK,EAASkB,UAAW,CAI3BD,KAAM,WACP,IAGEE,EACA9J,EAJE+I,EAAOC,KAETe,EADYhB,EAAKU,MAAMV,EAAKI,WACFN,KAIxBkB,EAAc3J,eAChBZ,EAAEM,SAAS8C,OAAM,GAMnBpD,EAAE,QAAQwK,SAAS,oBAGhBxK,EAAEM,SAASmK,gBACoB,IAAhCF,EAAc/G,gBACbxD,EAAEM,SAASoJ,UACZ3J,EAAS2K,KAAKC,aAAe7K,EAAO8K,cAEpC5K,EAAE,QAAQ6K,OACX,+FACC/K,EAAOgL,WAAa/K,EAASgL,gBAAgBC,aAC9C,gBAGChL,EAAE,QAAQwK,SAAS,6BAOrBhK,EAAY,GAEZR,EAAE+I,KAAKwB,EAAclJ,SAAS,SAAUiI,EAAOL,GAC7CzI,GAAa+J,EAActH,OAAOgG,IAAU,EAC9C,IAIAqB,EAAatK,EACZuJ,EAAK0B,UACH1B,EACAgB,EAAczH,QACboI,QAAQ,cAAe1K,GACvB0K,QAAQ,aAAcX,EAActH,OAAOI,UAAYkH,EAActH,OAAOK,cAG7ErB,KAAK,KAAM,sBAAwBsH,EAAK7B,IACxC8C,SAASD,EAAc1H,WACvBhB,KAAK,WAAY0H,GACjB4B,SAASZ,EAAchH,UAG1BgG,EAAK6B,MAAQ,CACXC,UAAWf,GAGb,CAAC,KAAM,QAAS,UAAW,UAAW,QAAS,UAAW,cAAcgB,SAAQ,SAAUC,GACxFhC,EAAK6B,MAAMG,GAAQjB,EAAWkB,KAAK,aAAeD,EACpD,IAEAhC,EAAKkC,QAAQ,UAGblC,EAAKmC,WAGLnC,EAAKoC,OAAOpC,EAAKI,UAChB,EAMAsB,UAAW,SAAUW,EAAKC,GAC3B,IAAIC,EAAMF,EAAIvC,KAAKxD,KAAK+F,EAAIvC,KAAKzD,OAASgG,EAAIvC,KAAKxD,KAAKC,GAExD,OAAO+F,EAAIX,QAAQ,kBAAkB,SAAUa,EAAOC,GACpD,OAAOF,EAAIE,KAAO/L,EAAY8L,EAAQD,EAAIE,EAC5C,GACC,EAMA7B,WAAY,SAAUf,GACvB,IAEEhF,EAFEmF,EAAOC,KACTyC,EAAQjM,EAAEkM,UAAU9C,GAGtBpJ,EAAE+I,KAAKkD,GAAO,SAAUE,EAAGZ,GACzB,IAEDa,EACA/G,EACAgH,EACAC,EACAC,EANKX,EAAM,CAAC,EACZvC,EAAO,CAAC,EAUHrJ,EAAEyJ,cAAc8B,IAIrBK,EAAML,EACNlC,EAAOkC,EAAKlC,MAAQkC,GACS,WAAjBvL,EAAEqF,KAAKkG,IAAsBvL,EAAEuL,GAAM/C,QAKjDa,GAHA+C,EAAQpM,EAAEuL,IAGG1J,QAAU,CAAC,GACxBwH,EAAOrJ,EAAE8I,QAAO,EAAM,CAAC,EAAGO,EAAMA,EAAKmD,UAGhCC,MAAQL,EAEbR,EAAIU,IAAM/C,EAAKF,KAAKiD,KAAOjD,EAAKiD,KAAOF,EAAMnK,KAAK,QAI7C2J,EAAIvG,MAASuG,EAAIU,MACpBV,EAAIvG,KAAO,SACXuG,EAAIU,IAAMf,IAKZK,EAAM,CACJvG,KAAM,OACNiH,IAAKf,EAAO,IAKbK,EAAIvC,KAAOrJ,EAAE8I,QAAO,EAAM,CAAC,EAAGS,EAAKF,KAAMA,GAGrCrJ,EAAEkJ,QAAQG,EAAKhI,WACpBuK,EAAIvC,KAAKhI,QAAUgI,EAAKhI,SAGnBrB,EAAEM,SAASoJ,UAAYkC,EAAIvC,KAAK1D,SACrCiG,EAAIvC,KAAOX,EAAUkD,EAAIvC,KAAMuC,EAAIvC,KAAK1D,SAMvCN,EAAOuG,EAAIvG,MAAQuG,EAAIvC,KAAKhE,KAC5BiH,EAAMV,EAAIU,KAAO,IAEZjH,GAAQiH,KACTD,EAAQC,EAAIP,MAAM,uCACrB1G,EAAO,QAEFuG,EAAIvC,KAAKlH,MAAMC,SACrBwJ,EAAIvC,KAAKlH,MAAMC,OAAS,UAAyB,QAAbiK,EAAM,GAAe,MAAQA,EAAM,MAE7DC,EAAIP,MAAM,wFACnB1G,EAAO,QACEiH,EAAIP,MAAM,yBACnB1G,EAAO,SACPuG,EAAM5L,EAAE8I,QAAO,EAAM8C,EAAK,CAC3Bc,YAAa,MACbrD,KAAM,CACJvH,OAAQ,CACTJ,SAAS,OAIkB,MAAlB4K,EAAIK,OAAO,KACpBtH,EAAO,WAIJA,EACLuG,EAAIvG,KAAOA,EAEXkE,EAAKkC,QAAQ,kBAAmBG,GAG1BA,EAAIc,cACVd,EAAIc,YAAc1M,EAAE4M,QAAQhB,EAAIvG,KAAM,CAAC,OAAQ,SAAU,UAAY,EAAI,OAASuG,EAAIvG,MAMrFuG,EAAItC,MAAQC,EAAKU,MAAMzB,OAEE,QAArBoD,EAAIvC,KAAKlI,WACdyK,EAAIvC,KAAKlI,SAAWnB,EAAE4M,QAAQhB,EAAIvG,KAAM,CAAC,OAAQ,SAAU,UAAY,GAG7C,SAArBuG,EAAIvC,KAAKjI,UACdwK,EAAIvC,KAAKjI,SAAWwK,EAAIvC,KAAKlI,UAI5ByK,EAAIiB,OAASjB,EAAIvC,KAAKwD,QAAU,KAE5BjB,EAAIvC,KAAKyD,UAAYlB,EAAItC,QAAUC,EAAKF,KAAKC,QAClDsC,EAAIiB,OAASjB,EAAIvC,KAAKyD,SAAStB,KAAK,aAEhCI,EAAIiB,OAAOrE,SACboD,EAAIvC,KAAKoD,MAAQb,EAAIvC,KAAKyD,WAIrBlB,EAAIiB,QAAUjB,EAAIiB,OAAOrE,SAAWoD,EAAIvC,KAAKoD,QACpDb,EAAIiB,OAASjB,EAAIvC,KAAKoD,MAAMjB,KAAK,cAG5BI,EAAIiB,SAAWjB,EAAIiB,OAAOrE,SAC/BoD,EAAIiB,OAAS,MAGZjB,EAAImB,MAAQnB,EAAIvC,KAAK0D,QAAUnB,EAAIiB,OAASjB,EAAIiB,OAAO,GAAGP,IAAM,MAG/B,aAA7BtM,EAAEqF,KAAKuG,EAAIvC,KAAK2D,WACrBpB,EAAIvC,KAAK2D,QAAUpB,EAAIvC,KAAK2D,QAAQC,MAAM1B,EAAM,CAAChC,EAAMqC,KAGpB,aAA9B5L,EAAEqF,KAAKkE,EAAKF,KAAK2D,WACtBpB,EAAIvC,KAAK2D,QAAUzD,EAAKF,KAAK2D,QAAQC,MAAM1B,EAAM,CAAChC,EAAMqC,KAIjDA,EAAIvC,KAAK2D,mBAAmBhN,IACnC4L,EAAIvC,KAAK2D,QAAUpB,EAAIvC,KAAK2D,UAAY/M,EAAY,GAAK2L,EAAIvC,KAAK2D,QAAU,IAK1D,SAAbpB,EAAIvG,OACTkH,EAAWD,EAAIY,MAAM,MAAO,IAEf1E,OAAS,IACpBoD,EAAIU,IAAMC,EAASY,QAEnBvB,EAAIvC,KAAK+D,OAASb,EAASY,SAKxBvB,EAAIvC,KAAK7H,QACdoK,EAAIvC,KAAOrJ,EAAE8I,QAAO,EAAM8C,EAAIvC,KAAM,CAClC1F,WAAW,EAEXzC,QAAS,EACTE,QAAS,EAETD,SAAU,EAGVJ,SAAU,EAGVmD,UAAW,EACXN,WAAY,EACZQ,OAAQ,EACRP,MAAO,EAGPqB,cAAc,EACdI,YAAY,EACZC,cAAc,EACdC,iBAAiB,EACjBC,eAAe,EACfC,iBAAiB,KAOlB6D,EAAKU,MAAMoD,KAAKzB,EAClB,IAGI0B,OAAOC,KAAKhE,EAAKW,QAAQ1B,SAC3Be,EAAKiE,kBAGLpJ,EAASmF,EAAKkE,SAEArJ,EAAOsJ,WACtBtJ,EAAOuJ,SAEPvJ,EAAOwJ,SAGP,EAUAC,UAAW,WACZ,IAAItE,EAAOC,KAEXD,EAAKuE,eAKLvE,EAAK6B,MAAMC,UACR0C,GAAG,iBAAkB,yBAAyB,SAAUC,GAC1DA,EAAEC,kBACFD,EAAEE,iBAEF3E,EAAKnG,MAAM4K,EACV,IACCD,GAAG,mCAAoC,wBAAwB,SAAUC,GAC3EA,EAAEC,kBACFD,EAAEE,iBAEF3E,EAAK4E,UACJ,IACCJ,GAAG,mCAAoC,wBAAwB,SAAUC,GAC3EA,EAAEC,kBACFD,EAAEE,iBAEF3E,EAAK6E,MACJ,IACCL,GAAG,WAAY,wBAAwB,SAAUC,GAEnDzE,EAAKA,EAAK8E,eAAiB,gBAAkB,eAC5C,IAKF1H,EAAGoH,GAAG,kCAAkC,SAAUC,GAC5CA,GAAKA,EAAEM,eAA0C,WAAzBN,EAAEM,cAAcjJ,MACzCkE,EAAKgF,WACPlH,EAAakC,EAAKgF,WAGpBhF,EAAKgF,UAAYzH,GAAc,WAC7ByC,EAAKiF,OAAOR,EACd,MAEIzE,EAAKpE,SAAiC,WAAtBoE,EAAKpE,QAAQE,MAC/BkE,EAAK6B,MAAMqD,MAAMC,OAGnBtH,YACE,WACDmC,EAAK6B,MAAMqD,MAAME,OAEjBpF,EAAKiF,OAAOR,EACX,GACAhO,EAAEM,SAASoJ,SAAW,IAAM,KAG/B,IAEA9C,EAAGmH,GAAG,cAAc,SAAUC,GAC5B,IACD7I,GADgBnF,EAAEM,SAAWN,EAAEM,SAASmK,cAAgB,MACrCtF,QACnByJ,EAAUZ,EAAEa,SAAWb,EAAEc,MAKxB,GAAe,GAAXF,GAWJ,MAAKzJ,EAAQkE,KAAKtI,UAAYiN,EAAEe,SAAWf,EAAEgB,QAAUhB,EAAEiB,UAAYjP,EAAEgO,EAAEkB,QAAQC,GAAG,sCAKpF,OAAgB,IAAZP,GAA6B,KAAZA,GACtBZ,EAAEE,sBAEF3E,EAAKnG,MAAM4K,IAMM,KAAZY,GAA8B,KAAZA,GACvBZ,EAAEE,sBAEF3E,EAAK4E,YAMY,KAAZS,GAA8B,KAAZA,GACvBZ,EAAEE,sBAEF3E,EAAK6E,aAKJ7E,EAAKkC,QAAQ,eAAgBuC,EAAGY,QAzC7BzJ,EAAQkE,KAAK1F,WACf4F,EAAKqE,MAAMI,EAyCd,IAGIzE,EAAKU,MAAMV,EAAKI,WAAWN,KAAK/H,WAClCiI,EAAK6F,mBAAqB,EAE1BxI,EAAGmH,GACJ,8HACA,SAAUC,GACRzE,EAAK6F,mBAAqB,EAEtB7F,EAAK8F,QACV9F,EAAK+F,eAGJ/F,EAAK8F,QAAS,CAChB,IAGC9F,EAAKgG,aAAezP,EAAO0P,aAAY,WACxCjG,EAAK6F,qBAED7F,EAAK6F,oBAAsB7F,EAAKU,MAAMV,EAAKI,WAAWN,KAAK/H,WAAaiI,EAAKkG,aAC/ElG,EAAK8F,QAAS,EACd9F,EAAK6F,mBAAqB,EAE1B7F,EAAKmG,eAEN,GAAG,KAEJ,EAKA5B,aAAc,WACf,IAAIvE,EAAOC,KAEX7C,EAAGgJ,IAAI,kCACP/I,EAAG+I,IAAI,uBAEPnG,KAAK4B,MAAMC,UAAUsE,IAAI,+BAErBpG,EAAKgG,eACPzP,EAAO8P,cAAcrG,EAAKgG,cAE1BhG,EAAKgG,aAAe,KAErB,EAKApB,SAAU,SAAU0B,GACrB,OAAOrG,KAAKmC,OAAOnC,KAAKO,QAAU,EAAG8F,EACpC,EAKAzB,KAAM,SAAUyB,GACjB,OAAOrG,KAAKmC,OAAOnC,KAAKO,QAAU,EAAG8F,EACpC,EAKAlE,OAAQ,SAAUmE,EAAKD,GACxB,IAEE7F,EACA+F,EACAlP,EACAsE,EACAgJ,EACA6B,EACAC,EACAC,EACAC,EAVE5G,EAAOC,KACT4G,EAAW7G,EAAKU,MAAMzB,OAWxB,KAAIe,EAAKkG,YAAclG,EAAK8G,WAAc9G,EAAK+G,aAAe/G,EAAKS,UAAnE,CAQA,GAHA8F,EAAMlG,SAASkG,EAAK,MACpBjP,EAAO0I,EAAKpE,QAAUoE,EAAKpE,QAAQkE,KAAKxI,KAAO0I,EAAKF,KAAKxI,QAE3CiP,EAAM,GAAKA,GAAOM,GAC9B,OAAO,EAkDT,GA9CApG,EAAWT,EAAKS,UAAYsD,OAAOC,KAAKhE,EAAKW,QAAQ1B,OAGrD2F,EAAW5E,EAAKpE,QAEhBoE,EAAKM,UAAYN,EAAKI,UACtBJ,EAAKO,QAAUP,EAAKQ,QAEpB5E,EAAUoE,EAAKgH,YAAYT,GAEvBM,EAAW,KACTvP,GAAQsE,EAAQmE,MAAQ8G,EAAW,IACxC7G,EAAKgH,YAAYT,EAAM,IAGlBjP,GAAQsE,EAAQmE,MAAQ,IAC7BC,EAAKgH,YAAYT,EAAM,IAIxBvG,EAAKpE,QAAUA,EACfoE,EAAKI,UAAYxE,EAAQmE,MACzBC,EAAKQ,QAAU5E,EAAQ2K,IAEvBvG,EAAKkC,QAAQ,aAAczB,GAE3BT,EAAKiE,iBAGLrI,EAAQqL,eAAiBvQ,EAErBD,EAAEyQ,UAAUZ,GACd1K,EAAQqL,eAAiBX,EAEzBA,EAAW1K,EAAQkE,KAAKW,EAAW,oBAAsB,sBAG3D6F,EAAWjG,SAASiG,EAAU,IAG9BE,EAAUxG,EAAKwG,QAAQ5K,GAGvBA,EAAQuL,OAAOlG,SAAS,2BAGpBR,EAaF,OAZI7E,EAAQkE,KAAK9G,iBAAmBsN,GACrCtG,EAAK6B,MAAMC,UAAUrJ,IAAI,sBAAuB6N,EAAW,MAG1DtG,EAAK6B,MAAMC,UAAUb,SAAS,oBAAoBiB,QAAQ,SAI1DlC,EAAKoH,UAAUxL,QAEfoE,EAAK7H,QAAQ,SAMfsO,EAAWhQ,EAAEM,SAASsQ,aAAazC,EAASuC,QAC5CT,EAAWjQ,EAAEM,SAASsQ,aAAarH,EAAK6B,MAAMqD,OAG9CzO,EAAE+I,KAAKQ,EAAKW,QAAQ,SAAUZ,EAAOuH,GACnC7Q,EAAEM,SAASwQ,KAAKD,EAAMH,QAAQ,EAChC,IAEIvC,EAAS2B,MAAQ3K,EAAQ2K,MAC3B3B,EAAS4C,YAAa,GAGxB5C,EAASuC,OAAOM,YAAY,oDAGxBjB,GAEFI,EAAOH,EAASiB,MAAQ9C,EAAS2B,IAAME,EAASkB,MAAQ/C,EAAS2B,IAAM3B,EAAS9E,KAAKvI,QAErFd,EAAE+I,KAAKQ,EAAKW,QAAQ,SAAUZ,EAAOuH,GACtCA,EAAMH,OAAOM,YAAY,qBAAqBA,aAAY,SAAU1H,EAAO6H,GACzE,OAAQA,EAAUpF,MAAM,2BAA6B,IAAIqF,KAAK,IAChE,IAIA,IAAIC,EAAUR,EAAMf,IAAME,EAASkB,MAAQL,EAAMf,IAAMe,EAAMxH,KAAKvI,OAElEd,EAAEM,SAASgR,aAAaT,EAAMH,OAAQ,CACpCa,IAAK,EACLN,KAAMI,EAAUpB,EAASgB,KAAOd,IAG9BU,EAAMf,MAAQ3K,EAAQ2K,KACxBe,EAAMH,OAAOlG,SAAS,oBAAsBqG,EAAMf,IAAM3K,EAAQ2K,IAAM,OAAS,aAIjFxH,EAAYuI,EAAMH,QAGlB1Q,EAAEM,SAASkR,QACTX,EAAMH,OAAQ,CACfa,IAAK,EACLN,MAAOJ,EAAMf,IAAM3K,EAAQ2K,KAAOE,EAASkB,OAASL,EAAMf,IAAM3K,EAAQ2K,KAAOe,EAAMxH,KAAKvI,QAEzF+O,GACA,WACDgB,EAAMH,OACH1O,IAAI,CACNyP,UAAW,GACXC,QAAS,KAEPV,YAAY,iDAEXH,EAAMf,MAAQvG,EAAKQ,SACrBR,EAAKoI,UAEN,GAED,KACS9B,GAAY1K,EAAQkE,KAAK3G,mBAElCwN,EAAO,iCAAmC/K,EAAQkE,KAAK3G,iBAEvDyL,EAASuC,OAAOlG,SAAS,oBAAsB2D,EAAS2B,IAAM3K,EAAQ2K,IAAM,OAAS,aAErF9P,EAAEM,SAASkR,QACZrD,EAASuC,OACTR,EACAL,GACA,WACE1B,EAASuC,OAAOM,YAAYd,GAAMc,YAAY,gDAChD,IACA,IAIG7L,EAAQyM,SACVrI,EAAKsI,cAAc1M,GAEnBoE,EAAKoH,UAAUxL,GAGjBoE,EAAK7H,QAAQ,QA9Jb,CA+JC,EAMA6O,YAAa,SAAUT,GACxB,IACEY,EACApH,EAFEC,EAAOC,KAmBX,OAdAF,GADAA,EAAQwG,EAAMvG,EAAKU,MAAMzB,QACT,EAAIe,EAAKU,MAAMzB,OAASc,EAAQA,GAE3CC,EAAKW,OAAO4F,IAAQvG,EAAKU,MAAMX,KAClCoH,EAAS1Q,EAAE,sCAAsCmL,SAAS5B,EAAK6B,MAAMqD,OAErElF,EAAKW,OAAO4F,GAAO9P,EAAE8I,QAAO,EAAM,CAAC,EAAGS,EAAKU,MAAMX,GAAQ,CAC1DwG,IAAKA,EACLY,OAAQA,EACRkB,UAAU,IAGTrI,EAAKuI,YAAYvI,EAAKW,OAAO4F,KAGxBvG,EAAKW,OAAO4F,EAClB,EAMAiC,cAAe,SAAUC,EAAGC,EAAGpC,GAChC,IAOEqC,EACAC,EACAC,EACAC,EACAC,EAXE/I,EAAOC,KACTrE,EAAUoE,EAAKpE,QACfoN,EAAWpN,EAAQoN,SACnBC,EAAcxS,EAAEM,SAASsQ,aAAazL,EAAQuL,QAAQQ,MACtDuB,EAAezS,EAAEM,SAASsQ,aAAazL,EAAQuL,QAAQgC,OACvDC,EAAcxN,EAAQ+L,MACtB0B,EAAezN,EAAQuN,OAOrBnJ,EAAK+G,aAAe/G,EAAKwG,YAAcwC,GAA8B,SAAhBpN,EAAQE,OAAmBF,EAAQyM,UAAazM,EAAQ0N,WAIjHtJ,EAAK+G,aAAc,EAEnBtQ,EAAEM,SAASwQ,KAAKyB,GAEhBP,EAAIA,IAAM/R,EAA0B,GAAduS,EAAoBR,EAC1CC,EAAIA,IAAMhS,EAA2B,GAAfwS,EAAqBR,GAE3CC,EAASlS,EAAEM,SAASsQ,aAAa2B,IAE1BhB,KAAOvR,EAAEM,SAASsQ,aAAazL,EAAQuL,QAAQa,IACtDW,EAAOjB,MAAQjR,EAAEM,SAASsQ,aAAazL,EAAQuL,QAAQO,KAEvDoB,EAASM,EAAcT,EAAOhB,MAC9BoB,EAASM,EAAeV,EAAOQ,OAG/BP,EAAqB,GAAdK,EAAkC,GAAdG,EAC3BP,EAAsB,GAAfK,EAAoC,GAAfG,EAGxBD,EAAcH,KAChBL,EAAOD,EAAOjB,KAAOoB,GAAUL,EAAIK,EAASL,IAEjC,IACZG,EAAO,GAGFA,EAAOK,EAAcG,IAC1BR,EAAOK,EAAcG,IAIlBC,EAAeH,KACjBL,EAAOF,EAAOX,IAAMe,GAAUL,EAAIK,EAASL,IAEhC,IACZG,EAAO,GAGFA,EAAOK,EAAeG,IAC3BR,EAAOK,EAAeG,IAIvBrJ,EAAKuJ,aAAaH,EAAaC,GAE/B5S,EAAEM,SAASkR,QACTe,EAAU,CACXhB,IAAKa,EACLnB,KAAMkB,EACNE,OAAQA,EACRC,OAAQA,GAEPzC,GAAY,KACZ,WACDtG,EAAK+G,aAAc,CAClB,IAIE/G,EAAKwJ,WAAaxJ,EAAKwJ,UAAUrF,UACnCnE,EAAKwJ,UAAUjC,OAEhB,EAKAkC,WAAY,SAAUnD,GACvB,IAGEoD,EAHE1J,EAAOC,KACTrE,EAAUoE,EAAKpE,QACfoN,EAAWpN,EAAQoN,SAGjBhJ,EAAK+G,aAAe/G,EAAKwG,YAAcwC,GAA8B,SAAhBpN,EAAQE,OAAmBF,EAAQyM,UAAazM,EAAQ0N,WAIjHtJ,EAAK+G,aAAc,EAEnBtQ,EAAEM,SAASwQ,KAAKyB,GAEhBU,EAAM1J,EAAK2J,UAAU/N,GAErBoE,EAAKuJ,aAAaG,EAAI/B,MAAO+B,EAAIP,QAEjC1S,EAAEM,SAASkR,QACTe,EAAU,CACXhB,IAAK0B,EAAI1B,IACTN,KAAMgC,EAAIhC,KACVoB,OAAQY,EAAI/B,MAAQqB,EAASrB,QAC7BoB,OAAQW,EAAIP,OAASH,EAASG,UAE7B7C,GAAY,KACZ,WACDtG,EAAK+G,aAAc,CAClB,IAED,EAKA4C,UAAW,SAAUrC,GACtB,IAKEsC,EACAC,EACAC,EACAC,EAPAf,EAAW1B,EAAM0B,SACjB7B,EAASG,EAAMH,OACfQ,EAAQL,EAAMK,OAASL,EAAMxH,KAAK6H,MAClCwB,EAAS7B,EAAM6B,QAAU7B,EAAMxH,KAAKqJ,OAKpC7J,EAAM,CAAC,EAET,SAAKgI,EAAMe,UAAaW,GAAaA,EAAS/J,UAI9C2K,EAAWnT,EAAEM,SAASsQ,aAfXpH,KAe6B4B,MAAMqD,OAAOyC,MACrDkC,EAAYpT,EAAEM,SAASsQ,aAhBZpH,KAgB8B4B,MAAMqD,OAAOiE,OAEtDS,GACEI,WAAW7C,EAAO1O,IAAI,gBACtBuR,WAAW7C,EAAO1O,IAAI,iBACtBuR,WAAWhB,EAASvQ,IAAI,eACxBuR,WAAWhB,EAASvQ,IAAI,gBAE1BoR,GACEG,WAAW7C,EAAO1O,IAAI,eACtBuR,WAAW7C,EAAO1O,IAAI,kBACtBuR,WAAWhB,EAASvQ,IAAI,cACxBuR,WAAWhB,EAASvQ,IAAI,iBAErBkP,GAAUwB,IACbxB,EAAQiC,EACRT,EAASU,IAKXlC,GAFAmC,EAAWG,KAAKC,IAAI,EAAGN,EAAWjC,EAAOkC,EAAYV,IAMzCS,EAAW,KACrBjC,EAAQiC,IAJVT,GAASW,GAOID,EAAY,KACvBV,EAASU,GAGQ,UAAfvC,EAAMxL,MACRwD,EAAI0I,IAAMiC,KAAKE,MAA6B,IAAtBN,EAAYV,IAAiBa,WAAW7C,EAAO1O,IAAI,eACzE6G,EAAIoI,KAAOuC,KAAKE,MAA2B,IAApBP,EAAWjC,IAAgBqC,WAAW7C,EAAO1O,IAAI,iBACzC,UAAtB6O,EAAMnE,cAKXgG,EAASxB,GAFboC,EAAczC,EAAMxH,KAAK6H,OAASL,EAAMxH,KAAKqJ,OAASxB,EAAQwB,EAAS7B,EAAMxH,KAAKsK,OAAS,GAAK,GAGjGjB,EAASxB,EAAQoC,EACLpC,EAAQwB,EAASY,IAC7BpC,EAAQwB,EAASY,IAIlBzK,EAAIqI,MAAQA,EACZrI,EAAI6J,OAASA,EAEN7J,EACN,EAKA2F,OAAQ,SAAUR,GACnB,IAAIzE,EAAOC,KAEXxJ,EAAE+I,KAAKQ,EAAKW,QAAQ,SAAUlB,EAAK6H,GACjCtH,EAAKuI,YAAYjB,EAAO7C,EAC1B,GACC,EAKA8D,YAAa,SAAUjB,EAAO7C,GAC/B,IAAIzE,EAAOC,KACT+I,EAAW1B,GAASA,EAAM0B,SAC1BrB,EAAQL,EAAMK,OAASL,EAAMxH,KAAK6H,MAClCwB,EAAS7B,EAAM6B,QAAU7B,EAAMxH,KAAKqJ,OACpChC,EAASG,EAAMH,OAGjBnH,EAAKqK,cAAc/C,GAGf0B,IAAarB,GAASwB,GAAgC,UAAtB7B,EAAMnE,eAA6BmE,EAAMgC,WAC3E7S,EAAEM,SAASwQ,KAAKyB,GAEhBvS,EAAEM,SAASgR,aAAaiB,EAAUhJ,EAAK2J,UAAUrC,IAE7CA,EAAMf,MAAQvG,EAAKQ,UACxBR,EAAK+G,aAAc,EAEnB/G,EAAKuJ,iBAKNvJ,EAAKsK,aAAahD,GAEdH,EAAOlI,SACTkI,EAAOjF,QAAQ,WAEXoF,EAAMf,MAAQvG,EAAKQ,SACxBR,EAAK6B,MAAMhK,QACR0S,IAAIvK,EAAK6B,MAAM2I,WAAWvI,KAAK,kCAC/BwI,YAAY,2BAA4BtD,EAAOuD,IAAI,GAAGtJ,aAAe+F,EAAOuD,IAAI,GAAGC,eAIvF3K,EAAKkC,QAAQ,WAAYoF,EAAO7C,EAC/B,EAKAmG,YAAa,SAAUtE,GACxB,IAAItG,EAAOC,KACTrE,EAAUoE,EAAKpE,QACfuL,EAASvL,EAAQuL,QAEfnH,EAAK8G,WAAclL,IAIvBuL,EAAO0D,WAAWpS,IAAI,CACpByP,UAAW,GACXC,QAAS,KAGXhB,EACG2D,SACAC,WACAtD,YAAY,iDAEfhR,EAAEM,SAASkR,QACTd,EAAQ,CACTa,IAAK,EACLN,KAAM,EACNS,QAAS,GAER7B,IAAa5P,EAAY,EAAI4P,GAC7B,WAEDa,EAAO1O,IAAI,CACTyP,UAAW,GACXC,QAAS,KAGNvM,EAAQ4L,YACXxH,EAAKoI,UAEN,IACA,GAED,EAKA5B,QAAS,SAAUc,GACpB,IACEb,EACAC,EAFE9K,EAAU0L,GAASrH,KAAKrE,QAI5B,QAAKA,IAIL8K,EAAWjQ,EAAEM,SAASsQ,aAAapH,KAAK4B,MAAMqD,OAC9CuB,EAAWhQ,EAAEM,SAASsQ,aAAazL,EAAQuL,SAGxCvL,EAAQuL,OAAO6D,SAAS,uBACxBf,KAAKgB,IAAIxE,EAASuB,IAAMtB,EAASsB,KAAO,IAAOiC,KAAKgB,IAAIxE,EAASiB,KAAOhB,EAASgB,MAAQ,IAE3F,EAKA6B,aAAc,SAAU2B,EAAWC,GACpC,IAGEC,EACAC,EAJErL,EAAOC,KACTrE,EAAUoE,EAAKpE,QACfmF,EAAaf,EAAK6B,MAAMC,UAIrBlG,IAAWoE,EAAK8G,WAAc9G,EAAKsL,YAIxCvK,EAAW0G,YAAY,qGAIvB4D,KAFAD,EAASpL,EAAKoL,OAAOF,EAAWC,KAEHnL,EAAKqL,aAElCtK,EAAW0J,YAAY,uBAAwBY,GAE/C5U,EAAE,wBAAwBkQ,KAAK,YAAa0E,GAExCD,EACFrK,EAAWE,SAAS,oBAEpBoK,IAC+B,SAA9BzP,EAAQkE,KAAKnE,cAA4BlF,EAAE8U,WAAW3P,EAAQkE,KAAKnE,eAAuD,QAAtCC,EAAQkE,KAAKnE,aAAaC,IAE/GmF,EAAWE,SAAS,uBACXrF,EAAQkE,KAAKxF,QAAUsB,EAAQkE,KAAKxF,MAAMC,UAAYyF,EAAKU,MAAMzB,OAAS,IAA8B,UAAxBrD,EAAQuH,aACjGpC,EAAWE,SAAS,sBAErB,EAKAoK,WAAY,WACb,IAEEG,EAFExL,EAAOC,KACTrE,EAAUoE,EAAKpE,QAMjB,GAAIA,IAAYoE,EAAK8G,WAA8B,UAAjBlL,EAAQE,OAAqBF,EAAQ0N,SAAU,CAC/E,IAAK1N,EAAQyM,SACd,OAAO,EAKN,IAFAmD,EAASxL,EAAK2J,UAAU/N,MAETA,EAAQ+L,MAAQ6D,EAAO7D,OAAS/L,EAAQuN,OAASqC,EAAOrC,QACxE,OAAO,CAER,CAEA,OAAO,CACN,EAKArE,aAAc,SAAUoG,EAAWC,GACpC,IACE7L,GAAM,EACN1D,EAFSqE,KAEMrE,QACfoN,EAAWpN,EAAQoN,SASrB,OAPIkC,IAAcxU,GAAayU,IAAezU,EAC5C4I,EAAM4L,EAAYtP,EAAQ+L,OAASwD,EAAavP,EAAQuN,OAC/CH,IAET1J,GADAA,EAAM7I,EAAEM,SAASsQ,aAAa2B,IACpBrB,MAAQ/L,EAAQ+L,OAASrI,EAAI6J,OAASvN,EAAQuN,QAGnD7J,CACN,EAKA8L,OAAQ,SAAUF,EAAWC,GAC9B,IACEvP,EADSqE,KACMrE,QACf2K,EAAM,KACNjH,GAAM,EAmBR,MAjBqB,UAAjB1D,EAAQE,OAAqBF,EAAQ4L,YAAe0D,GAAaC,KAAiBvP,EAAQ0N,WAC5FhK,EANSW,KAME0J,UAAU/N,GAEjBsP,IAAcxU,GAAayU,IAAezU,EAC/C6P,EAAM,CACJoB,MAAOuD,EACP/B,OAAQgC,GAEEvP,EAAQ4L,aACpBjB,EAAM9P,EAAEM,SAASsQ,aAAazL,EAAQoN,WAGjCzC,GAAOjH,IACZA,EAAM2K,KAAKgB,IAAI1E,EAAIoB,MAAQrI,EAAIqI,OAAS,KAAOsC,KAAKgB,IAAI1E,EAAI4C,OAAS7J,EAAI6J,QAAU,MAI7E7J,CACN,EAKA8H,UAAW,SAAUE,GACtB,IACExL,EACAqL,EACAsE,EAHEzL,EAAOC,KAKX,IAAIqH,EAAMoE,YAAapE,EAAMe,SAA7B,CAMA,GAFAf,EAAMoE,WAAY,GAEwB,IAAtC1L,EAAKkC,QAAQ,aAAcoF,GAG7B,OAFAA,EAAMoE,WAAY,GAEX,EAYT,OATA5P,EAAOwL,EAAMxL,MACbqL,EAASG,EAAMH,QAGZf,IAAI,WACJlE,QAAQ,WACRjB,SAASqG,EAAMxH,KAAKzG,YAGfyC,GACN,IAAK,QACNkE,EAAK2L,SAASrE,GAEd,MAEC,IAAK,SACNtH,EAAK4L,UAAUtE,GAEf,MAEC,IAAK,OACNtH,EAAK6L,WAAWvE,EAAOA,EAAMvE,KAAOuE,EAAMzH,SAE1C,MAEC,IAAK,QACNG,EAAK6L,WACHvE,EACAA,EAAMxH,KAAKlH,MAAMJ,IAChBmJ,QAAQ,gBAAiB2F,EAAMvE,KAC/BpB,QAAQ,aAAc2F,EAAMxH,KAAKgM,aAAexE,EAAMxH,KAAKlH,MAAMC,QAAU,IAC3E8I,QAAQ,aAAc2F,EAAM9D,OAAS,KAGxC,MAEC,IAAK,SACF/M,EAAE6Q,EAAMvE,KAAK9D,OACfe,EAAK6L,WAAWvE,EAAO7Q,EAAE6Q,EAAMvE,MAE/B/C,EAAK+L,SAASzE,GAGhB,MAEC,IAAK,OACNtH,EAAKgM,YAAY1E,GAEjBmE,EAAWhV,EAAE2B,KACX3B,EAAE8I,OAAO,CAAC,EAAG+H,EAAMxH,KAAK1H,KAAKC,SAAU,CACxC4T,IAAK3E,EAAMvE,IACXmJ,QAAS,SAAU5T,EAAM6T,GACJ,YAAfA,GACLnM,EAAK6L,WAAWvE,EAAOhP,EAExB,EACA8T,MAAO,SAAUC,EAAOF,GAClBE,GAAwB,UAAfF,GACdnM,EAAK+L,SAASzE,EAEf,KAIDH,EAAOmF,IAAI,WAAW,WACpBb,EAASc,OACX,IAEA,MAEC,QACDvM,EAAK+L,SAASzE,GAKf,OAAO,CAtFP,CAuFC,EAKAqE,SAAU,SAAUrE,GACrB,IACEkF,EADExM,EAAOC,KAIXpC,YAAW,WACT,IAAI4O,EAAOnF,EAAMoF,OAEZ1M,EAAK8G,YAAaQ,EAAMoE,WAAee,GAASA,EAAKxN,QAAWwN,EAAK,GAAGrE,UAAcd,EAAMgC,UAClGtJ,EAAKgM,YAAY1E,EAElB,GAAG,IAGHtH,EAAK2M,YAAYrF,GAGjBA,EAAM0B,SAAWvS,EAAE,wCAChBwK,SAAS,sBACTW,SAAS0F,EAAMH,OAAOlG,SAAS,2BAIP,IAAvBqG,EAAMxH,KAAK3H,SAAqBmP,EAAMxH,KAAK6H,OAASL,EAAMxH,KAAKqJ,QAAU7B,EAAM9D,QACjF8D,EAAMK,MAAQL,EAAMxH,KAAK6H,MACzBL,EAAM6B,OAAS7B,EAAMxH,KAAKqJ,QAE1BqD,EAAQhW,EAASgI,cAAc,QAEzBoO,QAAU,WACjBnW,EAAEwJ,MAAM4M,SAERvF,EAAMwF,OAAS,IACd,EAEAN,EAAMO,OAAS,WAChB/M,EAAK5E,UAAUkM,EACd,EAEAA,EAAMwF,OAASrW,EAAE+V,GACjBvL,SAAS,kBACTW,SAAS0F,EAAM0B,UACftQ,KAAK,MAAO4O,EAAM9D,QAIpBxD,EAAKgN,YAAY1F,EAChB,EAIAqF,YAAa,SAAUrF,GACxB,IACExE,EACAmK,EACAC,EACAC,EAJEC,EAAS9F,EAAMxH,KAAKsN,QAAU9F,EAAMxH,KAAK5H,MAAMkV,OASnD,GAAIA,EAAQ,CACVF,EAAU3W,EAAO8W,kBAAoB,EACrCF,EAAc5W,EAAOgL,WAAa2L,EAElCD,EAAOG,EAAOzJ,MAAM,KAAK2J,KAAI,SAAU/O,GACxC,IAAIgP,EAAM,CAAC,EAiBX,OAfAhP,EAAGiP,OACA7J,MAAM,OACN5B,SAAQ,SAAUxD,EAAIqE,GACxB,IAAIlD,EAAQW,SAAS9B,EAAGkP,UAAU,EAAGlP,EAAGU,OAAS,GAAI,IAErD,GAAU,IAAN2D,EACF,OAAQ2K,EAAItB,IAAM1N,EAGhBmB,IACF6N,EAAI7N,MAAQA,EACZ6N,EAAIG,QAAUnP,EAAGA,EAAGU,OAAS,GAE9B,IAEKsO,CACN,IAGAN,EAAKU,MAAK,SAAUC,EAAGC,GACxB,OAAOD,EAAElO,MAAQmO,EAAEnO,KAClB,IAGA,IAAK,IAAIoO,EAAI,EAAGA,EAAIb,EAAKhO,OAAQ6O,IAAK,CACvC,IAAIvP,EAAK0O,EAAKa,GAEd,GAAoB,MAAfvP,EAAGmP,SAAmBnP,EAAGmB,OAASyN,GAAgC,MAAf5O,EAAGmP,SAAmBnP,EAAGmB,OAASwN,EAAU,CAClGpK,EAAQvE,EACR,KACF,CACC,EAGKuE,GAASmK,EAAKhO,SACpB6D,EAAQmK,EAAKA,EAAKhO,OAAS,IAGtB6D,IACLwE,EAAMvE,IAAMD,EAAMmJ,IAGd3E,EAAMK,OAASL,EAAM6B,QAA2B,KAAjBrG,EAAM4K,UACvCpG,EAAM6B,OAAU7B,EAAMK,MAAQL,EAAM6B,OAAUrG,EAAMpD,MACpD4H,EAAMK,MAAQ7E,EAAMpD,OAGtB4H,EAAMxH,KAAKsN,OAASA,EAErB,CACC,EAKAJ,YAAa,SAAU1F,GACxB,IAAItH,EAAOC,KACT8N,EAAMvX,EAASgI,cAAc,OAC7BiO,EAAOhW,EAAEsX,GAEXzG,EAAMoF,OAASD,EACZH,IAAI,SAAS,WACftM,EAAK+L,SAASzE,EACb,IACCgF,IAAI,QAAQ,WACd,IAAI0B,EAEC1G,EAAMwF,SACT9M,EAAKiO,sBAAsB3G,EAAOrH,KAAKiO,aAAcjO,KAAKkO,eAE1DnO,EAAK5E,UAAUkM,IAGbtH,EAAK8G,YAILQ,EAAMxH,KAAKsN,UACbY,EAAQ1G,EAAMxH,KAAKkO,QAEK,SAAVA,IACfA,GACG1G,EAAMK,MAAQL,EAAM6B,OAAS,GAAK/L,EAAGuK,QAAUvK,EAAG+L,SAAW,EAAI,MAAQc,KAAKmE,MAAO9G,EAAMK,MAAQL,EAAM6B,OAAU,MACpH,MAGDsD,EAAK/T,KAAK,QAASsV,GAAOtV,KAAK,SAAU4O,EAAMxH,KAAKsN,SAIlD9F,EAAMwF,QACRjP,YAAW,WACRyJ,EAAMwF,SAAW9M,EAAK8G,WACxBQ,EAAMwF,OAAO3H,MAEd,GAAG8E,KAAKC,IAAI,IAAKD,KAAKoE,IAAI,IAAM/G,EAAM6B,OAAS,QAGjDnJ,EAAKsO,YAAYhH,GAChB,IACCrG,SAAS,kBACTvI,KAAK,MAAO4O,EAAMvE,KAClBnB,SAAS0F,EAAM0B,WAEb+E,EAAI3F,UAA8B,YAAlB2F,EAAIQ,aAA6B9B,EAAKyB,cAAgBzB,EAAK0B,cAC9E1B,EAAKvK,QAAQ,QACJ6L,EAAI3B,OACbK,EAAKvK,QAAQ,QAEd,EAKA+L,sBAAuB,SAAU3G,EAAOkH,EAAUC,GACnD,IAAI7E,EAAWvJ,SAASiH,EAAMxH,KAAK6H,MAAO,IACxCkC,EAAYxJ,SAASiH,EAAMxH,KAAKqJ,OAAQ,IAG1C7B,EAAMK,MAAQ6G,EACdlH,EAAM6B,OAASsF,EAEX7E,EAAW,IACbtC,EAAMK,MAAQiC,EACdtC,EAAM6B,OAASc,KAAKE,MAAOP,EAAW6E,EAAaD,IAGjD3E,EAAY,IACdvC,EAAMK,MAAQsC,KAAKE,MAAON,EAAY2E,EAAYC,GAClDnH,EAAM6B,OAASU,EAEhB,EAKA+B,UAAW,SAAUtE,GACtB,IAGEoH,EAHE1O,EAAOC,KACTH,EAAOwH,EAAMxH,KAAKvH,OAClB4O,EAASG,EAAMH,OAGjBG,EAAM0B,SAAWvS,EAAE,gCAAkCqJ,EAAK3H,QAAU,sBAAwB,IAAM,YAC/FM,IAAIqH,EAAKrH,KACTmJ,SAASuF,GAEZA,EAAOlG,SAAS,mBAAqBqG,EAAMnE,aAE3CmE,EAAMoH,QAAUA,EAAUjY,EAAEqJ,EAAKtH,IAAImJ,QAAQ,YAAY,IAAIgN,MAAOC,YACjElW,KAAKoH,EAAKpH,MACVkJ,SAAS0F,EAAM0B,UAEdlJ,EAAK3H,SACP6H,EAAKgM,YAAY1E,GAKjBoH,EAAQlK,GAAG,oBAAoB,SAAUC,GAC1CxE,KAAK4O,QAAU,EAEfvH,EAAMH,OAAOjF,QAAQ,WAErBlC,EAAK5E,UAAUkM,EACd,IAKAH,EAAO3C,GAAG,cAAc,WACzB,IAIEsK,EAJE9F,EAAW1B,EAAM0B,SACnB+F,EAAajP,EAAKrH,IAAIkP,MACtBqH,EAAclP,EAAKrH,IAAI0Q,OAIzB,GAA2B,IAAvBuF,EAAQ,GAAGG,QAAf,CAIA,IAEEC,EADYJ,EAAQO,WACFhN,KAAK,OACzB,CAAE,MAAOiN,GAAS,CAGdJ,GAASA,EAAM7P,QAAU6P,EAAM/D,WAAW9L,SAE5CkI,EAAO1O,IAAI,WAAY,WAEvBuQ,EAASvQ,IAAI,CACdkP,MAAO,OACP,YAAa,OACbwB,OAAQ,WAGH4F,IAAerY,IACpBqY,EAAa9E,KAAKkF,KAAKlF,KAAKoE,IAAIS,EAAM,GAAGrN,YAAaqN,EAAMM,YAAW,MAGtEpG,EAASvQ,IAAI,QAASsW,GAA0B,IAAItW,IAAI,YAAa,IAEjEuW,IAAgBtY,IACrBsY,EAAc/E,KAAKkF,KAAKlF,KAAKoE,IAAIS,EAAM,GAAGnE,aAAcmE,EAAMO,aAAY,MAGzErG,EAASvQ,IAAI,SAAUuW,GAA4B,IAEnD7H,EAAO1O,IAAI,WAAY,SAGzBuQ,EAASvB,YAAY,qBAjCrB,CAkCC,KAEAzH,EAAK5E,UAAUkM,GAGjBoH,EAAQhW,KAAK,MAAO4O,EAAMvE,KAG1BoE,EAAOmF,IAAI,WAAW,WAEpB,IACD7V,EAAEwJ,MACCgC,KAAK,UACLkD,OACAmK,SACA5W,KAAK,MAAO,gBACd,CAAE,MAAOwW,GAAS,CAElBzY,EAAEwJ,MACFmG,IAAI,cACJmJ,QAEAjI,EAAMe,UAAW,EACjBf,EAAMkI,YAAa,CACrB,GACC,EAKA3D,WAAY,SAAUvE,EAAOzH,GAC9B,IA5oDuBwC,EA4oDnBrC,EAAOC,KAEPD,EAAK8G,YAIT9G,EAAKsO,YAAYhH,GAEbA,EAAM0B,UACRvS,EAAEM,SAASwQ,KAAKD,EAAM0B,UAGxB1B,EAAMH,OAAOoI,SAxpDUlN,EA4pDXxC,IA3pDGwC,EAAIoN,gBAAkBpN,aAAe5L,GA2pD5BoJ,EAAQiL,SAAS7L,SAEnCY,EAAQmL,SAAS,qBAAuBnL,EAAQiL,SAASE,SAAS,sBACvEnL,EAAQ6P,QAAQ,mBAAmBxN,QAAQ,WAI1CoF,EAAMqI,aAAelZ,EAAE,SACvB0O,OACAyK,YAAY/P,GAGZA,EAAQpH,IAAI,UAAW,iBACb6O,EAAMgC,WAEQ,WAApB7S,EAAEqF,KAAK+D,KACZA,EAAUpJ,EAAE,SACT6K,OAAO7K,EAAE+W,KAAK3N,IACdoP,YAIE3H,EAAMxH,KAAK+D,SAChBhE,EAAUpJ,EAAE,SACToZ,KAAKhQ,GACLoC,KAAKqF,EAAMxH,KAAK+D,UAIpByD,EAAMH,OAAOmF,IAAI,WAAW,WAE1B7V,EAAEwJ,MACFgC,KAAK,eACLC,QAAQ,SAGJoF,EAAMqI,eACXrI,EAAMqI,aAAaG,MAAMjQ,EAAQ4H,YAAY,oBAAoBtC,QAAQ0H,SAEzEvF,EAAMqI,aAAe,MAIhBrI,EAAMyI,YACXzI,EAAMyI,UAAUlD,SAEhBvF,EAAMyI,UAAY,MAIZzI,EAAMgC,WACZ7S,EAAEwJ,MAAMsP,QAERjI,EAAMe,UAAW,EACjBf,EAAMkI,YAAa,EAEpB,IAEA/Y,EAAEoJ,GAAS+B,SAAS0F,EAAMH,QAEtB1Q,EAAEoJ,GAAS+F,GAAG,iBAChBnP,EAAEoJ,GAASoB,SAAS,kBAEpBxK,EAAEoJ,GAASmQ,KAAK,eAEhB1I,EAAMnE,YAAc,QAEpBmE,EAAMxH,KAAK6H,MAAQL,EAAMxH,KAAK6H,OAASlR,EAAEoJ,GAASnH,KAAK,SACvD4O,EAAMxH,KAAKqJ,OAAS7B,EAAMxH,KAAKqJ,QAAU1S,EAAEoJ,GAASnH,KAAK,WAG3D4O,EAAM0B,SAAW1B,EAAMH,OACpB4D,WACAlH,OAAO,uDACPoM,QAEH3I,EAAM0B,SAAS6B,WAAW1F,OAIrBmC,EAAM0B,SAAS/J,SAClBqI,EAAM0B,SAAW1B,EAAMH,OACvB+I,UAAU,eACVnF,WACAkF,SAGF3I,EAAM0B,SAAS/H,SAAS,oBAExBqG,EAAMH,OAAOlG,SAAS,mBAAqBqG,EAAMnE,aAEjDnD,EAAK5E,UAAUkM,GACd,EAKAyE,SAAU,SAAUzE,GACrBA,EAAMgC,UAAW,EAEjBhC,EAAMH,OACHjF,QAAQ,WACRuF,YAAY,mBAAqBH,EAAMnE,aACvClC,SAAS,yBAEZqG,EAAMnE,YAAc,OAEpBlD,KAAK4L,WAAWvE,EAAOrH,KAAKyB,UAAU4F,EAAOA,EAAMxH,KAAKrG,WAEpD6N,EAAMf,MAAQtG,KAAKO,UACrBP,KAAK8G,aAAc,EAEpB,EAKAiF,YAAa,SAAU1E,GACxB,IAAItH,EAAOC,MAEXqH,EAAQA,GAAStH,EAAKpE,WAER0L,EAAM6I,WAClB7I,EAAM6I,SAAW1Z,EAAEuJ,EAAK0B,UAAU1B,EAAMA,EAAKF,KAAKtG,aAClDoI,SAAS0F,EAAMH,QACfhC,OACAiL,OAAO,QAER,EAKA9B,YAAa,SAAUhH,IAGxBA,EAAQA,GAFGrH,KAEWrE,UAET0L,EAAM6I,WACjB7I,EAAM6I,SAAS5I,OAAOsF,gBAEfvF,EAAM6I,SAEd,EAKA/U,UAAW,SAAUkM,GACtB,IAAItH,EAAOC,KAEPD,EAAK8G,YAITQ,EAAMoE,WAAY,EAClBpE,EAAMe,UAAW,EAEjBrI,EAAKkC,QAAQ,YAAaoF,GAE1BtH,EAAKsO,YAAYhH,IAGbA,EAAMxH,KAAKlI,UAAc0P,EAAMyI,WAAczI,EAAMyI,UAAU9Q,SAC/DqI,EAAMyI,UAAYtZ,EAAEuJ,EAAK0B,UAAU4F,EAAOA,EAAMxH,KAAKpG,OAAO9B,WAAWgK,SAAS0F,EAAM0B,WAIpF1B,EAAMxH,KAAK9H,SAAWsP,EAAM0B,WAAa1B,EAAMgC,WACjDhC,EAAM0B,SAASxE,GAAG,kBAAkB,SAAUC,GAK/C,OAJgB,GAAZA,EAAE4L,QACJ5L,EAAEE,kBAGG,CACN,IAImB,UAAf2C,EAAMxL,MACXrF,EAAE,0CAA0CmL,SAAS0F,EAAM0B,WAI5DhJ,EAAKqK,cAAc/C,GAEnBtH,EAAKsK,aAAahD,GAEdA,EAAMf,MAAQvG,EAAKQ,SACrBR,EAAKuJ,eAGPvJ,EAAKsI,cAAchB,GAClB,EAMA+C,cAAe,SAAU/C,GAC1B,IAKEgJ,EALEtQ,EAAOC,KACTrE,EAAU0L,GAAStH,EAAKpE,QACxB6H,EAAU7H,EAAQkE,KAAK2D,QACvB8M,EAAiB3U,EAAQkE,KAAKrI,sBAC9B+Y,EAAWxQ,EAAK6B,MAAM4B,QAEtBgN,GAAW,EAEbD,EAAS/F,YAAY,6BAA8B8F,GAE/CA,GAAkB9M,GAAWA,EAAQxE,SACnCrD,EAAQ2K,MAAQvG,EAAKQ,UAC1B8P,EAASE,EAASE,QAAQ9O,SAAS4O,EAAS1F,WAGzCC,WACA4F,GAAG,GACHpB,QACAM,KAAKpM,GAERgN,EAAWH,EAAOjB,aAAY,GAE9BiB,EAAOf,QAAQ1C,UACH7M,EAAKwQ,WACjBC,EAAWzQ,EAAKwQ,SAASnB,aAAY,IAGpCzT,EAAQuL,OAAO1O,IAAI,iBAAkBgY,GAAY,IAElD,EAMAnG,aAAc,SAAUhD,GACzB,IAEElG,EACAwP,EACAC,EACAC,EAJAlV,EAAU0L,GADDrH,KACerE,QAMtBA,EAAQyM,WAA8C,IAAlCzM,EAAQkE,KAAKiR,mBACnCnV,EAAQoN,SAASvQ,IAAI,gBAAiB,IAIlCmD,EAAQoN,SAASqG,cAAgBzT,EAAQuL,OAAOgC,SAAW,KAChE0H,EAAgBjV,EAAQuL,OAAO,GAAGrI,MAAM,kBACxCgS,EAAgBlV,EAAQuL,OAAO1O,IAAI,kBAE/BuR,WAAW8G,GAAiB,IAC9B1P,EAAexF,EAAQuL,OAAO,GAAG/F,aAEjCxF,EAAQuL,OAAO1O,IAAI,iBAAkB,GAEjCwR,KAAKgB,IAAI7J,EAAexF,EAAQuL,OAAO,GAAG/F,cAAgB,IAC/DwP,EAAeE,GAGdlV,EAAQuL,OAAO1O,IAAI,iBAAkBoY,KAItCjV,EAAQoN,SAASvQ,IAAI,gBAAiBmY,GAEvC,EAOAtI,cAAe,SAAUhB,GAC1B,IAME0J,EACAC,EACA3K,EACA6B,EATEnI,EAAOC,KACTkH,EAASG,EAAMH,OACfuC,GAAM,EACNwH,GAAQ,EACR1K,EAAUxG,EAAKwG,QAAQc,GACvBkI,EAAalI,EAAMkI,WA4BrB,OAtBAlI,EAAMkI,YAAa,EAEnBwB,EAAS1J,EAAMxH,KAAKE,EAAKS,SAAW,kBAAoB,oBACxD6F,EAAWgB,EAAMxH,KAAKE,EAAKS,SAAW,oBAAsB,sBAE5D6F,EAAWjG,SAASiH,EAAML,iBAAmBvQ,EAAY4P,EAAWgB,EAAML,eAAgB,KAEtFT,GAAWc,EAAMf,MAAQvG,EAAKQ,SAAY8F,IAC5C0K,GAAS,GAII,SAAXA,IACE1J,EAAMf,MAAQvG,EAAKQ,SAAW8F,GAA2B,UAAfgB,EAAMxL,OAAqBwL,EAAMgC,WAAa4H,EAAQlR,EAAKmR,YAAY7J,IACtHoC,EAAM1J,EAAK2J,UAAUrC,GAErB0J,EAAS,QAMK,SAAXA,GACFhR,EAAK+G,aAAc,EAEnB2C,EAAIZ,OAASY,EAAI/B,MAAQuJ,EAAMvJ,MAC/B+B,EAAIX,OAASW,EAAIP,OAAS+H,EAAM/H,OAKjB,SAFfhB,EAAUb,EAAMxH,KAAK5G,eAGtBiP,EAAU8B,KAAKgB,IAAI3D,EAAMK,MAAQL,EAAM6B,OAAS+H,EAAMvJ,MAAQuJ,EAAM/H,QAAU,IAGzEhB,IACL+I,EAAM/I,QAAU,GAChBuB,EAAIvB,QAAU,GAIb1R,EAAEM,SAASgR,aAAaT,EAAM0B,SAASvB,YAAY,sBAAuByJ,GAE1EnS,EAAYuI,EAAM0B,eAGlBvS,EAAEM,SAASkR,QAAQX,EAAM0B,SAAUU,EAAKpD,GAAU,WACnDtG,EAAK+G,aAAc,EAEnB/G,EAAKoI,UACJ,MAKFpI,EAAKuI,YAAYjB,GAIZ0J,GAgBLva,EAAEM,SAASwQ,KAAKJ,GAGhB8J,EAAkB,oBAAsB3J,EAAMf,KAAOvG,EAAKO,QAAU,OAAS,YAAc,kCAAoCyQ,EAE/H7J,EAAOlG,SAASgQ,GAAiBxJ,YAAY,2BAE7CH,EAAM0B,SAASvB,YAAY,sBAG3B1I,EAAYoI,GAEO,UAAfG,EAAMxL,MACRwL,EAAM0B,SAAS7D,OAAOC,KAAK,QAG7B3O,EAAEM,SAASkR,QACTd,EACA,0BACAb,GACA,WACDa,EAAOM,YAAYwJ,GAAiBxY,IAAI,CACtCyP,UAAW,GACXC,QAAS,KAGPb,EAAMf,MAAQvG,EAAKQ,SACrBR,EAAKoI,UAEN,IACA,KA7CAd,EAAM0B,SAASvB,YAAY,sBAEtB+H,IAAchJ,GAA0B,UAAfc,EAAMxL,MAAqBwL,EAAMgC,UAChEhC,EAAM0B,SAAS7D,OAAOiL,OAAO,aAGxB9I,EAAMf,MAAQvG,EAAKQ,SACxBR,EAAKoI,aAwCL,EAKA+I,YAAa,SAAU7J,GACxB,IAAIhI,EAEF8R,EACAC,EACAC,EACAC,EACAC,EALAlO,EAASgE,EAAMhE,OAOjB,SAAKA,IAt+DW,SAAUmO,GACzB,IAAIC,EAAYpS,EAEhB,SAAKmS,GAAQA,EAAKE,gBAAkBnb,KAIpCC,EAAE,uBAAuBgC,IAAI,iBAAkB,QAE/CiZ,EAAa,CACdjJ,EAAGgJ,EAAKG,wBAAwBlK,KAAO+J,EAAKI,YAAc,EAC1DnJ,EAAG+I,EAAKG,wBAAwB5J,IAAMyJ,EAAKvS,aAAe,GAGzDI,EAAM9I,EAASsb,iBAAiBJ,EAAWjJ,EAAGiJ,EAAWhJ,KAAO+I,EAEhEhb,EAAE,uBAAuBgC,IAAI,iBAAkB,IAExC6G,EACT,CAm9DiByS,CAAWzO,EAAO,OAIlC8N,EAAW3a,EAAEM,SAASsQ,aAAa/D,GAEnC+N,EAAMrH,WAAW1G,EAAO7K,IAAI,qBAAuB,GACnD6Y,EAAMtH,WAAW1G,EAAO7K,IAAI,uBAAyB,GACrD8Y,EAAMvH,WAAW1G,EAAO7K,IAAI,wBAA0B,GACtD+Y,EAAMxH,WAAW1G,EAAO7K,IAAI,sBAAwB,GAEpD6G,EAAM,CACJ0I,IAAKoJ,EAASpJ,IAAMqJ,EACpB3J,KAAM0J,EAAS1J,KAAO8J,EACtB7J,MAAOyJ,EAASzJ,MAAQ2J,EAAME,EAC9BrI,OAAQiI,EAASjI,OAASkI,EAAME,EAChCzI,OAAQ,EACRC,OAAQ,GAGHqI,EAASzJ,MAAQ,GAAKyJ,EAASjI,OAAS,GAAI7J,EAClD,EAMA8I,SAAU,WACX,IAGEpJ,EAHEgB,EAAOC,KACTrE,EAAUoE,EAAKpE,QACf+E,EAAS,CAAC,GAGRX,EAAKwG,WAAc5K,EAAQyM,WAI1BzM,EAAQ4L,aACX5L,EAAQ4L,YAAa,EAErB5L,EAAQuL,OAAO0D,WAAW3I,QAAQ,WAElClC,EAAK7H,QAAQ,UAGb4G,EAAYnD,EAAQuL,QAEpBvL,EAAQuL,OAAOlG,SAAS,4BAGxBxK,EAAE+I,KAAKQ,EAAKW,QAAQ,SAAUlB,EAAK6H,GAChCA,EAAMf,KAAOvG,EAAKQ,QAAU,GAAK8G,EAAMf,KAAOvG,EAAKQ,QAAU,EAC/DG,EAAO2G,EAAMf,KAAOe,EACXA,IACT7Q,EAAEM,SAASwQ,KAAKD,EAAMH,QAEtBG,EAAMH,OAAOf,MAAMyG,SAEpB,IAEA7M,EAAKW,OAASA,GAGhBX,EAAK+G,aAAc,EAEnB/G,EAAKuJ,eAELvJ,EAAKkC,QAAQ,aAGPtG,EAAQkE,KAAKlH,MAAME,WACvB8C,EAAQuL,OACRlF,KAAK,eACL4B,OAAO,kBACP3B,QAAQ,QACRoK,IAAI,SAAS,WACR0F,SAASC,eACdD,SAASC,iBACGhS,KAAKiS,sBACjBjS,KAAKiS,uBAGJlS,EAAK6E,MACP,IAIGjJ,EAAQkE,KAAK5F,WAAqC,SAAxB0B,EAAQuH,eAEpCnE,EAAMpD,EAAQoN,SAAS/G,KAAK,2CAEpBhD,OACTD,EAAIkD,QAAQ,SAEZlC,EAAKqE,MAAM,MAAM,IAKlBzI,EAAQuL,OAAOgL,UAAU,GAAGC,WAAW,GACtC,EAKAja,QAAS,SAAU2D,GACpB,IACEuW,EACAxN,EAFE7E,EAAOC,KAIPD,EAAKU,MAAMzB,OAAS,IAIxB4F,EAAO7E,EAAKW,OAAOX,EAAKQ,QAAU,IAClC6R,EAAOrS,EAAKW,OAAOX,EAAKQ,QAAU,KAEtB6R,EAAKvW,OAASA,GACxBkE,EAAKoH,UAAUiL,GAGbxN,GAAQA,EAAK/I,OAASA,GACxBkE,EAAKoH,UAAUvC,GAEhB,EAKAR,MAAO,SAAUI,EAAGhE,GACrB,IAgBE6R,EACAC,EAjBEvS,EAAOC,KACTuS,EAAe,CAChB,UACA,aACA,gEACA,4CACA,8CACA,4CACA,SACA,SACA,QACA,QACA,QACA,oBACA,mCACG3K,KAAK,KAIL7H,EAAK8G,aAYTwL,GAHEA,GALE7N,GAAMzE,EAAKpE,SAAYoE,EAAKpE,QAAQ4L,WAKrBxH,EAAKpE,QAAQuL,OAAOlF,KAAK,aAAexB,EAAW,8BAAgC,KAHnFT,EAAK6B,MAAMC,UAAUG,KAAK,cAMb4B,OAAO2O,GAAc3O,QAAO,WAC1D,MAAqC,WAA9BpN,EAAEwJ,MAAMxH,IAAI,gBAA+BhC,EAAEwJ,MAAM+K,SAAS,WACrE,KAEmB/L,QACjBsT,EAAmBD,EAAevS,MAAMvJ,EAASic,eAE7ChO,GAAKA,EAAEiB,UAER6M,EAAmB,GAAyB,GAApBA,KAC1B9N,EAAEE,iBAEF2N,EAAe3B,GAAG2B,EAAerT,OAAS,GAAGiD,QAAQ,WAInDqQ,EAAmB,GAAKA,GAAoBD,EAAerT,OAAS,KAClEwF,GACLA,EAAEE,iBAGD2N,EAAe3B,GAAG,GAAGzO,QAAQ,WAI9BlC,EAAK6B,MAAMC,UAAUI,QAAQ,SAE9B,EAMAC,SAAU,WACX,IAAInC,EAAOC,KAGXxJ,EAAE,uBAAuB+I,MAAK,WAC5B,IAAIkT,EAAWjc,EAAEwJ,MAAM3H,KAAK,YAGxBoa,GAAYA,EAASvU,KAAO6B,EAAK7B,KAAOuU,EAAS5L,YACtD4L,EAASxQ,QAAQ,gBAEjBwQ,EAASnO,eAETmO,EAASC,WAAY,EAEtB,IAEA3S,EAAK2S,WAAY,GAEb3S,EAAKpE,SAAWoE,EAAK8F,UACvB9F,EAAKiF,SAELjF,EAAKiE,kBAGPjE,EAAKkC,QAAQ,cAEblC,EAAKsE,WACJ,EAMAzK,MAAO,SAAU4K,EAAGmO,GACrB,IAEE5B,EACA1K,EACA0C,EACA6J,EACA1K,EACA+I,EACAxH,EARE1J,EAAOC,KACTrE,EAAUoE,EAAKpE,QASbkX,EAAO,WACT9S,EAAK+S,QAAQtO,EACf,EAEA,QAAIzE,EAAK8G,YAIT9G,EAAK8G,WAAY,GAGsB,IAAnC9G,EAAKkC,QAAQ,cAAeuC,IAC9BzE,EAAK8G,WAAY,EAEjBvJ,GAAc,WACfyC,EAAKiF,QACJ,IAEO,IAKTjF,EAAKuE,eAELyE,EAAWpN,EAAQoN,SACnBgI,EAASpV,EAAQkE,KAAK9G,gBACtBsN,EAAW7P,EAAEyQ,UAAU0L,GAAKA,EAAI5B,EAASpV,EAAQkE,KAAK7G,kBAAoB,EAE1E2C,EAAQuL,OAAOM,YAAY,6FAEjB,IAANhD,EACFhO,EAAEM,SAASwQ,KAAK3L,EAAQuL,QAExB6J,GAAS,EAIXpV,EAAQuL,OACL0D,WACA3I,QAAQ,WACR2K,SAGCvG,GACFtG,EAAK6B,MAAMC,UACX2F,YAAY,oBACZxG,SAAS,uBACTxI,IAAI,sBAAuB6N,EAAW,MAIxCtG,EAAKsO,YAAY1S,GAEjBoE,EAAKmG,cAAa,GAElBnG,EAAKuJ,eAIQ,SAAXyH,GACEhI,GAAY1C,GAA6B,UAAjB1K,EAAQE,OAAqBkE,EAAKwG,YAAc5K,EAAQ0N,WAAaI,EAAM1J,EAAKmR,YAAYvV,MAEtHoV,EAAS,QAGI,SAAXA,GACFva,EAAEM,SAASwQ,KAAKyB,GAIhBkI,EAAQ,CACTlJ,KAHC6K,EAAUpc,EAAEM,SAASsQ,aAAa2B,IAGtBhB,IACbN,KAAMmL,EAAQnL,KACdoB,OAAQ+J,EAAQlL,MAAQ+B,EAAI/B,MAC5BoB,OAAQ8J,EAAQ1J,OAASO,EAAIP,OAC7BxB,MAAO+B,EAAI/B,MACXwB,OAAQO,EAAIP,QAMI,SAFfhB,EAAUvM,EAAQkE,KAAK5G,eAGxBiP,EAAU8B,KAAKgB,IAAIrP,EAAQ+L,MAAQ/L,EAAQuN,OAASO,EAAI/B,MAAQ+B,EAAIP,QAAU,IAGzEhB,IACLuB,EAAIvB,QAAU,GAGb1R,EAAEM,SAASgR,aAAaiB,EAAUkI,GAElCnS,EAAYiK,GAEZvS,EAAEM,SAASkR,QAAQe,EAAUU,EAAKpD,EAAUwM,GAErC,IAGL9B,GAAU1K,EACZ7P,EAAEM,SAASkR,QACZrM,EAAQuL,OAAOlG,SAAS,4BAA4BwG,YAAY,2BAChE,iCAAmCuJ,EACnC1K,EACAwM,IAIW,IAANrO,EACL5G,WAAWiV,EAAMxM,GAEjBwM,IAIM,KACN,EAKAC,QAAS,SAAUtO,GACpB,IACEiO,EAEAjK,EACAC,EAJE1I,EAAOC,KAET+S,EAAShT,EAAKpE,QAAQkE,KAAKoD,MAI7BlD,EAAKpE,QAAQuL,OAAOjF,QAAQ,WAE5BlC,EAAK6B,MAAMC,UAAUyN,QAAQ1C,SAE7B7M,EAAKkC,QAAQ,aAAcuC,GAGrBzE,EAAKpE,QAAQkE,KAAK3F,YACjB6Y,GAAWA,EAAO/T,QAAW+T,EAAOpN,GAAG,cAC7CoN,EAAShT,EAAKuD,UAGTyP,GAAUA,EAAO/T,SACtBwJ,EAAIlS,EAAO0c,QACXvK,EAAInS,EAAO2c,QAEXF,EAAO9Q,QAAQ,SAEfzL,EAAE,cACC0b,UAAUzJ,GACV0J,WAAW3J,KAIfzI,EAAKpE,QAAU,MAGf8W,EAAWjc,EAAEM,SAASmK,eAGpBwR,EAASvQ,YAET1L,EAAE,QAAQgR,YAAY,4CAEtBhR,EAAE,4BAA4BoW,SAE/B,EAKA3K,QAAS,SAAUiR,EAAM7L,GAC1B,IAGEhI,EAHE8T,EAAOC,MAAMvS,UAAUwS,MAAMC,KAAKC,UAAW,GAC/CxT,EAAOC,KACPoC,EAAMiF,GAASA,EAAMxH,KAAOwH,EAAQtH,EAAKpE,QAe3C,GAZIyG,EACF+Q,EAAKK,QAAQpR,GAEbA,EAAMrC,EAGRoT,EAAKK,QAAQzT,GAETvJ,EAAE8U,WAAWlJ,EAAIvC,KAAKqT,MACxB7T,EAAM+C,EAAIvC,KAAKqT,GAAMzP,MAAMrB,EAAK+Q,KAGtB,IAAR9T,EACF,OAAOA,EAGI,eAAT6T,GAA0BnT,EAAK6B,MAGjC7B,EAAK6B,MAAMC,UAAUI,QAAQiR,EAAO,MAAOC,GAF3C/V,EAAG6E,QAAQiR,EAAO,MAAOC,EAI1B,EAKAnP,eAAgB,WACjB,IAAIjE,EAAOC,KACTrE,EAAUoE,EAAKpE,QACfmE,EAAQnE,EAAQmE,MAChBgB,EAAaf,EAAK6B,MAAMC,UACxB0O,EAAWxQ,EAAK6B,MAAM4B,QACtBA,EAAU7H,EAAQkE,KAAK2D,QAGzB7H,EAAQuL,OAAOjF,QAAQ,WAGnBuB,GAAWA,EAAQxE,QACrBe,EAAKwQ,SAAWA,EAEhBA,EACAzF,WACA4F,GAAG,GACHd,KAAKpM,IAELzD,EAAKwQ,SAAW,KAGbxQ,EAAK0T,mBAAsB1T,EAAK8F,QACnC9F,EAAK+F,eAIPhF,EAAWkB,KAAK,yBAAyB4N,KAAK7P,EAAKU,MAAMzB,QACzD8B,EAAWkB,KAAK,yBAAyB4N,KAAK9P,EAAQ,GAEtDgB,EAAWkB,KAAK,wBAAwB0E,KAAK,YAAa/K,EAAQkE,KAAKxI,MAAQyI,GAAS,GACxFgB,EAAWkB,KAAK,wBAAwB0E,KAAK,YAAa/K,EAAQkE,KAAKxI,MAAQyI,GAASC,EAAKU,MAAMzB,OAAS,GAEvF,UAAjBrD,EAAQE,KAEViF,EACAkB,KAAK,wBACLmD,OACAsE,MACAzH,KAAK,4BACLvJ,KAAK,OAAQkD,EAAQkE,KAAK5H,MAAM6K,KAAOnH,EAAQmH,KAC/CqC,OACSxJ,EAAQkE,KAAKjI,SACtBkJ,EAAWkB,KAAK,iDAAiDkD,OAI/D1O,EAAED,EAASic,eAAe7M,GAAG,uBAC/B5F,EAAK6B,MAAMC,UAAUI,QAAQ,QAE9B,EAKAiE,aAAc,SAAUwN,GACzB,IACEpR,EAAM,CAAC,UAAW,UAAW,QAE3BoR,GAHO1T,KAGarE,QAAQkE,KAAKrI,uBACnC8K,EAAIuB,KAAK,WAGX7D,KAAK4B,MAAMC,UAAU2F,YACnBlF,EACC+K,KAAI,SAAU1K,GAChB,MAAO,iBAAmBA,CACzB,IACCiF,KAAK,MAGR5H,KAAKyT,mBAAoB,CACxB,EAEA3N,aAAc,WACf,IAAI/F,EAAOC,KACTH,EAAOE,EAAKpE,QAAUoE,EAAKpE,QAAQkE,KAAOE,EAAKF,KAC/CiB,EAAaf,EAAK6B,MAAMC,UAE1B9B,EAAK0T,mBAAoB,EACzB1T,EAAK6F,mBAAqB,EAE1B9E,EACG0J,YAAY,2BAA4B3K,EAAKjI,UAAWiI,EAAKhI,UAC7D2S,YAAY,2BAA4B3K,EAAKnI,SAAWqI,EAAKU,MAAMzB,OAAS,IAC5EwL,YAAY,0BAA2BzK,EAAKwQ,UAC5C/F,YAAY,uBAAwB3K,EAAKpI,QAAUsI,EAAKU,MAAMzB,OAAS,IACvEwL,YAAY,sBAAuB3K,EAAK7H,MAC1C,EAKA2b,eAAgB,WACb3T,KAAKyT,kBACPzT,KAAK8F,eAEL9F,KAAKkG,cAEN,IAGF1P,EAAEM,SAAW,CACX8c,QAAS,QACTzc,SAAUA,EAcV8J,YAAa,SAAU4S,GACxB,IAAIpB,EAAWjc,EAAE,wDAAwD6B,KAAK,YAC5E8a,EAAOC,MAAMvS,UAAUwS,MAAMC,KAAKC,UAAW,GAE/C,OAAId,aAAoB9S,IACE,WAApBnJ,EAAEqF,KAAKgY,GACZpB,EAASoB,GAASpQ,MAAMgP,EAAUU,GACF,aAApB3c,EAAEqF,KAAKgY,IACnBA,EAAQpQ,MAAMgP,EAAUU,GAGhBV,EAIR,EAKAqB,KAAM,SAAUrR,EAAO5C,EAAMC,GAC9B,OAAO,IAAIH,EAAS8C,EAAO5C,EAAMC,EAChC,EAKAlG,MAAO,SAAUma,GAClB,IAAItB,EAAWzS,KAAKiB,cAEhBwR,IACFA,EAAS7Y,SAGG,IAARma,GACL/T,KAAKpG,MAAMma,GAGX,EAKAC,QAAS,WACVhU,KAAKpG,OAAM,GAEXwD,EAAGkN,IAAI,QAAQnE,IAAI,iBAAkB,KACpC,EAKAjG,SAAU,iEAAiE+T,KAAKC,UAAUC,WAK1FC,OACGrd,EAAMR,EAASgI,cAAc,OAG/BjI,EAAO+d,kBACP/d,EAAO+d,iBAAiBtd,IACxBT,EAAO+d,iBAAiBtd,GAAKud,iBAAiB,gBAC5C/d,EAASge,cAAgBhe,EAASge,aAAe,KAQpDnN,aAAc,SAAUrI,GACzB,IAAI6T,EAEJ,SAAK7T,IAAQA,EAAIC,SAMV,CACL+I,KAHF6K,EAAU7T,EAAI,GAAG4S,yBAGF5J,KAAO,EACpBN,KAAMmL,EAAQnL,MAAQ,EACtBC,MAAOkL,EAAQlL,MACfwB,OAAQ0J,EAAQ1J,OAChBhB,QAAS6B,WAAWhL,EAAIvG,IAAI,YAE7B,EAMAsP,aAAc,SAAU/I,EAAKyV,GAC9B,IAAInS,EAAM,GACR7J,EAAM,CAAC,EAET,GAAKuG,GAAQyV,EAwCb,OApCIA,EAAM/M,OAAShR,GAAa+d,EAAMzM,MAAQtR,IAC5C4L,GACAmS,EAAM/M,OAAShR,EAAYsI,EAAI0V,WAAWhN,KAAO+M,EAAM/M,MACxD,QACC+M,EAAMzM,MAAQtR,EAAYsI,EAAI0V,WAAW1M,IAAMyM,EAAMzM,KACtD,KAGA1F,EADKrC,KAAKoU,MACJ,eAAiB/R,EAAM,SAEvB,aAAeA,EAAM,KAIxBmS,EAAM3L,SAAWpS,GAAa+d,EAAM1L,SAAWrS,EACjD4L,GAAO,UAAYmS,EAAM3L,OAAS,KAAO2L,EAAM1L,OAAS,IAC/C0L,EAAM3L,SAAWpS,IAC1B4L,GAAO,WAAamS,EAAM3L,OAAS,KAGjCxG,EAAIrD,SACNxG,EAAIyP,UAAY5F,GAGdmS,EAAMtM,UAAYzR,IACpB+B,EAAI0P,QAAUsM,EAAMtM,SAGlBsM,EAAM9M,QAAUjR,IAClB+B,EAAIkP,MAAQ8M,EAAM9M,OAGhB8M,EAAMtL,SAAWzS,IACnB+B,EAAI0Q,OAASsL,EAAMtL,QAGdnK,EAAIvG,IAAIA,EACd,EAKAwP,QAAS,SAAUjJ,EAAK2V,EAAIrO,EAAU1I,EAAUgX,GACjD,IACEC,EADE7U,EAAOC,KAGPxJ,EAAE8U,WAAWjF,KACf1I,EAAW0I,EACXA,EAAW,MAGbtG,EAAKuH,KAAKvI,GAEV6V,EAAO7U,EAAKqH,aAAarI,GAEzBA,EAAIwF,GAAGnG,GAAe,SAAUoG,KAE1BA,IAAKA,EAAEM,eAAmB/F,EAAI4G,GAAGnB,EAAEM,cAAcY,SAA2C,WAAhClB,EAAEM,cAAc+P,gBAIhF9U,EAAKuH,KAAKvI,GAENvI,EAAEyQ,UAAUZ,IACjBtH,EAAIvG,IAAI,sBAAuB,IAG1BhC,EAAEyJ,cAAcyU,GACjBA,EAAG7L,SAAWpS,GAAaie,EAAG5L,SAAWrS,GAC3CsJ,EAAK+H,aAAa/I,EAAK,CACxBgJ,IAAK2M,EAAG3M,IACRN,KAAMiN,EAAGjN,KACTC,MAAOkN,EAAKlN,MAAQgN,EAAG7L,OACvBK,OAAQ0L,EAAK1L,OAASwL,EAAG5L,OACzBD,OAAQ,EACRC,OAAQ,KAG0B,IAAvB6L,GACZ5V,EAAIyI,YAAYkN,GAGXle,EAAE8U,WAAW3N,IAClBA,EAAS6G,GAEV,IAEIhO,EAAEyQ,UAAUZ,IACdtH,EAAIvG,IAAI,sBAAuB6N,EAAW,MAIxC7P,EAAEyJ,cAAcyU,IACdA,EAAG7L,SAAWpS,GAAaie,EAAG5L,SAAWrS,WACvCie,EAAGhN,aACHgN,EAAGxL,OAENnK,EAAI8L,SAASE,SAAS,0BACxBhM,EAAI8L,SAAS7J,SAAS,wBAIvBxK,EAAEM,SAASgR,aAAa/I,EAAK2V,IAE7B3V,EAAIiC,SAAS0T,GAIf3V,EAAI1G,KACF,QACAuF,YAAW,WACZmB,EAAIkD,QAAQ7D,EACX,GAAGiI,EAAW,IAEf,EAEAiB,KAAM,SAAUvI,EAAK+V,GAClB/V,GAAOA,EAAIC,SACbb,aAAaY,EAAI1G,KAAK,UAElByc,GACL/V,EAAIkD,QAAQ7D,GAGXW,EAAIoH,IAAI/H,GAAe5F,IAAI,sBAAuB,IAElDuG,EAAI8L,SAASrD,YAAY,uBAE1B,GA+DFhR,EAAEK,GAAGC,SAAW,SAAUkM,GACxB,IAAI+R,EAsBJ,OAnBAA,GADA/R,EAAUA,GAAW,CAAC,GACH+R,WAAY,GAIhCve,EAAE,QACC2P,IAAI,iBAAkB4O,GACtBxQ,GAAG,iBAAkBwQ,EAAU,CACjC/R,QAASA,GACLgS,GAELhV,KAAKmG,IAAI,kBAAkB5B,GACzB,iBAAkB,CACnB9B,MAAOzC,KACPgD,QAASA,GAERgS,GAIMhV,IACT,EAKA5C,EAAGmH,GAAG,iBAAkB,kBAAmByQ,GAK3C5X,EAAGmH,GAAG,iBAAkB,2BAA2B,SAAUC,GAC3DhO,EAAE,mBAAqBA,EAAEwJ,MAAMvH,KAAK,yBAA2B,MAC/DiY,GAAGla,EAAEwJ,MAAMvH,KAAK,wBAA0B,GAC1CwJ,QAAQ,iBAAkB,CACzBqB,SAAU9M,EAAEwJ,OAEf,IAKMhJ,EAAY,mBACjBC,EAAW,iBACXC,EAAW,KAEVkG,EAAGmH,GAAG,+BAAgCvN,GAAW,SAAUwN,GAC5D,OAAQA,EAAE3I,MACR,IAAK,YACN3E,EAAWV,EAAEwJ,MACb,MACC,IAAK,UACN9I,EAAW,KACX,MACC,IAAK,UACNV,EAAEQ,GAAWwQ,YAAYvQ,GAEpBT,EAAEwJ,MAAM2F,GAAGzO,IAAcV,EAAEwJ,MAAM2F,GAAG,eACvCnP,EAAEwJ,MAAMgB,SAAS/J,GAEnB,MACC,IAAK,WACNT,EAAEQ,GAAWwQ,YAAYvQ,GAGzB,GAz0GF,CA4sGA,SAAS+d,EAAKxQ,EAAG3E,GACf,IAEDoV,EACAxV,EACAgT,EAJKhQ,EAAQ,GACb3C,EAAQ,EAMH0E,GAAKA,EAAE0Q,uBAIX1Q,EAAEE,iBAEF7E,EAAOA,GAAQ,CAAC,EAEZ2E,GAAKA,EAAEnM,OACZwH,EAAOX,EAAUsF,EAAEnM,KAAK2K,QAASnD,IAGhCoV,EAAUpV,EAAKoV,SAAWze,EAAEgO,EAAE2Q,eAAelT,QAAQ,SACrDwQ,EAAWjc,EAAEM,SAASmK,gBAENwR,EAASnP,UAAYmP,EAASnP,SAASqC,GAAGsP,KAK3DxS,EADK5C,EAAKkV,SACFve,EAAEqJ,EAAKkV,WAGftV,EAAQwV,EAAQxc,KAAK,kBAAoB,KAGvCgK,EAAQ+B,EAAEnM,KAAOmM,EAAEnM,KAAKoK,MAAQ,IAClBzD,OAASyD,EAAMmB,OAAO,mBAAqBnE,EAAQ,MAAQjJ,EAAE,mBAAqBiJ,EAAQ,MAEhG,CAACwV,IAIVnV,EAAQtJ,EAAEiM,GAAO3C,MAAMmV,IAGX,IACbnV,EAAQ,IAGP2S,EAAWjc,EAAEM,SAASgd,KAAKrR,EAAO5C,EAAMC,IAG/BwD,SAAW2R,GACtB,CA2EE,CAh2GH,CAg2GK3e,OAAQC,SAAU6e,QAOrB,SAAW5e,GACZ,aAGA,IAAIW,EAAW,CACbke,QAAS,CACVC,QAAS,wJACTC,OAAQ,CACNC,SAAU,EACVC,SAAU,EACVC,GAAI,EACJC,IAAK,EACLC,GAAI,EACJC,MAAO,cACPC,YAAa,EACbC,MAAO,GAETC,WAAY,EACZna,KAAM,SACNmQ,IAAK,4CACLzI,MAAO,+CAGN0S,MAAO,CACRX,QAAS,oCACTC,OAAQ,CACNC,SAAU,EACVI,GAAI,EACJM,WAAY,EACZC,YAAa,EACbC,cAAe,EACfC,WAAY,GAEdL,WAAY,EACZna,KAAM,SACNmQ,IAAK,+BAGJsK,UAAW,CACZhB,QAAS,yDACTzZ,KAAM,QACNmQ,IAAK,2BAQJuK,WAAY,CACbjB,QAAS,4GACTzZ,KAAM,SACNmQ,IAAK,SAAU3M,GACb,MACD,iBACAA,EAAI,GACJ,SACCA,EAAI,GAAKA,EAAI,GAAK,MAAQ2K,KAAKE,MAAM7K,EAAI,MAAQA,EAAI,IAAMA,EAAI,IAAIqC,QAAQ,MAAO,KAAO,IAAMrC,EAAI,IAAM,IAAIqC,QAAQ,KAAM,KAC5H,YACCrC,EAAI,KAAOA,EAAI,IAAImX,QAAQ,WAAa,EAAI,UAAY,QAE1D,GAOCC,YAAa,CACdnB,QAAS,oEACTzZ,KAAM,SACNmQ,IAAK,SAAU3M,GACb,MAAO,iBAAmBA,EAAI,GAAK,WAAaA,EAAI,GAAGqC,QAAQ,SAAU,MAAMA,QAAQ,QAAS,IAAM,eACxG,IAKG9I,EAAS,SAAUoT,EAAK3M,EAAKkW,GAC/B,GAAKvJ,EAkBL,OAdAuJ,EAASA,GAAU,GAEI,WAAnB/e,EAAEqF,KAAK0Z,KACZA,EAAS/e,EAAEkgB,MAAMnB,GAAQ,IAGxB/e,EAAE+I,KAAKF,GAAK,SAAUG,EAAKC,GAC5BuM,EAAMA,EAAItK,QAAQ,IAAMlC,EAAKC,GAAS,GACrC,IAEI8V,EAAOvW,SACZgN,IAAQA,EAAIwK,QAAQ,KAAO,EAAI,IAAM,KAAOjB,GAGpCvJ,CACT,EAEAxV,EAAED,UAAUgO,GAAG,sBAAsB,SAAUC,EAAGiO,EAAU1Q,GAC1D,IAEDtH,EACA8I,EACAlE,EACAkW,EACAoB,EACAC,EACAC,EARK7K,EAAMjK,EAAKe,KAAO,GACvBjH,GAAO,EASNpB,EAAQjE,EAAE8I,QAAO,EAAM,CAAC,EAAGnI,EAAU4K,EAAKlC,KAAKpF,OAG/CjE,EAAE+I,KAAK9E,GAAO,SAAUqc,EAAcC,GAGvC,GAFA1X,EAAM2M,EAAIzJ,MAAMwU,EAAazB,SAE7B,CAQA,GAJAzZ,EAAOkb,EAAalb,KACpBgb,EAAWC,EACXF,EAAW,CAAC,EAERG,EAAaf,YAAc3W,EAAI0X,EAAaf,YAAa,CAGvC,MAFpBW,EAAYtX,EAAI0X,EAAaf,aAEf,KACfW,EAAYA,EAAUnJ,UAAU,IAG/BmJ,EAAYA,EAAUjT,MAAM,KAE5B,IAAK,IAAIsT,EAAI,EAAGA,EAAIL,EAAU3X,SAAUgY,EAAG,CAC5C,IAAIC,EAAIN,EAAUK,GAAGtT,MAAM,IAAK,GAEhB,GAAZuT,EAAEjY,SACJ4X,EAASK,EAAE,IAAMC,mBAAmBD,EAAE,GAAGvV,QAAQ,MAAO,MAEzD,CACF,CAkBA,OAhBA6T,EAAS/e,EAAE8I,QAAO,EAAM,CAAC,EAAGyX,EAAaxB,OAAQxT,EAAKlC,KAAKiX,GAAeF,GAE1E5K,EAC+B,aAA7BxV,EAAEqF,KAAKkb,EAAa/K,KAAsB+K,EAAa/K,IAAIsH,KAAKtT,KAAMX,EAAKkW,EAAQxT,GAAQnJ,EAAOme,EAAa/K,IAAK3M,EAAKkW,GAE3HhS,EACiC,aAA/B/M,EAAEqF,KAAKkb,EAAaxT,OAAwBwT,EAAaxT,MAAM+P,KAAKtT,KAAMX,EAAKkW,EAAQxT,GAAQnJ,EAAOme,EAAaxT,MAAOlE,GAEvG,YAAjByX,EACF9K,EAAMA,EAAItK,QAAQ,sBAAsB,SAAUa,EAAO4U,EAAIH,EAAGI,GACjE,MAAO,YAAcJ,EAAsB,GAAlB5W,SAAS4W,EAAG,IAAW,GAAK5W,SAASgX,EAAG,IAChE,IAC0B,UAAjBN,IACT9K,EAAMA,EAAItK,QAAQ,OAAQ,OAGrB,CAxCP,CAyCC,IAII7F,GACAkG,EAAKlC,KAAK0D,OAAWxB,EAAKlC,KAAKwD,QAAUtB,EAAKlC,KAAKwD,OAAOrE,SAC7D+C,EAAKlC,KAAK0D,MAAQA,GAGP,WAAT1H,IACFkG,EAAKlC,KAAOrJ,EAAE8I,QAAO,EAAMyC,EAAKlC,KAAM,CACvCvH,OAAQ,CACNJ,SAAS,EACTO,KAAM,CACPC,UAAW,UAMblC,EAAE8I,OAAOyC,EAAM,CACblG,KAAMA,EACNiH,IAAKkJ,EACLqL,QAAStV,EAAKe,IACdwU,cAAeT,EACf3T,YAAsB,UAATrH,EAAmB,QAAsB,cAAZgb,GAAwC,eAAZA,EAA4B,MAAQ,WAEhG7K,IACZjK,EAAKlG,KAAOkG,EAAKlC,KAAK/G,YAEvB,IAGA,IAAIye,EAAiB,CACnBlC,QAAS,CACVvS,IAAK,qCACL0U,MAAO,KACPC,SAAS,EACTC,QAAQ,GAGPzB,MAAO,CACRnT,IAAK,yCACL0U,MAAO,QACPC,SAAS,EACTC,QAAQ,GAGPC,KAAM,SAAUC,GACjB,IACEC,EADEC,EAAQ9X,KAGRA,KAAK4X,GAAQF,OACf9Z,YAAW,WACZka,EAAMjF,KAAK+E,EACV,IAIE5X,KAAK4X,GAAQH,UAIjBzX,KAAK4X,GAAQH,SAAU,GAEvBI,EAASthB,SAASgI,cAAc,WACzB1C,KAAO,kBACdgc,EAAO/U,IAAM9C,KAAK4X,GAAQ9U,IAEX,YAAX8U,EACFthB,OAAOyhB,wBAA0B,WAClCD,EAAMF,GAAQF,QAAS,EACvBI,EAAMjF,KAAK+E,EACV,EAEAC,EAAO/K,OAAS,WACjBgL,EAAMF,GAAQF,QAAS,EACvBI,EAAMjF,KAAK+E,EACV,EAGFrhB,SAAS2K,KAAK8W,YAAYH,GACzB,EACAhF,KAAM,SAAU+E,GACjB,IAAInF,EAAU1T,EAEC,YAAX6Y,UACKthB,OAAOyhB,yBAGhBtF,EAAWjc,EAAEM,SAASmK,iBAGpBlC,EAAM0T,EAAS9W,QAAQoN,SAAS/G,KAAK,UAEtB,YAAX4V,QAA+BnhB,IAAPwhB,IAAoBA,GACxC,IAAIA,GAAGC,OAAOnZ,EAAItG,KAAK,MAAO,CACrC0f,OAAQ,CACTC,cAAe,SAAU5T,GACT,GAAVA,EAAEnM,MACPoa,EAAS7N,MAEV,KAGsB,UAAXgT,QAAgCnhB,IAAV4hB,OAAuBA,OAChD,IAAIA,MAAMH,OAAOnZ,GAEnBwF,GAAG,SAAS,WACjBkO,EAAS7N,MACX,IAGA,GAGFpO,EAAED,UAAUgO,GAAG,CACb,eAAgB,SAAUC,EAAGiO,EAAU9W,GACpC8W,EAAShS,MAAMzB,OAAS,IAAgC,YAA1BrD,EAAQ2b,eAAyD,UAA1B3b,EAAQ2b,gBAC/EC,EAAeI,KAAKhc,EAAQ2b,cAE7B,GAEA,CA3RD,CA2RGlC,QAOH,SAAW9e,EAAQC,EAAUC,GAC9B,aAEA,IAAI8G,EAEHhH,EAAOiH,uBACPjH,EAAOkH,6BACPlH,EAAOmH,0BACPnH,EAAOoH,wBAEP,SAAUC,GACR,OAAOrH,EAAOsH,WAAWD,EAAU,IAAO,GAC5C,EAIGE,EAEHvH,EAAOwH,sBACPxH,EAAOyH,4BACPzH,EAAO0H,yBACP1H,EAAO2H,uBACP,SAAUC,GACR5H,EAAO6H,aAAaD,EACtB,EAIGoa,EAAe,SAAU9T,GAC3B,IAAI+T,EAAS,GAKb,IAAK,IAAI/Y,KAFTgF,GADAA,EAAIA,EAAEM,eAAiBN,GAAKlO,EAAOkO,GAC7BgU,SAAWhU,EAAEgU,QAAQxZ,OAASwF,EAAEgU,QAAUhU,EAAEiU,gBAAkBjU,EAAEiU,eAAezZ,OAASwF,EAAEiU,eAAiB,CAACjU,GAG/GA,EAAEhF,GAAKkZ,MACTH,EAAO1U,KAAK,CACb2E,EAAGhE,EAAEhF,GAAKkZ,MACVjQ,EAAGjE,EAAEhF,GAAKmZ,QAEAnU,EAAEhF,GAAKoZ,SAChBL,EAAO1U,KAAK,CACb2E,EAAGhE,EAAEhF,GAAKoZ,QACVnQ,EAAGjE,EAAEhF,GAAKqZ,UAKV,OAAON,CACT,EAEIO,EAAW,SAAUC,EAAQC,EAAQC,GACvC,OAAKD,GAAWD,EAIH,MAATE,EACEF,EAAOvQ,EAAIwQ,EAAOxQ,EACJ,MAATyQ,EACLF,EAAOtQ,EAAIuQ,EAAOvQ,EAGjBuB,KAAKkP,KAAKlP,KAAKmP,IAAIJ,EAAOvQ,EAAIwQ,EAAOxQ,EAAG,GAAKwB,KAAKmP,IAAIJ,EAAOtQ,EAAIuQ,EAAOvQ,EAAG,IAT5E,CAUR,EAEI2Q,EAAc,SAAUra,GAC1B,GACDA,EAAI4G,GAAG,yFACPnP,EAAE8U,WAAWvM,EAAI0L,IAAI,GAAG4O,UACxBta,EAAI1G,KAAK,cAET,OAAO,EAIN,IAAK,IAAIsK,EAAI,EAAG2W,EAAOva,EAAI,GAAGwa,WAAY/W,EAAI8W,EAAKta,OAAQ2D,EAAIH,EAAGG,IACnE,GAAuC,mBAAnC2W,EAAK3W,GAAG6W,SAASC,OAAO,EAAG,IAC7B,OAAO,EAIR,OAAO,CACT,EAWIC,EAAe,SAAU3a,GAG3B,IAFA,IAV4BT,EACxBqb,EACLC,EACAtf,EACAuf,EAMKxa,GAAM,EAVkBf,EAaTS,EAAI0L,IAAI,QAZvBkP,OACLC,OACAtf,OACAuf,EAHKF,EAAYrjB,EAAO+d,iBAAiB/V,GAAI,cAC7Csb,EAAYtjB,EAAO+d,iBAAiB/V,GAAI,cACxChE,GAA0B,WAAdqf,GAAwC,SAAdA,IAAyBrb,EAAG6C,aAAe7C,EAAGoM,aACpFmP,GAA4B,WAAdD,GAAwC,SAAdA,IAAyBtb,EAAGwb,YAAcxb,EAAGkD,cASrFnC,EAPQ/E,GAAYuf,KAapB9a,EAAMA,EAAI8L,UAED7L,SAAUD,EAAIgM,SAAS,oBAAqBhM,EAAI4G,GAAG,UAK3D,OAAOtG,CACT,EAEIgM,EAAY,SAAUoH,GACxB,IAAI1S,EAAOC,KAEXD,EAAK0S,SAAWA,EAEhB1S,EAAKga,IAAMtH,EAAS7Q,MAAMoY,GAC1Bja,EAAKka,OAASxH,EAAS7Q,MAAMqD,MAC7BlF,EAAKe,WAAa2R,EAAS7Q,MAAMC,UAEjC9B,EAAKiU,UAELjU,EAAKe,WAAWyD,GAAG,yCAA0C/N,EAAE0jB,MAAMna,EAAM,gBAC7E,EAEAsL,EAAUxK,UAAUmT,QAAU,WAC5B,IAAIjU,EAAOC,KAEXD,EAAKe,WAAWqF,IAAI,aAEpB3P,EAAED,GAAU4P,IAAI,aAEZpG,EAAKgF,YACVlH,EAAakC,EAAKgF,WAClBhF,EAAKgF,UAAY,MAGZhF,EAAKoa,SACVhc,aAAa4B,EAAKoa,QAClBpa,EAAKoa,OAAS,KAEf,EAEA9O,EAAUxK,UAAUuZ,aAAe,SAAU5V,GAC3C,IAAIzE,EAAOC,KACZiV,EAAUze,EAAEgO,EAAEkB,QACd+M,EAAW1S,EAAK0S,SAChB9W,EAAU8W,EAAS9W,QACnBuL,EAASvL,EAAQuL,OACjB6B,EAAWpN,EAAQoN,SACnBsR,EAA0B,cAAV7V,EAAE3I,KAQjB,GALIwe,GACLta,EAAKe,WAAWqF,IAAI,wBAIf3B,EAAEM,eAA2C,GAA1BN,EAAEM,cAAcsL,SAKlClJ,EAAOlI,QAAWiW,EAAQjW,SAAUoa,EAAYnE,KAAYmE,EAAYnE,EAAQpK,YAIhFoK,EAAQtP,GAAG,UAAUnB,EAAEM,cAAc8T,QAAU3D,EAAQ,GAAGzT,YAAcyT,EAAQqF,SAAS7S,OAA9F,CAKA,IAAK9L,GAAW8W,EAAS3L,aAAenL,EAAQuL,OAAO6D,SAAS,qBAIjE,OAHAvG,EAAEC,uBACFD,EAAEE,iBAKD3E,EAAKwa,WAAaxa,EAAKya,YAAclC,EAAa9T,GAE7CzE,EAAKya,YAAYxb,SAKlBrD,EAAQtB,OACbmK,EAAEC,kBAGD1E,EAAK0a,WAAajW,EAElBzE,EAAK2a,QAAS,EACd3a,EAAKkV,QAAUA,EACflV,EAAKgJ,SAAWA,EAChBhJ,EAAKF,KAAOlE,EAAQkE,KAAKxF,MAEzB0F,EAAK4a,WAAY,EACjB5a,EAAK6a,WAAY,EACjB7a,EAAK8a,WAAY,EACjB9a,EAAK+a,aAAc,EACnB/a,EAAKoL,OAASsH,EAAStH,SAEvBpL,EAAKgb,WAAY,IAAIrM,MAAOC,UAC5B5O,EAAKib,UAAYjb,EAAKkb,UAAYlb,EAAK+Y,SAAW,EAElD/Y,EAAKiJ,YAAcgB,KAAKmE,MAAMjH,EAAO,GAAG1F,aACxCzB,EAAKkJ,aAAee,KAAKmE,MAAMjH,EAAO,GAAGwD,cAEzC3K,EAAKmb,eAAiB,KACtBnb,EAAKob,gBAAkB3kB,EAAEM,SAASsQ,aAAarH,EAAKgJ,WAAa,CAClEhB,IAAK,EACLN,KAAM,GAEL1H,EAAKqb,eAAiB5kB,EAAEM,SAASsQ,aAAaF,GAG9CnH,EAAK0G,SAAWjQ,EAAEM,SAASsQ,aAAaqL,EAAS7Q,MAAMqD,OAEvDlF,EAAKqb,eAAerT,KAAOhI,EAAK0G,SAASsB,IACzChI,EAAKqb,eAAe3T,MAAQ1H,EAAK0G,SAASgB,KAE1C1H,EAAKob,gBAAgBpT,KAAOhI,EAAK0G,SAASsB,IAC1ChI,EAAKob,gBAAgB1T,MAAQ1H,EAAK0G,SAASgB,KAE3CjR,EAAED,GACF4P,IAAI,aACJ5B,GAAG8V,EAAgB,yCAA2C,uCAAwC7jB,EAAE0jB,MAAMna,EAAM,eACpHwE,GAAG8V,EAAgB,qBAAuB,qBAAsB7jB,EAAE0jB,MAAMna,EAAM,gBAE1EvJ,EAAEM,SAASoJ,UAChB3J,EAAS8kB,iBAAiB,SAAUtb,EAAKub,UAAU,KAI5Cvb,EAAKF,MAAQE,EAAKoL,UAAa8J,EAAQtP,GAAG5F,EAAKka,SAAWla,EAAKka,OAAOjY,KAAKiT,GAASjW,UACvFiW,EAAQtP,GAAG,oBACbnB,EAAEE,iBAGElO,EAAEM,SAASoJ,UAAY+U,EAAQxF,QAAQ,qBAAqBzQ,WAKjEe,EAAK2Z,aAAeA,EAAazE,IAAYyE,EAAazE,EAAQpK,UAG5DrU,EAAEM,SAASoJ,UAAYH,EAAK2Z,cACnClV,EAAEE,kBAI+B,IAA5B3E,EAAKya,YAAYxb,QAAgBrD,EAAQ0N,YAC1CtJ,EAAKoL,QACP3U,EAAEM,SAASwQ,KAAKvH,EAAKgJ,UAErBhJ,EAAK4a,WAAY,GAEjB5a,EAAK6a,WAAY,EAGnB7a,EAAKe,WAAWE,SAAS,yBAIQ,IAA5BjB,EAAKya,YAAYxb,QAAiC,UAAjBrD,EAAQE,OAAqBF,EAAQyM,UAAYzM,EAAQkR,UAC/F9M,EAAK2a,QAAS,EACd3a,EAAK6a,WAAY,EACjB7a,EAAK4a,WAAY,EAEjB5a,EAAK8a,WAAY,EAEjBrkB,EAAEM,SAASwQ,KAAKvH,EAAKgJ,UAErBhJ,EAAKwb,kBAAsE,IAAjDxb,EAAKya,YAAY,GAAGhS,EAAIzI,EAAKya,YAAY,GAAGhS,GAAWhS,EAAEF,GAAQ6b,aAC3FpS,EAAKyb,kBAAsE,IAAjDzb,EAAKya,YAAY,GAAG/R,EAAI1I,EAAKya,YAAY,GAAG/R,GAAWjS,EAAEF,GAAQ4b,YAE3FnS,EAAK0b,gCAAkC1b,EAAKwb,kBAAoBxb,EAAKob,gBAAgB1T,MAAQ1H,EAAKob,gBAAgBzT,MAClH3H,EAAK2b,gCAAkC3b,EAAKyb,kBAAoBzb,EAAKob,gBAAgBpT,KAAOhI,EAAKob,gBAAgBjS,OAEjHnJ,EAAK4b,4BAA8B7C,EAAS/Y,EAAKya,YAAY,GAAIza,EAAKya,YAAY,MAhHjF,CAkHF,EAEAnP,EAAUxK,UAAUya,SAAW,SAAU9W,GAC5BxE,KAEN8a,aAAc,EAEnBvkB,EAASqlB,oBAAoB,SAJlB5b,KAIiCsb,UAAU,EACxD,EAEAjQ,EAAUxK,UAAUgb,YAAc,SAAUrX,GAC1C,IAAIzE,EAAOC,UAGqBvJ,IAA5B+N,EAAEM,cAAcjN,SAAqD,IAA5B2M,EAAEM,cAAcjN,QAKzDkI,EAAK+a,YACV/a,EAAK2a,QAAS,GAIb3a,EAAK+b,UAAYxD,EAAa9T,IAExBzE,EAAKF,MAAQE,EAAKoL,SAAYpL,EAAK+b,UAAU9c,QAAWe,EAAK+b,UAAU9c,SAIvEe,EAAK6a,YAAgC,IAAnB7a,EAAK6a,WAC9BpW,EAAEE,iBAGD3E,EAAKib,UAAYlC,EAAS/Y,EAAK+b,UAAU,GAAI/b,EAAKya,YAAY,GAAI,KAClEza,EAAKkb,UAAYnC,EAAS/Y,EAAK+b,UAAU,GAAI/b,EAAKya,YAAY,GAAI,KAElEza,EAAK+Y,SAAWA,EAAS/Y,EAAK+b,UAAU,GAAI/b,EAAKya,YAAY,IAGzDza,EAAK+Y,SAAW,IACjB/Y,EAAK6a,UACP7a,EAAKgc,QAAQvX,GACJzE,EAAK4a,UACd5a,EAAKic,QACIjc,EAAK8a,WACd9a,EAAKkc,YA/BPlc,EAAKmc,WAAW1X,EAkCjB,EAEA6G,EAAUxK,UAAUkb,QAAU,SAAUvX,GACtC,IAID2X,EAJKpc,EAAOC,KACZyS,EAAW1S,EAAK0S,SAChB2J,EAAUrc,EAAK6a,UACfnT,EAAO1H,EAAKqb,eAAe3T,MAAQ,EAIlC,IAAgB,IAAZ2U,EAkEW,KAAXA,IAEHrc,EAAKib,UAAY,IAChBjb,EAAK0S,SAAShS,MAAMzB,OAAS,GAAsC,IAAhCe,EAAK0S,SAAS9W,QAAQmE,QAAgBC,EAAK0S,SAAS9W,QAAQkE,KAAKxI,MAErGoQ,GAAcuC,KAAKmP,IAAIpZ,EAAKib,UAAW,IAEvCjb,EAAKib,UAAY,IAChBjb,EAAK0S,SAAShS,MAAMzB,OAAS,GAC9Be,EAAK0S,SAAS9W,QAAQmE,QAAUC,EAAK0S,SAAShS,MAAMzB,OAAS,IAAMe,EAAK0S,SAAS9W,QAAQkE,KAAKxI,MAE9FoQ,GAAcuC,KAAKmP,KAAKpZ,EAAKib,UAAW,IAExCvT,GAAc1H,EAAKib,WAIpBjb,EAAKsc,cAAgB,CACtBtU,IAAgB,KAAXqU,EAAiB,EAAIrc,EAAKqb,eAAerT,IAAMhI,EAAKkb,UACzDxT,KAAMA,GAGD1H,EAAKgF,YACVlH,EAAakC,EAAKgF,WAElBhF,EAAKgF,UAAY,MAGhBhF,EAAKgF,UAAYzH,GAAc,WAC5ByC,EAAKsc,gBACP7lB,EAAE+I,KAAKQ,EAAK0S,SAAS/R,QAAQ,SAAUZ,EAAOuH,GAC/C,IAAIf,EAAMe,EAAMf,IAAMvG,EAAK0S,SAASlS,QAEpC/J,EAAEM,SAASgR,aAAaT,EAAMH,OAAQ,CACpCa,IAAKhI,EAAKsc,cAActU,IACxBN,KAAM1H,EAAKsc,cAAc5U,KAAOnB,EAAMvG,EAAKiJ,YAAc1C,EAAMe,EAAMxH,KAAKvI,QAE3E,IAEAyI,EAAKe,WAAWE,SAAS,uBAE1B,SAzGD,GAAIgJ,KAAKgB,IAAIjL,EAAK+Y,UAAY,GAAI,CAahC,GAZA/Y,EAAK2a,QAAS,EAEVjI,EAAShS,MAAMzB,OAAS,GAAKe,EAAKF,KAAKvF,SAC5CyF,EAAK6a,UAAY,IACLnI,EAASxM,aAAqC,IAAvBlG,EAAKF,KAAKvF,UAA8C,SAAvByF,EAAKF,KAAKvF,UAAuB9D,EAAEF,GAAQoR,QAAU,IACzH3H,EAAK6a,UAAY,KAEjBuB,EAAQnS,KAAKgB,IAAkD,IAA7ChB,KAAKsS,MAAMvc,EAAKkb,UAAWlb,EAAKib,WAAoBhR,KAAKuS,IAE3Exc,EAAK6a,UAAYuB,EAAQ,IAAMA,EAAQ,IAAM,IAAM,KAG3B,MAAnBpc,EAAK6a,WAAqBpkB,EAAEM,SAASoJ,UAAYH,EAAK2Z,aAG3D,YAFA3Z,EAAK+a,aAAc,GAKlBrI,EAASxM,WAAalG,EAAK6a,UAG3B7a,EAAKya,YAAcza,EAAK+b,UAExBtlB,EAAE+I,KAAKkT,EAAS/R,QAAQ,SAAUZ,EAAOuH,GAC1C,IAAIb,EAAUC,EAEdjQ,EAAEM,SAASwQ,KAAKD,EAAMH,QAEtBV,EAAWhQ,EAAEM,SAASsQ,aAAaC,EAAMH,QACzCT,EAAWjQ,EAAEM,SAASsQ,aAAaqL,EAAS7Q,MAAMqD,OAElDoC,EAAMH,OACH1O,IAAI,CACNyP,UAAW,GACXC,QAAS,GACT,sBAAuB,KAErBV,YAAY,qBACZA,aAAY,SAAU1H,EAAO6H,GAC/B,OAAQA,EAAUpF,MAAM,2BAA6B,IAAIqF,KAAK,IAC7D,IAEEP,EAAMf,MAAQmM,EAAS9W,QAAQ2K,MACjCvG,EAAKqb,eAAerT,IAAMvB,EAASuB,IAAMtB,EAASsB,IAClDhI,EAAKqb,eAAe3T,KAAOjB,EAASiB,KAAOhB,EAASgB,MAGtDjR,EAAEM,SAASgR,aAAaT,EAAMH,OAAQ,CACpCa,IAAKvB,EAASuB,IAAMtB,EAASsB,IAC7BN,KAAMjB,EAASiB,KAAOhB,EAASgB,MAEhC,IAGIgL,EAASlJ,WAAakJ,EAASlJ,UAAUrF,UAC9CuO,EAASlJ,UAAUjC,MAEpB,CAgDD,EAEA+D,EAAUxK,UAAUmb,MAAQ,WAC1B,IAAIjc,EAAOC,KAGP8Y,EAAS/Y,EAAK+b,UAAU,GAAI/b,EAAKwa,WAAW,KAAO/jB,EAAEM,SAASoJ,SAAW,GAAK,GACnFH,EAAKya,YAAcza,EAAK+b,WAIvB/b,EAAK2a,QAAS,EAEd3a,EAAKmb,eAAiBnb,EAAKyc,gBAEvBzc,EAAKgF,WACVlH,EAAakC,EAAKgF,WAGjBhF,EAAKgF,UAAYzH,GAAc,WAChC9G,EAAEM,SAASgR,aAAa/H,EAAKgJ,SAAUhJ,EAAKmb,eAC3C,IACF,EAGA7P,EAAUxK,UAAU2b,cAAgB,WAClC,IAgBIC,EAAeC,EAAeC,EAAeC,EAAeC,EAAYC,EAhBxE/c,EAAOC,KAEPgJ,EAAcjJ,EAAKiJ,YACnBC,EAAelJ,EAAKkJ,aAEpB+R,EAAYjb,EAAKib,UACjBC,EAAYlb,EAAKkb,UAEjBE,EAAkBpb,EAAKob,gBAEvB4B,EAAiB5B,EAAgB1T,KACjCuV,EAAiB7B,EAAgBpT,IAEjCkV,EAAe9B,EAAgBzT,MAC/BwV,EAAgB/B,EAAgBjS,OAuCpC,OAlCD2T,EADKI,EAAejU,EACP+T,EAAiB/B,EAEjB+B,EAGZD,EAAaE,EAAiB/B,EAG9BwB,EAAgBzS,KAAKoE,IAAI,EAAiB,GAAdpF,EAAmC,GAAfiU,GAChDP,EAAgB1S,KAAKoE,IAAI,EAAkB,GAAfnF,EAAqC,GAAhBiU,GAEjDP,EAAgB3S,KAAKC,IAAIjB,EAAciU,EAA4B,GAAdjU,EAAmC,GAAfiU,GACzEL,EAAgB5S,KAAKC,IAAIhB,EAAeiU,EAA8B,GAAfjU,EAAqC,GAAhBiU,GAGxElC,EAAY,GAAK6B,EAAaJ,IACnCI,EAAaJ,EAAgB,EAAIzS,KAAKmP,KAAKsD,EAAgBM,EAAiB/B,EAAW,KAAQ,GAI1FA,EAAY,GAAK6B,EAAaF,IACnCE,EAAaF,EAAgB,EAAI3S,KAAKmP,IAAIwD,EAAgBI,EAAiB/B,EAAW,KAAQ,GAIzFC,EAAY,GAAK6B,EAAaJ,IACnCI,EAAaJ,EAAgB,EAAI1S,KAAKmP,KAAKuD,EAAgBM,EAAiB/B,EAAW,KAAQ,GAI1FA,EAAY,GAAK6B,EAAaF,IACnCE,EAAaF,EAAgB,EAAI5S,KAAKmP,IAAIyD,EAAgBI,EAAiB/B,EAAW,KAAQ,GAGtF,CACRlT,IAAK+U,EACLrV,KAAMoV,EAEP,EAEAxR,EAAUxK,UAAUsc,cAAgB,SAAUN,EAAYC,EAAYM,EAAUC,GAC9E,IAEIrU,EAFOhJ,KAEYgJ,YACnBC,EAHOjJ,KAGaiJ,aAkBxB,OAdD4T,EAFKO,EAAWpU,GAChB6T,EAAaA,EAAa,EAAI,EAAIA,GACR7T,EAAcoU,EAAWpU,EAAcoU,EAAWP,EAG/D7S,KAAKoE,IAAI,EAAGpF,EAAc,EAAIoU,EAAW,GAW9C,CACRrV,IAPA+U,EAFKO,EAAYpU,GACjB6T,EAAaA,EAAa,EAAI,EAAIA,GACR7T,EAAeoU,EAAYpU,EAAeoU,EAAYP,EAGnE9S,KAAKoE,IAAI,EAAGnF,EAAe,EAAIoU,EAAY,GAKxD5V,KAAMoV,EAEP,EAEAxR,EAAUxK,UAAUob,OAAS,WAC3B,IAAIlc,EAAOC,KAGPmb,EAAkBpb,EAAKob,gBAEvB8B,EAAe9B,EAAgBzT,MAC/BwV,EAAgB/B,EAAgBjS,OAEhC6T,EAAiB5B,EAAgB1T,KACjCuV,EAAiB7B,EAAgBpT,IAIjCuV,EAF4BxE,EAAS/Y,EAAK+b,UAAU,GAAI/b,EAAK+b,UAAU,IAE9B/b,EAAK4b,4BAE9CyB,EAAWpT,KAAKE,MAAM+S,EAAeK,GACrCD,EAAYrT,KAAKE,MAAMgT,EAAgBI,GAGvCC,GAAyBN,EAAeG,GAAYrd,EAAK0b,+BACzD+B,GAAyBN,EAAgBG,GAAatd,EAAK2b,+BAG3D+B,GAAmB1d,EAAK+b,UAAU,GAAGtT,EAAIzI,EAAK+b,UAAU,GAAGtT,GAAK,EAAIhS,EAAEF,GAAQ6b,aAC9EuL,GAAmB3d,EAAK+b,UAAU,GAAGrT,EAAI1I,EAAK+b,UAAU,GAAGrT,GAAK,EAAIjS,EAAEF,GAAQ4b,YAI9EyL,EAA4BF,EAAkB1d,EAAKwb,kBAOnDqC,EAAS,CACd7V,IAHkBiV,GAAkBQ,GAJHE,EAAkB3d,EAAKyb,oBAQxD/T,KALkBsV,GAAkBQ,EAAwBI,GAM5D9U,OAAQyU,EACRxU,OAAQwU,GAGPvd,EAAK2a,QAAS,EAEd3a,EAAKqd,SAAWA,EAChBrd,EAAKsd,UAAYA,EAEjBtd,EAAKmb,eAAiB0C,EAElB7d,EAAKgF,WACVlH,EAAakC,EAAKgF,WAGjBhF,EAAKgF,UAAYzH,GAAc,WAChC9G,EAAEM,SAASgR,aAAa/H,EAAKgJ,SAAUhJ,EAAKmb,eAC3C,GACF,EAEA7P,EAAUxK,UAAUqb,WAAa,SAAU1X,GACzC,IAAIzE,EAAOC,KAEPoc,EAAUrc,EAAK6a,UACfiD,EAAU9d,EAAK4a,UACfmD,EAAU/d,EAAK8a,UACfniB,EAAYqH,EAAK+a,YAwBrB,GAtBA/a,EAAKge,UAAYzF,EAAa9T,GAC9BzE,EAAKie,IAAMhU,KAAKoE,KAAI,IAAIM,MAAOC,UAAY5O,EAAKgb,UAAW,GAE3Dhb,EAAKe,WAAW0G,YAAY,wBAE5BhR,EAAED,GAAU4P,IAAI,aAEhB5P,EAASqlB,oBAAoB,SAAU7b,EAAKub,UAAU,GAElDvb,EAAKgF,YACVlH,EAAakC,EAAKgF,WAElBhF,EAAKgF,UAAY,MAGhBhF,EAAK6a,WAAY,EACjB7a,EAAK4a,WAAY,EACjB5a,EAAK8a,WAAY,EACjB9a,EAAK+a,aAAc,EAEnB/a,EAAK0S,SAASxM,YAAa,EAEvBlG,EAAK2a,OACV,OAAO3a,EAAKke,MAAMzZ,GAGjBzE,EAAKpF,MAAQ,IAGboF,EAAKme,UAAane,EAAKib,UAAYjb,EAAKie,IAAO,GAC/Cje,EAAKoe,UAAape,EAAKkb,UAAYlb,EAAKie,IAAO,GAE3CH,EACL9d,EAAKqe,aACON,EACZ/d,EAAKse,aAELte,EAAKue,WAAWlC,EAAS1jB,EAI1B,EAEA2S,EAAUxK,UAAUyd,WAAa,SAAUlC,EAAS1jB,GAClD,IAAIqH,EAAOC,KACZsN,GAAM,EACNiR,EAAMxe,EAAK0S,SAAShS,MAAMzB,OAC1Bgc,EAAYhR,KAAKgB,IAAIjL,EAAKib,WAC1BwD,EAAwB,KAAXpC,GAAkBmC,EAAM,IAAOxe,EAAKie,IAAM,KAAOhD,EAAY,IAAOA,EAAY,IAG5Fjb,EAAKsc,cAAgB,KAGN,KAAXD,IAAmB1jB,GAAasR,KAAKgB,IAAIjL,EAAKkb,WAAa,IAEhEzkB,EAAEM,SAASkR,QACTjI,EAAK0S,SAAS9W,QAAQuL,OAAQ,CAC/Ba,IAAKhI,EAAKqb,eAAerT,IAAMhI,EAAKkb,UAA6B,IAAjBlb,EAAKoe,UACrDjW,QAAS,GAER,KAEFoF,EAAMvN,EAAK0S,SAAS7Y,OAAM,EAAM,MACpB4kB,GAAcze,EAAKib,UAAY,EAC3C1N,EAAMvN,EAAK0S,SAAS9N,SAhBX,KAiBG6Z,GAAcze,EAAKib,UAAY,IAC3C1N,EAAMvN,EAAK0S,SAAS7N,KAlBX,OAqBI,IAAR0I,GAA6B,KAAX8O,GAA6B,KAAXA,GACzCrc,EAAK0S,SAAS9H,YAAY,KAGzB5K,EAAKe,WAAW0G,YAAY,sBAC9B,EAIA6D,EAAUxK,UAAUud,WAAa,WAC/B,IACDvB,EACAC,EACAc,EAHK7d,EAAOC,KAKND,EAAKmb,kBAIiB,IAAvBnb,EAAKF,KAAKtF,UAAsBwF,EAAKie,IAAM,KAChDnB,EAAa9c,EAAKmb,eAAezT,KACjCqV,EAAa/c,EAAKmb,eAAenT,MAGjC8U,EAAa9c,EAAKmb,eAAezT,KAAwB,IAAjB1H,EAAKme,UAC7CpB,EAAa/c,EAAKmb,eAAenT,IAAuB,IAAjBhI,EAAKoe,YAG3CP,EAAS7d,EAAKod,cAAcN,EAAYC,EAAY/c,EAAKob,gBAAgBzT,MAAO3H,EAAKob,gBAAgBjS,SAE9FxB,MAAQ3H,EAAKob,gBAAgBzT,MACpCkW,EAAO1U,OAASnJ,EAAKob,gBAAgBjS,OAErC1S,EAAEM,SAASkR,QAAQjI,EAAKgJ,SAAU6U,EAAQ,KAC5C,EAEAvS,EAAUxK,UAAUwd,WAAa,WAC/B,IAIIxB,EAAYC,EAAYc,EAAQa,EAJhC1e,EAAOC,KAEPrE,EAAUoE,EAAK0S,SAAS9W,QAIxByhB,EAAWrd,EAAKqd,SAChBC,EAAYtd,EAAKsd,UAEhBtd,EAAKmb,iBAIV2B,EAAa9c,EAAKmb,eAAezT,KAGjCgX,EAAQ,CACT1W,IAHC+U,EAAa/c,EAAKmb,eAAenT,IAIlCN,KAAMoV,EACNnV,MAAO0V,EACPlU,OAAQmU,EACRxU,OAAQ,EACRC,OAAQ,GAIPtS,EAAEM,SAASgR,aAAa/H,EAAKgJ,SAAU0V,GAEnCrB,EAAWrd,EAAKiJ,aAAeqU,EAAYtd,EAAKkJ,aACrDlJ,EAAK0S,SAASjJ,WAAW,KACb4T,EAAWzhB,EAAQ+L,OAAS2V,EAAY1hB,EAAQuN,OAC5DnJ,EAAK0S,SAASlK,cAAcxI,EAAKwb,kBAAmBxb,EAAKyb,kBAAmB,MAE5EoC,EAAS7d,EAAKod,cAAcN,EAAYC,EAAYM,EAAUC,GAE9D7mB,EAAEM,SAASkR,QAAQjI,EAAKgJ,SAAU6U,EAAQ,MAE3C,EAEAvS,EAAUxK,UAAUod,MAAQ,SAAUzZ,GACpC,IAWIka,EAXA3e,EAAOC,KACPiV,EAAUze,EAAEgO,EAAEkB,QAEd+M,EAAW1S,EAAK0S,SAChB9W,EAAU8W,EAAS9W,QAEnBoiB,EAAavZ,GAAK8T,EAAa9T,IAAOzE,EAAKya,YAE3CmE,EAAOZ,EAAU,GAAKA,EAAU,GAAGvV,EAAIhS,EAAEF,GAAQ6b,aAAepS,EAAK0G,SAASgB,KAAO,EACrFmX,EAAOb,EAAU,GAAKA,EAAU,GAAGtV,EAAIjS,EAAEF,GAAQ4b,YAAcnS,EAAK0G,SAASsB,IAAM,EAInF8W,EAAU,SAAUC,GACzB,IAAIC,EAASpjB,EAAQkE,KAAKif,GAM1B,GAJItoB,EAAE8U,WAAWyT,KACfA,EAASA,EAAOtb,MAAMgP,EAAU,CAAC9W,EAAS6I,KAGvCua,EAIL,OAAQA,GACN,IAAK,QACNtM,EAAS7Y,MAAMmG,EAAK0a,YAEpB,MAEC,IAAK,iBACNhI,EAASkB,iBAET,MAEC,IAAK,OACNlB,EAAS7N,OAET,MAEC,IAAK,cACF6N,EAAShS,MAAMzB,OAAS,EAC1ByT,EAAS7N,OAET6N,EAAS7Y,MAAMmG,EAAK0a,YAGtB,MAEC,IAAK,OACc,SAAhB9e,EAAQE,OAAoBF,EAAQyM,UAAYzM,EAAQkR,UACtD4F,EAAStH,SACdsH,EAASjJ,aACGiJ,EAAS5N,eACrB4N,EAASlK,cAAcoW,EAAMC,GACjBnM,EAAShS,MAAMzB,OAAS,GACpCyT,EAAS7Y,MAAMmG,EAAK0a,aAMrB,EAGA,KAAIjW,EAAEM,eAA2C,GAA1BN,EAAEM,cAAcsL,UAKlC6E,EAAQtP,GAAG,UAAUgZ,EAAO1J,EAAQ,GAAGzT,YAAcyT,EAAQqF,SAAS7S,OAA3E,CAKA,GAAIwN,EAAQtP,GAAG,oEAChB+Y,EAAQ,eACA,GAAIzJ,EAAQtP,GAAG,mBACvB+Y,EAAQ,YACA,KACRjM,EAAS9W,QAAQoN,WACjB0J,EAAS9W,QAAQoN,SAChB/G,KAAKiT,GACL+J,UACApb,OAAOqR,GAASjW,OAIjB,OAFA0f,EAAQ,SAGP,CAGA,GAAI3e,EAAKoa,OAAQ,CAMlB,GAJAhc,aAAa4B,EAAKoa,QAClBpa,EAAKoa,OAAS,KAGVnQ,KAAKgB,IAAI2T,EAAO5e,EAAK4e,MAAQ,IAAM3U,KAAKgB,IAAI4T,EAAO7e,EAAK6e,MAAQ,GAClE,OAAO5e,KAIT6e,EAAQ,WAAaH,EACpB,MAGD3e,EAAK4e,KAAOA,EACZ5e,EAAK6e,KAAOA,EAERjjB,EAAQkE,KAAK,WAAa6e,IAAU/iB,EAAQkE,KAAK,WAAa6e,KAAW/iB,EAAQkE,KAAK,QAAU6e,GAClG3e,EAAKoa,OAASvc,YAAW,WAC1BmC,EAAKoa,OAAS,KAET1H,EAAS3L,aACZ+X,EAAQ,QAAUH,EAEnB,GAAG,KAEHG,EAAQ,QAAUH,GAInB,OAAO1e,IAnDP,CAoDF,EAEAxJ,EAAED,GACCgO,GAAG,iBAAiB,SAAUC,EAAGiO,GAC/BA,IAAaA,EAASpH,YACxBoH,EAASpH,UAAY,IAAIA,EAAUoH,GAEpC,IACClO,GAAG,kBAAkB,SAAUC,EAAGiO,GAChCA,GAAYA,EAASpH,WACvBoH,EAASpH,UAAU2I,SAEpB,GACA,CAp5BD,CAo5BG1d,OAAQC,SAAU6e,QAUrB,SAAW7e,EAAUC,GACtB,aAEAA,EAAE8I,QAAO,EAAM9I,EAAEM,SAASK,SAAU,CAClCsC,OAAQ,CACTiB,UAAW,uVAKVA,UAAW,CACZ7B,WAAW,EACX8B,MAAO,IACPskB,UAAU,KAIX,IAAI1V,EAAY,SAAUkJ,GACxBzS,KAAKyS,SAAWA,EAChBzS,KAAKY,MACP,EAEApK,EAAE8I,OAAOiK,EAAU1I,UAAW,CAC5Bqe,MAAO,KACPhb,UAAU,EACVib,QAAS,KAETve,KAAM,WACP,IAAIb,EAAOC,KACTyS,EAAW1S,EAAK0S,SAChB5S,EAAO4S,EAAShS,MAAMgS,EAAStS,WAAWN,KAAKnF,UAEjDqF,EAAKof,QAAU1M,EAAS7Q,MAAMhK,QAAQoK,KAAK,wBAAwBuC,GAAG,SAAS,WAC7ExE,EAAKqf,QACP,IAEI3M,EAAShS,MAAMzB,OAAS,IAAMa,EAChCE,EAAKof,QAAQja,OACJrF,EAAKof,WACdlf,EAAKsf,UAAY7oB,EAAE,yCAAyCmL,SAAS8Q,EAAS7Q,MAAM0d,OAErF,EAEAC,IAAK,SAAUC,GAChB,IAAIzf,EAAOC,KACTyS,EAAW1S,EAAK0S,SAChB9W,EAAU8W,EAAS9W,QAGjBA,KAAsB,IAAV6jB,GAAkB7jB,EAAQkE,KAAKxI,MAAQob,EAAStS,UAAYsS,EAAShS,MAAMzB,OAAS,GAC9Fe,EAAKmE,UAAoC,UAAxBvI,EAAQuH,cAC1BnD,EAAKsf,WACP7oB,EAAEM,SAASkR,QAAQjI,EAAKsf,UAAUla,OAAQ,CAC3C0D,OAAQ,GACJlN,EAAQkE,KAAKnF,UAAUC,OAG5BoF,EAAKmf,MAAQthB,YAAW,WACjB6U,EAAS9W,QAAQkE,KAAKxI,MAAQob,EAAS9W,QAAQmE,OAAS2S,EAAShS,MAAMzB,OAAS,EAGtFyT,EAAS7N,OAFT6N,EAAStQ,OAAO,EAIjB,GAAGxG,EAAQkE,KAAKnF,UAAUC,SAGzBoF,EAAKuH,OACLmL,EAAS7M,mBAAqB,EAC9B6M,EAAS3M,eAEV,EAEA2Z,MAAO,WACR,IAAI1f,EAAOC,KAEX7B,aAAa4B,EAAKmf,OAElBnf,EAAKmf,MAAQ,KAETnf,EAAKsf,WACPtf,EAAKsf,UAAUK,WAAW,SAASxa,MAEpC,EAEA+L,MAAO,WACR,IAAIlR,EAAOC,KACTrE,EAAUoE,EAAK0S,SAAS9W,QAEtBA,IACFoE,EAAKof,QACL1mB,KAAK,SAAUkD,EAAQkE,KAAKxD,KAAKV,EAAQkE,KAAKzD,OAAST,EAAQkE,KAAKxD,KAAKC,IAAIM,WAC7E4K,YAAY,yBACZxG,SAAS,0BAETjB,EAAKmE,UAAW,EAEZvI,EAAQ4L,YACbxH,EAAKwf,KAAI,GAGRxf,EAAK0S,SAASxQ,QAAQ,qBAAqB,GAE5C,EAEAqF,KAAM,WACP,IAAIvH,EAAOC,KACTrE,EAAUoE,EAAK0S,SAAS9W,QAE1BoE,EAAK0f,QAEL1f,EAAKof,QACF1mB,KAAK,SAAUkD,EAAQkE,KAAKxD,KAAKV,EAAQkE,KAAKzD,OAAST,EAAQkE,KAAKxD,KAAKC,IAAIK,YAC7E6K,YAAY,0BACZxG,SAAS,yBAEZjB,EAAKmE,UAAW,EAEhBnE,EAAK0S,SAASxQ,QAAQ,qBAAqB,GAEvClC,EAAKsf,WACPtf,EAAKsf,UAAUK,WAAW,SAASxa,MAEpC,EAEAka,OAAQ,WACT,IAAIrf,EAAOC,KAEPD,EAAKmE,SACPnE,EAAKuH,OAELvH,EAAKkR,OAEN,IAGFza,EAAED,GAAUgO,GAAG,CACb,YAAa,SAAUC,EAAGiO,GACvBA,IAAaA,EAASlJ,YACxBkJ,EAASlJ,UAAY,IAAIA,EAAUkJ,GAEpC,EAEA,gBAAiB,SAAUjO,EAAGiO,EAAU9W,EAAS6E,GAClD,IAAI+I,EAAYkJ,GAAYA,EAASlJ,UAEjC/I,EACE+I,GAAa5N,EAAQkE,KAAKnF,UAAU7B,WACzC0Q,EAAU0H,QAEA1H,GAAaA,EAAUrF,UAChCqF,EAAUkW,OAEX,EAEA,eAAgB,SAAUjb,EAAGiO,EAAU9W,GACxC,IAAI4N,EAAYkJ,GAAYA,EAASlJ,UAEjCA,GAAaA,EAAUrF,UACzBqF,EAAUgW,KAEX,EAEA,kBAAmB,SAAU/a,EAAGiO,EAAU9W,EAASgkB,EAAUva,GAC9D,IAAImE,EAAYkJ,GAAYA,EAASlJ,WAGjCA,IAAa5N,EAAQkE,KAAKnF,WAA0B,KAAZ0K,GAA8B,KAAZA,GAAoB5O,EAAED,EAASic,eAAe7M,GAAG,oBAC7Gga,EAASjb,iBAET6E,EAAU6V,SAEX,EAEA,iCAAkC,SAAU5a,EAAGiO,GAChD,IAAIlJ,EAAYkJ,GAAYA,EAASlJ,UAEjCA,GACFA,EAAUjC,MAEX,IAIF9Q,EAAED,GAAUgO,GAAG,oBAAoB,WACjC,IAAIkO,EAAWjc,EAAEM,SAASmK,cAC3BsI,EAAYkJ,GAAYA,EAASlJ,UAE5BA,GAAaA,EAAUrF,WACxB3N,EAASqpB,OACXrW,EAAUkW,QAEVlW,EAAUgW,MAGb,GACE,CAnMD,CAmMGhpB,SAAU6e,QAOb,SAAW7e,EAAUC,GACtB,aAGA,IAAIK,EAAM,WAkCR,IAjCA,IAAIgpB,EAAQ,CACb,CAAC,oBAAqB,iBAAkB,oBAAqB,oBAAqB,mBAAoB,mBAEtG,CACE,0BACA,uBACA,0BACA,0BACA,yBACA,yBAGF,CACE,0BACA,yBACA,iCACA,yBACA,yBACA,yBAEF,CACE,uBACA,sBACA,uBACA,uBACA,sBACA,sBAEF,CAAC,sBAAuB,mBAAoB,sBAAuB,sBAAuB,qBAAsB,sBAG3GvS,EAAM,CAAC,EAEF3K,EAAI,EAAGA,EAAIkd,EAAM7gB,OAAQ2D,IAAK,CACxC,IAAImd,EAAMD,EAAMld,GAEhB,GAAImd,GAAOA,EAAI,KAAMvpB,EAAU,CAC7B,IAAK,IAAIsX,EAAI,EAAGA,EAAIiS,EAAI9gB,OAAQ6O,IACjCP,EAAIuS,EAAM,GAAGhS,IAAMiS,EAAIjS,GAGtB,OAAOP,CACT,CACC,CAEA,OAAO,CACT,CA/CU,GAiDV,GAAIzW,EAAI,CACN,IAAIkpB,EAAa,CAClBC,QAAS,SAAUxO,IACjBA,EAAOA,GAAQjb,EAASgL,iBAEnB1K,EAAGopB,mBAAmBzO,EAAK0O,qBAClC,EACAC,KAAM,WACJ5pB,EAASM,EAAGmb,iBACd,EACAoN,OAAQ,SAAU5N,GAChBA,EAAOA,GAAQjb,EAASgL,gBAEpBvB,KAAKogB,eACVpgB,KAAKmgB,OAELngB,KAAKggB,QAAQxO,EAEd,EACA4O,aAAc,WACZ,OAAOC,QAAQ9pB,EAASM,EAAGypB,mBAC7B,EACAC,QAAS,WACP,OAAOF,QAAQ9pB,EAASM,EAAG2pB,mBAC7B,GAGChqB,EAAE8I,QAAO,EAAM9I,EAAEM,SAASK,SAAU,CACrCsC,OAAQ,CACNW,WAAY,qaAKdA,WAAY,CACVvB,WAAW,KAIZrC,EAAED,GAAUgO,GAAG1N,EAAG4pB,kBAAkB,WACrC,IAAIL,EAAeL,EAAWK,eAC5B3N,EAAWjc,EAAEM,SAASmK,cAEpBwR,IAEEA,EAAS9W,SAAqC,UAA1B8W,EAAS9W,QAAQE,MAAoB4W,EAAS3L,cACvE2L,EAAS3L,aAAc,EAEvB2L,EAASzN,QAAO,GAAM,EAAM,GAEvByN,EAASlL,YACZkL,EAAStK,YAIVsK,EAASxQ,QAAQ,qBAAsBme,GAEvC3N,EAAS7Q,MAAMC,UAAU2I,YAAY,yBAA0B4V,GAE/D3N,EAAS7Q,MAAMhK,QACfoK,KAAK,8BACLwI,YAAY,4BAA6B4V,GACzC5V,YAAY,0BAA2B4V,GAExC,GACF,CAEA5pB,EAAED,GAAUgO,GAAG,CACb,YAAa,SAAUC,EAAGiO,GAGtB5b,EAMD4b,GAAYA,EAAShS,MAAMgS,EAAStS,WAAWN,KAAKzF,YACzCqY,EAAS7Q,MAAMC,UAEjB0C,GAAG,sBAAuB,8BAA8B,SAAUC,GAC9EA,EAAEC,kBACFD,EAAEE,iBAEFqb,EAAWX,QACV,IAEI3M,EAAS5S,KAAKzF,aAAqD,IAAvCqY,EAAS5S,KAAKzF,WAAWvB,WAC1DknB,EAAWC,UAIVvN,EAASsN,WAAaA,GACbtN,GACTA,EAAS7Q,MAAMhK,QAAQoK,KAAK,8BAA8BkD,OAtB1DuN,EAAS7Q,MAAMhK,QAAQoK,KAAK,8BAA8B4K,QAwB3D,EAEA,kBAAmB,SAAUpI,EAAGiO,EAAU9W,EAASgkB,EAAUva,GAE1DqN,GAAYA,EAASsN,YAA0B,KAAZ3a,IACrCua,EAASjb,iBAET+N,EAASsN,WAAWX,SAErB,EAEA,iBAAkB,SAAU5a,EAAGiO,GAC5BA,GAAYA,EAASsN,YAActN,EAAS7Q,MAAMC,UAAUkJ,SAAS,2BACvEgV,EAAWI,MAEZ,GAEA,CAtKD,CAsKG5pB,SAAU6e,QAOb,SAAW7e,EAAUC,GACtB,aAEA,IAAIkqB,EAAQ,kBACVC,EAAeD,EAAQ,UAGzBlqB,EAAEM,SAASK,SAAWX,EAAE8I,QACtB,EAAM,CACP7F,OAAQ,CACNmB,OAAQ,odAIVA,OAAQ,CACN/B,WAAW,EACXgC,aAAa,EACbd,SAAU,sBACVe,KAAM,MAGPtE,EAAEM,SAASK,UAGb,IAAIypB,EAAc,SAAUnO,GAC1BzS,KAAKY,KAAK6R,EACZ,EAEAjc,EAAE8I,OAAOshB,EAAY/f,UAAW,CAC9Bse,QAAS,KACT0B,MAAO,KACPC,MAAO,KACPpO,WAAW,EACXxO,UAAU,EAEVtD,KAAM,SAAU6R,GACjB,IAAI1S,EAAOC,KACTS,EAAQgS,EAAShS,MACjB8f,EAAU,EAEZxgB,EAAK0S,SAAWA,EAChB1S,EAAKF,KAAOY,EAAMgS,EAAStS,WAAWN,KAAKjF,OAE3C6X,EAASxO,OAASlE,EAElBA,EAAKof,QAAU1M,EAAS7Q,MAAMhK,QAAQoK,KAAK,0BAG3C,IAAK,IAAIW,EAAI,EAAG4b,EAAM9d,EAAMzB,OAAQ2D,EAAI4b,IAClC9d,EAAMkC,GAAGY,OACdgd,MAGKA,EAAU,IAL6B5d,KAUzC4d,EAAU,GAAOxgB,EAAKF,MACxBE,EAAKof,QAAQO,WAAW,SAASnb,GAAG,SAAS,WAC9CxE,EAAKqf,QACJ,IAEArf,EAAKmE,UAAW,GAEhBnE,EAAKof,QAAQja,MAEd,EAEAf,OAAQ,WACT,IAIErB,EAJE/C,EAAOC,KACTyS,EAAW1S,EAAK0S,SAChB1Y,EAAWgG,EAAKF,KAAK9F,SACrBgnB,EAAO,GAGJhhB,EAAK8gB,QAER9gB,EAAK8gB,MAAQrqB,EAAE,eAAiBkqB,EAAQ,IAAMA,EAAQ,IAAM3gB,EAAKF,KAAK/E,KAAO,YAAY6G,SAC1F8Q,EAAS7Q,MAAMC,UACdG,KAAKjI,GACLilB,UACApb,OAAO7J,IAIPgG,EAAK8gB,MAAMtc,GAAG,QAAS,KAAK,WAC7BkO,EAAStQ,OAAO3L,EAAEwJ,MAAMvH,KAAK,cAC5B,KAIGsH,EAAK+gB,QACR/gB,EAAK+gB,MAAQtqB,EAAE,eAAiBkqB,EAAQ,YAAY/e,SAAS5B,EAAK8gB,QAGpErqB,EAAE+I,KAAKkT,EAAShS,OAAO,SAAUkC,EAAGZ,IAClCe,EAAMf,EAAKwB,QAEe,UAAdxB,EAAKlG,OAClBiH,EAAMf,EAAKe,KAGVie,EAAKld,KACN,mDACAlB,EACA,KACCG,GAAOA,EAAI9D,OAAS,gCAAkC8D,EAAM,KAAO,mCACpE,QAED,IAEA/C,EAAK+gB,MAAM,GAAGE,UAAYD,EAAKnZ,KAAK,IAEb,MAAnB7H,EAAKF,KAAK/E,MAEZiF,EAAK+gB,MAAMpZ,MACZtH,SAASL,EAAK8gB,MAAMroB,IAAI,iBAAkB,IAC1Cia,EAAShS,MAAMzB,OACfe,EAAK+gB,MACJhW,WACA4F,GAAG,GACHvB,YAAW,GAGZ,EAEA/K,MAAO,SAAUiC,GAClB,IAGE9C,EACA4N,EAJEpR,EAAOC,KACT8gB,EAAQ/gB,EAAK+gB,MACbD,EAAQ9gB,EAAK8gB,MAIV9gB,EAAK0S,SAAS9W,UAUnBwV,GANA5N,EAAQud,EACLhW,WACAtD,YAAYmZ,GACZ/c,OAAO,gBAAkB7D,EAAK0S,SAAS9W,QAAQmE,MAAQ,MACvDkB,SAAS2f,IAEKlM,WAGM,MAAnB1U,EAAKF,KAAK/E,OAAiBqW,EAASpJ,IAAM,GAAKoJ,EAASpJ,IAAM+Y,EAAM5X,SAAW3F,EAAM6L,eACvF0R,EAAMxZ,OAAOU,QAAQ,CACpBkK,UAAW4O,EAAM5O,YAAcf,EAASpJ,KAE1C1B,GAGoB,MAAnBtG,EAAKF,KAAK/E,OACTqW,EAAS1J,KAAOoZ,EAAM1O,cAAgBhB,EAAS1J,KAAOoZ,EAAM1O,cAAgB0O,EAAMnZ,QAAUnE,EAAM4L,gBAEnG2R,EACAjW,SACAvD,OACAU,QAAQ,CACRmK,WAAYhB,EAAS1J,MAEpBpB,GAGF,EAEArB,OAAQ,WACT,IAAIic,EAAOjhB,KACXihB,EAAKxO,SAAS7Q,MAAMC,UAAU2I,YAAY,uBAAwBxK,KAAK0S,WAEnEuO,EAAKvO,WACFuO,EAAKJ,OACXI,EAAK9c,SAGJ8c,EAAKxO,SAASxQ,QAAQ,gBAEtBgf,EAAK7c,MAAM,IACF6c,EAAKJ,OACdI,EAAKxO,SAASxQ,QAAQ,gBAIxBgf,EAAKxO,SAASzN,QACb,EAEAE,KAAM,WACPlF,KAAK0S,WAAY,EACjB1S,KAAKgF,QACJ,EAEAG,KAAM,WACPnF,KAAK0S,WAAY,EACjB1S,KAAKgF,QACJ,EAEAoa,OAAQ,WACTpf,KAAK0S,WAAa1S,KAAK0S,UACvB1S,KAAKgF,QACJ,IAGFxO,EAAED,GAAUgO,GAAG,CACb,YAAa,SAAUC,EAAGiO,GAC3B,IAAIxO,EAEAwO,IAAaA,EAASxO,SACxBA,EAAS,IAAI2c,EAAYnO,IAEdvO,WAAsC,IAA1BD,EAAOpE,KAAKhH,WACpCoL,EAAOkB,MAGP,EAEA,gBAAiB,SAAUX,EAAGiO,EAAU1Q,EAAMvB,GAC/C,IAAIyD,EAASwO,GAAYA,EAASxO,OAE9BA,GAAUA,EAAOyO,WACnBzO,EAAOG,MAAM5D,EAAW,EAAI,IAE7B,EAEA,kBAAmB,SAAUgE,EAAGiO,EAAU9W,EAASgkB,EAAUva,GAC9D,IAAInB,EAASwO,GAAYA,EAASxO,OAG9BA,GAAUA,EAAOC,UAAwB,KAAZkB,IAC/Bua,EAASjb,iBAETT,EAAOmb,SAER,EAEA,iBAAkB,SAAU5a,EAAGiO,GAChC,IAAIxO,EAASwO,GAAYA,EAASxO,OAE9BA,GAAUA,EAAOyO,YAAyC,IAA5BzO,EAAOpE,KAAKhF,aAC5CoJ,EAAO4c,MAAM3b,MAEd,GAEA,CApPD,CAoPG3O,SAAU6e,QAOb,SAAW7e,EAAUC,GACtB,aAEAA,EAAE8I,QAAO,EAAM9I,EAAEM,SAASK,SAAU,CAClCsC,OAAQ,CACTynB,MAAO,oQAINA,MAAO,CACRlV,IAAK,SAAUyG,EAAU1Q,GACvB,OACC0Q,EAAS0O,aAA+B,WAAdpf,EAAKlG,MAAmC,SAAdkG,EAAKlG,OAAmBkG,EAAKsV,SAAWtV,EAAKe,MAAgBxM,OAAO8qB,QAE3H,EACA7oB,IAAK,sjDAsCN/B,EAAED,GAAUgO,GAAG,QAAS,yBAAyB,WAC/C,IAEDyH,EACAzT,EArBmB8oB,EACdC,EAiBA7O,EAAWjc,EAAEM,SAASmK,cAC3BtF,EAAU8W,EAAS9W,SAAW,KAIxBA,IAIkC,aAAnCnF,EAAEqF,KAAKF,EAAQkE,KAAKqhB,MAAMlV,OAC/BA,EAAMrQ,EAAQkE,KAAKqhB,MAAMlV,IAAIvI,MAAM9H,EAAS,CAAC8W,EAAU9W,KAGtDpD,EAAMoD,EAAQkE,KAAKqhB,MAAM3oB,IACzBmJ,QAAQ,iBAAmC,UAAjB/F,EAAQE,KAAmB0lB,mBAAmB5lB,EAAQmH,KAAO,IACvFpB,QAAQ,eAAgB6f,mBAAmBvV,IAC3CtK,QAAQ,oBAlCU2f,EAkCqBrV,EAjCnCsV,EAAY,CACjB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,UAGGE,OAAOH,GAAQ3f,QAAQ,gBAAgB,SAAU0V,GACzD,OAAOkK,EAAUlK,EAChB,MAqBA1V,QAAQ,iBAAkB+Q,EAASlC,SAAWgR,mBAAmB9O,EAASlC,SAASkR,QAAU,IAE7FjrB,EAAEM,SAASgd,KAAK,CACjBhR,IAAK2P,EAAShR,UAAUgR,EAAUla,GAClCsD,KAAM,OACNgE,KAAM,CACJxF,OAAO,EACPtB,iBAAiB,EACjBoC,UAAW,SAAUumB,EAAeC,GAErClP,EAAS7Q,MAAMC,UAAUwK,IAAI,kBAAkB,WAC7CqV,EAAc9nB,MAAM,KAAM,EAC5B,IAGA+nB,EAAa5Y,SAAS/G,KAAK,2BAA2B4f,OAAM,WAE1D,OADAtrB,OAAOwd,KAAK9T,KAAK6hB,KAAM,QAAS,0BACzB,CACT,GACC,EACA1lB,OAAQ,CACTlC,WAAW,MAIb,GACE,CAjGD,CAiGG1D,SAAU6e,QAOb,SAAW9e,EAAQC,EAAUC,GAC9B,aA0BA,SAASsrB,IACP,IAAItnB,EAAOlE,EAAO8qB,SAAS5mB,KAAKif,OAAO,GACxCpa,EAAM7E,EAAKkJ,MAAM,KACjB5D,EAAQT,EAAIL,OAAS,GAAK,WAAWiV,KAAK5U,EAAIA,EAAIL,OAAS,KAAMoB,SAASf,EAAI0iB,KAAK,GAAI,KAAW,EAGjG,MAAO,CACRvnB,KAAMA,EAENsF,MAAOA,EAAQ,EAAI,EAAIA,EACvBkiB,QANU3iB,EAAIuI,KAAK,KAQpB,CAGA,SAASqa,EAAejW,GACF,KAAhBA,EAAIgW,SAGTxrB,EAAE,mBAAqBA,EAAE0rB,eAAelW,EAAIgW,SAAW,MACpDtR,GAAG1E,EAAIlM,MAAQ,GACfsE,QACAnC,QAAQ,iBAEZ,CAGA,SAASkgB,EAAa1P,GACpB,IAAI5S,EAAMyN,EAEV,QAAKmF,GAOU,MAFfnF,GADAzN,EAAO4S,EAAS9W,QAAU8W,EAAS9W,QAAQkE,KAAO4S,EAAS5S,MAChDrF,OAASqF,EAAKoD,MAAQpD,EAAKoD,MAAM5K,KAAK,aAAewH,EAAKoD,MAAM5K,KAAK,oBAAsB,MAE1EiV,CAC9B,CA7DK9W,EAAE0rB,iBACL1rB,EAAE0rB,eAAiB,SAAUE,GAiB9B,OAAQA,EAAM,IAAI1gB,QAhBD,gDACA,SAAU2gB,EAAIC,GAC7B,OAAIA,EAEM,OAAPD,EACK,IAIFA,EAAGhP,MAAM,GAAI,GAAK,KAAOgP,EAAGE,WAAWF,EAAGrjB,OAAS,GAAGwjB,SAAS,IAAM,IAIpE,KAAOH,CAChB,GAGC,GA6CF7rB,GAAE,YAEiC,IAA7BA,EAAEM,SAASK,SAASqD,OAKxBhE,EAAED,GAAUgO,GAAG,CAChB,YAAa,SAAUC,EAAGiO,GACxB,IAAIzG,EAAKgW,GAE4C,IAAjDvP,EAAShS,MAAMgS,EAAStS,WAAWN,KAAKrF,OAI5CwR,EAAM8V,KACNE,EAAUG,EAAa1P,KAGRzG,EAAIgW,SAAWA,GAAWhW,EAAIgW,UAC9CvP,EAAStS,UAAY6L,EAAIlM,MAAQ,GAElC,EAEA,gBAAiB,SAAU0E,EAAGiO,EAAU9W,EAAS6E,GAC/C,IAAIwhB,EAECrmB,IAAiC,IAAtBA,EAAQkE,KAAKrF,OAK7BwnB,EAAUG,EAAa1P,MAQvBA,EAAS0O,YAAca,GAAWvP,EAAShS,MAAMzB,OAAS,EAAI,KAAOrD,EAAQmE,MAAQ,GAAK,IAGtFxJ,EAAO8qB,SAAS5mB,OAAS,IAAMiY,EAAS0O,cAIxC3gB,IAAaiS,EAASgQ,WAC3BhQ,EAASgQ,SAAWnsB,EAAO8qB,SAAS5mB,MAG/BiY,EAASiQ,WACdvkB,aAAasU,EAASiQ,WAIrBjQ,EAASiQ,UAAY9kB,YAAW,WAC7B,iBAAkBtH,EAAOqsB,SAC3BrsB,EAAOqsB,QAAQniB,EAAW,YAAc,gBAAgB,CAAC,EAC1DjK,EAASqsB,MACTtsB,EAAO8qB,SAASyB,SAAWvsB,EAAO8qB,SAAS0B,OAAS,IAAMrQ,EAAS0O,aAG9D3gB,IACLiS,EAASsQ,mBAAoB,IAG5BzsB,EAAO8qB,SAAS5mB,KAAOiY,EAAS0O,YAGlC1O,EAASiQ,UAAY,IACpB,GAAG,MACL,EAEA,iBAAkB,SAAUle,EAAGiO,EAAU9W,GAClCA,IAAiC,IAAtBA,EAAQkE,KAAKrF,OAI7B2D,aAAasU,EAASiQ,WAGlBjQ,EAAS0O,aAAe1O,EAASsQ,kBACtCzsB,EAAOqsB,QAAQK,OACHvQ,EAAS0O,cACjB,iBAAkB7qB,EAAOqsB,QAC3BrsB,EAAOqsB,QAAQM,aAAa,CAAC,EAAG1sB,EAASqsB,MAAOtsB,EAAO8qB,SAASyB,SAAWvsB,EAAO8qB,SAAS0B,QAAUrQ,EAASgQ,UAAY,KAE1HnsB,EAAO8qB,SAAS5mB,KAAOiY,EAASgQ,UAIjChQ,EAAS0O,YAAc,KACzB,IAIC3qB,EAAEF,GAAQiO,GAAG,iBAAiB,WAC/B,IAAIyH,EAAM8V,IACRoB,EAAK,KAGP1sB,EAAE+I,KACA/I,EAAE,uBACDiU,MACA0Y,WACD,SAAUrjB,EAAOL,GAClB,IAAI2jB,EAAM5sB,EAAEiJ,GAAOpH,KAAK,YAExB,GAAI+qB,GAAOA,EAAIjC,YAEb,OADA+B,EAAKE,GACE,CAER,IAGEF,EAEEA,EAAG/B,cAAgBnV,EAAIgW,QAAU,IAAMhW,EAAIlM,OAAyB,IAAdkM,EAAIlM,OAAeojB,EAAG/B,aAAenV,EAAIgW,UACpGkB,EAAG/B,YAAc,KAEjB+B,EAAGtpB,SAEuB,KAAhBoS,EAAIgW,SACbC,EAAejW,EAEhB,IAGApO,YAAW,WACPpH,EAAEM,SAASmK,eACdghB,EAAeH,IAEhB,GAAG,IACL,GACE,CA3MD,CA2MGxrB,OAAQC,SAAU6e,QAOrB,SAAW7e,EAAUC,GACtB,aAEA,IAAI6sB,GAAW,IAAI3U,MAAOC,UAE1BnY,EAAED,GAAUgO,GAAG,CACb,YAAa,SAAUC,EAAGiO,EAAU9W,GACrC8W,EAAS7Q,MAAMqD,MAAMV,GAAG,uDAAuD,SAAUC,GACvF,IAAI7I,EAAU8W,EAAS9W,QACxB2nB,GAAW,IAAI5U,MAAOC,UAEjB8D,EAAShS,MAAMzB,OAAS,IAA4B,IAAvBrD,EAAQkE,KAAK9E,OAA2C,SAAvBY,EAAQkE,KAAK9E,OAAqC,UAAjBY,EAAQE,OAI3G2I,EAAEE,iBACFF,EAAEC,kBAEE9I,EAAQuL,OAAO6D,SAAS,uBAI5BvG,EAAIA,EAAEM,eAAiBN,EAEnB8e,EAAWD,EAAW,MAI1BA,EAAWC,EAEX7Q,IAAWjO,EAAE+e,SAAW/e,EAAEgf,QAAUhf,EAAEif,aAAejf,EAAEkf,QAAU,EAAI,OAAS,gBAChF,GACC,GAEA,CAlCD,CAkCGntB,SAAU6e","sources":["webpack://aaochat/./src/jquery_fancybox.js"],"sourcesContent":["// ==================================================\n// fancyBox v3.5.7\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2019 fancyApps\n//\n// ==================================================\n(function (window, document, $, undefined) {\n\t\"use strict\";\n  \n\twindow.console = window.console || {\n\t  info: function (stuff) {}\n\t};\n  \n\t// If there's no jQuery, fancyBox can't work\n\t// =========================================\n  \n\tif (!$) {\n\t  return;\n\t}\n  \n\t// Check if fancyBox is already initialized\n\t// ========================================\n  \n\tif ($.fn.fancybox) {\n\t  console.info(\"fancyBox already initialized\");\n  \n\t  return;\n\t}\n  \n\t// Private default settings\n\t// ========================\n  \n\tvar defaults = {\n\t  // Close existing modals\n\t  // Set this to false if you do not need to stack multiple instances\n\t  closeExisting: false,\n  \n\t  // Enable infinite gallery navigation\n\t  loop: false,\n  \n\t  // Horizontal space between slides\n\t  gutter: 50,\n  \n\t  // Enable keyboard navigation\n\t  keyboard: true,\n  \n\t  // Should allow caption to overlap the content\n\t  preventCaptionOverlap: true,\n  \n\t  // Should display navigation arrows at the screen edges\n\t  arrows: true,\n  \n\t  // Should display counter at the top left corner\n\t  infobar: true,\n  \n\t  // Should display close button (using `btnTpl.smallBtn` template) over the content\n\t  // Can be true, false, \"auto\"\n\t  // If \"auto\" - will be automatically enabled for \"html\", \"inline\" or \"ajax\" items\n\t  smallBtn: \"auto\",\n  \n\t  // Should display toolbar (buttons at the top)\n\t  // Can be true, false, \"auto\"\n\t  // If \"auto\" - will be automatically hidden if \"smallBtn\" is enabled\n\t  toolbar: \"auto\",\n  \n\t  // What buttons should appear in the top right corner.\n\t  // Buttons will be created using templates from `btnTpl` option\n\t  // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\n\t  buttons: [\n\t\t\"zoom\",\n\t\t//\"share\",\n\t\t\"slideShow\",\n\t\t//\"fullScreen\",\n\t\t//\"download\",\n\t\t\"thumbs\",\n\t\t\"close\"\n\t  ],\n  \n\t  // Detect \"idle\" time in seconds\n\t  idleTime: 3,\n  \n\t  // Disable right-click and use simple image protection for images\n\t  protect: false,\n  \n\t  // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\n\t  modal: false,\n  \n\t  image: {\n\t\t// Wait for images to load before displaying\n\t\t//   true  - wait for image to load and then display;\n\t\t//   false - display thumbnail and load the full-sized image over top,\n\t\t//           requires predefined image dimensions (`data-width` and `data-height` attributes)\n\t\tpreload: false\n\t  },\n  \n\t  ajax: {\n\t\t// Object containing settings for ajax request\n\t\tsettings: {\n\t\t  // This helps to indicate that request comes from the modal\n\t\t  // Feel free to change naming\n\t\t  data: {\n\t\t\tfancybox: true\n\t\t  }\n\t\t}\n\t  },\n  \n\t  iframe: {\n\t\t// Iframe template\n\t\ttpl: '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" allowfullscreen=\"allowfullscreen\" allow=\"autoplay; fullscreen\" src=\"\"></iframe>',\n  \n\t\t// Preload iframe before displaying it\n\t\t// This allows to calculate iframe content width and height\n\t\t// (note: Due to \"Same Origin Policy\", you can't get cross domain data).\n\t\tpreload: true,\n  \n\t\t// Custom CSS styling for iframe wrapping element\n\t\t// You can use this to set custom iframe dimensions\n\t\tcss: {},\n  \n\t\t// Iframe tag attributes\n\t\tattr: {\n\t\t  scrolling: \"auto\"\n\t\t}\n\t  },\n  \n\t  // For HTML5 video only\n\t  video: {\n\t\ttpl: '<video class=\"fancybox-video\" controls controlsList=\"nodownload\" poster=\"{{poster}}\">' +\n\t\t  '<source src=\"{{src}}\" type=\"{{format}}\" />' +\n\t\t  'Sorry, your browser doesn\\'t support embedded videos, <a href=\"{{src}}\">download</a> and watch with your favorite video player!' +\n\t\t  \"</video>\",\n\t\tformat: \"\", // custom video format\n\t\tautoStart: true\n\t  },\n  \n\t  // Default content type if cannot be detected automatically\n\t  defaultType: \"image\",\n  \n\t  // Open/close animation type\n\t  // Possible values:\n\t  //   false            - disable\n\t  //   \"zoom\"           - zoom images from/to thumbnail\n\t  //   \"fade\"\n\t  //   \"zoom-in-out\"\n\t  //\n\t  animationEffect: \"zoom\",\n  \n\t  // Duration in ms for open/close animation\n\t  animationDuration: 366,\n  \n\t  // Should image change opacity while zooming\n\t  // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\n\t  zoomOpacity: \"auto\",\n  \n\t  // Transition effect between slides\n\t  //\n\t  // Possible values:\n\t  //   false            - disable\n\t  //   \"fade'\n\t  //   \"slide'\n\t  //   \"circular'\n\t  //   \"tube'\n\t  //   \"zoom-in-out'\n\t  //   \"rotate'\n\t  //\n\t  transitionEffect: \"fade\",\n  \n\t  // Duration in ms for transition animation\n\t  transitionDuration: 366,\n  \n\t  // Custom CSS class for slide element\n\t  slideClass: \"\",\n  \n\t  // Custom CSS class for layout\n\t  baseClass: \"\",\n  \n\t  // Base template for layout\n\t  baseTpl: '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\n\t\t'<div class=\"fancybox-bg\"></div>' +\n\t\t'<div class=\"fancybox-inner\">' +\n\t\t'<div class=\"fancybox-infobar\"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div>' +\n\t\t'<div class=\"fancybox-toolbar\">{{buttons}}</div>' +\n\t\t'<div class=\"fancybox-navigation\">{{arrows}}</div>' +\n\t\t'<div class=\"fancybox-stage\"></div>' +\n\t\t'<div class=\"fancybox-caption\"><div class=\"fancybox-caption__body\"></div></div>' +\n\t\t\"</div>\" +\n\t\t\"</div>\",\n  \n\t  // Loading indicator template\n\t  spinnerTpl: '<div class=\"fancybox-loading\"></div>',\n  \n\t  // Error message template\n\t  errorTpl: '<div class=\"fancybox-error\"><p>{{ERROR}}</p></div>',\n  \n\t  btnTpl: {\n\t\tdownload: '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\n\t\t  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z\"/></svg>' +\n\t\t  \"</a>\",\n  \n\t\tzoom: '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\n\t\t  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"/></svg>' +\n\t\t  \"</button>\",\n  \n\t\tclose: '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\n\t\t  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z\"/></svg>' +\n\t\t  \"</button>\",\n  \n\t\t// Arrows\n\t\tarrowLeft: '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\n\t\t  '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z\"/></svg></div>' +\n\t\t  \"</button>\",\n  \n\t\tarrowRight: '<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\">' +\n\t\t  '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z\"/></svg></div>' +\n\t\t  \"</button>\",\n  \n\t\t// This small close button will be appended to your html/inline/ajax content by default,\n\t\t// if \"smallBtn\" option is not set to false\n\t\tsmallBtn: '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\">' +\n\t\t  '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1\" viewBox=\"0 0 24 24\"><path d=\"M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z\"/></svg>' +\n\t\t  \"</button>\"\n\t  },\n  \n\t  // Container is injected into this element\n\t  parentEl: \"body\",\n  \n\t  // Hide browser vertical scrollbars; use at your own risk\n\t  hideScrollbar: true,\n  \n\t  // Focus handling\n\t  // ==============\n  \n\t  // Try to focus on the first focusable element after opening\n\t  autoFocus: true,\n  \n\t  // Put focus back to active element after closing\n\t  backFocus: true,\n  \n\t  // Do not let user to focus on element outside modal content\n\t  trapFocus: true,\n  \n\t  // Module specific options\n\t  // =======================\n  \n\t  fullScreen: {\n\t\tautoStart: false\n\t  },\n  \n\t  // Set `touch: false` to disable panning/swiping\n\t  touch: {\n\t\tvertical: true, // Allow to drag content vertically\n\t\tmomentum: true // Continue movement after releasing mouse/touch when panning\n\t  },\n  \n\t  // Hash value when initializing manually,\n\t  // set `false` to disable hash change\n\t  hash: null,\n  \n\t  // Customize or add new media types\n\t  // Example:\n\t  /*\n\t\tmedia : {\n\t\t  youtube : {\n\t\t\tparams : {\n\t\t\t  autoplay : 0\n\t\t\t}\n\t\t  }\n\t\t}\n\t  */\n\t  media: {},\n  \n\t  slideShow: {\n\t\tautoStart: false,\n\t\tspeed: 3000\n\t  },\n  \n\t  thumbs: {\n\t\tautoStart: false, // Display thumbnails on opening\n\t\thideOnClose: true, // Hide thumbnail grid when closing animation starts\n\t\tparentEl: \".fancybox-container\", // Container is injected into this element\n\t\taxis: \"y\" // Vertical (y) or horizontal (x) scrolling\n\t  },\n  \n\t  // Use mousewheel to navigate gallery\n\t  // If 'auto' - enabled for images only\n\t  wheel: \"auto\",\n  \n\t  // Callbacks\n\t  //==========\n  \n\t  // See Documentation/API/Events for more information\n\t  // Example:\n\t  /*\n\t\tafterShow: function( instance, current ) {\n\t\t  console.info( 'Clicked element:' );\n\t\t  console.info( current.opts.$orig );\n\t\t}\n\t  */\n  \n\t  onInit: $.noop, // When instance has been initialized\n  \n\t  beforeLoad: $.noop, // Before the content of a slide is being loaded\n\t  afterLoad: $.noop, // When the content of a slide is done loading\n  \n\t  beforeShow: $.noop, // Before open animation starts\n\t  afterShow: $.noop, // When content is done loading and animating\n  \n\t  beforeClose: $.noop, // Before the instance attempts to close. Return false to cancel the close.\n\t  afterClose: $.noop, // After instance has been closed\n  \n\t  onActivate: $.noop, // When instance is brought to front\n\t  onDeactivate: $.noop, // When other instance has been activated\n  \n\t  // Interaction\n\t  // ===========\n  \n\t  // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\n\t  // each option can be string or method that returns value.\n\t  //\n\t  // Possible values:\n\t  //   \"close\"           - close instance\n\t  //   \"next\"            - move to next gallery item\n\t  //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\n\t  //   \"toggleControls\"  - show/hide controls\n\t  //   \"zoom\"            - zoom image (if loaded)\n\t  //   false             - do nothing\n  \n\t  // Clicked on the content\n\t  clickContent: function (current, event) {\n\t\treturn current.type === \"image\" ? \"zoom\" : false;\n\t  },\n  \n\t  // Clicked on the slide\n\t  clickSlide: \"close\",\n  \n\t  // Clicked on the background (backdrop) element;\n\t  // if you have not changed the layout, then most likely you need to use `clickSlide` option\n\t  clickOutside: \"close\",\n  \n\t  // Same as previous two, but for double click\n\t  dblclickContent: false,\n\t  dblclickSlide: false,\n\t  dblclickOutside: false,\n  \n\t  // Custom options when mobile device is detected\n\t  // =============================================\n  \n\t  mobile: {\n\t\tpreventCaptionOverlap: false,\n\t\tidleTime: false,\n\t\tclickContent: function (current, event) {\n\t\t  return current.type === \"image\" ? \"toggleControls\" : false;\n\t\t},\n\t\tclickSlide: function (current, event) {\n\t\t  return current.type === \"image\" ? \"toggleControls\" : \"close\";\n\t\t},\n\t\tdblclickContent: function (current, event) {\n\t\t  return current.type === \"image\" ? \"zoom\" : false;\n\t\t},\n\t\tdblclickSlide: function (current, event) {\n\t\t  return current.type === \"image\" ? \"zoom\" : false;\n\t\t}\n\t  },\n  \n\t  // Internationalization\n\t  // ====================\n  \n\t  lang: \"en\",\n\t  i18n: {\n\t\ten: {\n\t\t  CLOSE: \"Close\",\n\t\t  NEXT: \"Next\",\n\t\t  PREV: \"Previous\",\n\t\t  ERROR: \"The requested content cannot be loaded. <br/> Please try again later.\",\n\t\t  PLAY_START: \"Start slideshow\",\n\t\t  PLAY_STOP: \"Pause slideshow\",\n\t\t  FULL_SCREEN: \"Full screen\",\n\t\t  THUMBS: \"Thumbnails\",\n\t\t  DOWNLOAD: \"Download\",\n\t\t  SHARE: \"Share\",\n\t\t  ZOOM: \"Zoom\"\n\t\t},\n\t\tde: {\n\t\t  CLOSE: \"Schlie&szlig;en\",\n\t\t  NEXT: \"Weiter\",\n\t\t  PREV: \"Zur&uuml;ck\",\n\t\t  ERROR: \"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.\",\n\t\t  PLAY_START: \"Diaschau starten\",\n\t\t  PLAY_STOP: \"Diaschau beenden\",\n\t\t  FULL_SCREEN: \"Vollbild\",\n\t\t  THUMBS: \"Vorschaubilder\",\n\t\t  DOWNLOAD: \"Herunterladen\",\n\t\t  SHARE: \"Teilen\",\n\t\t  ZOOM: \"Vergr&ouml;&szlig;ern\"\n\t\t}\n\t  }\n\t};\n  \n\t// Few useful variables and methods\n\t// ================================\n  \n\tvar $W = $(window);\n\tvar $D = $(document);\n  \n\tvar called = 0;\n  \n\t// Check if an object is a jQuery object and not a native JavaScript object\n\t// ========================================================================\n\tvar isQuery = function (obj) {\n\t  return obj && obj.hasOwnProperty && obj instanceof $;\n\t};\n  \n\t// Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\n\t// ===============================================================================\n\tvar requestAFrame = (function () {\n\t  return (\n\t\twindow.requestAnimationFrame ||\n\t\twindow.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame ||\n\t\twindow.oRequestAnimationFrame ||\n\t\t// if all else fails, use setTimeout\n\t\tfunction (callback) {\n\t\t  return window.setTimeout(callback, 1000 / 60);\n\t\t}\n\t  );\n\t})();\n  \n\tvar cancelAFrame = (function () {\n\t  return (\n\t\twindow.cancelAnimationFrame ||\n\t\twindow.webkitCancelAnimationFrame ||\n\t\twindow.mozCancelAnimationFrame ||\n\t\twindow.oCancelAnimationFrame ||\n\t\tfunction (id) {\n\t\t  window.clearTimeout(id);\n\t\t}\n\t  );\n\t})();\n  \n\t// Detect the supported transition-end event property name\n\t// =======================================================\n\tvar transitionEnd = (function () {\n\t  var el = document.createElement(\"fakeelement\"),\n\t\tt;\n  \n\t  var transitions = {\n\t\ttransition: \"transitionend\",\n\t\tOTransition: \"oTransitionEnd\",\n\t\tMozTransition: \"transitionend\",\n\t\tWebkitTransition: \"webkitTransitionEnd\"\n\t  };\n  \n\t  for (t in transitions) {\n\t\tif (el.style[t] !== undefined) {\n\t\t  return transitions[t];\n\t\t}\n\t  }\n  \n\t  return \"transitionend\";\n\t})();\n  \n\t// Force redraw on an element.\n\t// This helps in cases where the browser doesn't redraw an updated element properly\n\t// ================================================================================\n\tvar forceRedraw = function ($el) {\n\t  return $el && $el.length && $el[0].offsetHeight;\n\t};\n  \n\t// Exclude array (`buttons`) options from deep merging\n\t// ===================================================\n\tvar mergeOpts = function (opts1, opts2) {\n\t  var rez = $.extend(true, {}, opts1, opts2);\n  \n\t  $.each(opts2, function (key, value) {\n\t\tif ($.isArray(value)) {\n\t\t  rez[key] = value;\n\t\t}\n\t  });\n  \n\t  return rez;\n\t};\n  \n\t// How much of an element is visible in viewport\n\t// =============================================\n  \n\tvar inViewport = function (elem) {\n\t  var elemCenter, rez;\n  \n\t  if (!elem || elem.ownerDocument !== document) {\n\t\treturn false;\n\t  }\n  \n\t  $(\".fancybox-container\").css(\"pointer-events\", \"none\");\n  \n\t  elemCenter = {\n\t\tx: elem.getBoundingClientRect().left + elem.offsetWidth / 2,\n\t\ty: elem.getBoundingClientRect().top + elem.offsetHeight / 2\n\t  };\n  \n\t  rez = document.elementFromPoint(elemCenter.x, elemCenter.y) === elem;\n  \n\t  $(\".fancybox-container\").css(\"pointer-events\", \"\");\n  \n\t  return rez;\n\t};\n  \n\t// Class definition\n\t// ================\n  \n\tvar FancyBox = function (content, opts, index) {\n\t  var self = this;\n  \n\t  self.opts = mergeOpts({\n\t\tindex: index\n\t  }, $.fancybox.defaults);\n  \n\t  if ($.isPlainObject(opts)) {\n\t\tself.opts = mergeOpts(self.opts, opts);\n\t  }\n  \n\t  if ($.fancybox.isMobile) {\n\t\tself.opts = mergeOpts(self.opts, self.opts.mobile);\n\t  }\n  \n\t  self.id = self.opts.id || ++called;\n  \n\t  self.currIndex = parseInt(self.opts.index, 10) || 0;\n\t  self.prevIndex = null;\n  \n\t  self.prevPos = null;\n\t  self.currPos = 0;\n  \n\t  self.firstRun = true;\n  \n\t  // All group items\n\t  self.group = [];\n  \n\t  // Existing slides (for current, next and previous gallery items)\n\t  self.slides = {};\n  \n\t  // Create group elements\n\t  self.addContent(content);\n  \n\t  if (!self.group.length) {\n\t\treturn;\n\t  }\n  \n\t  self.init();\n\t};\n  \n\t$.extend(FancyBox.prototype, {\n\t  // Create DOM structure\n\t  // ====================\n  \n\t  init: function () {\n\t\tvar self = this,\n\t\t  firstItem = self.group[self.currIndex],\n\t\t  firstItemOpts = firstItem.opts,\n\t\t  $container,\n\t\t  buttonStr;\n  \n\t\tif (firstItemOpts.closeExisting) {\n\t\t  $.fancybox.close(true);\n\t\t}\n  \n\t\t// Hide scrollbars\n\t\t// ===============\n  \n\t\t$(\"body\").addClass(\"fancybox-active\");\n  \n\t\tif (\n\t\t  !$.fancybox.getInstance() &&\n\t\t  firstItemOpts.hideScrollbar !== false &&\n\t\t  !$.fancybox.isMobile &&\n\t\t  document.body.scrollHeight > window.innerHeight\n\t\t) {\n\t\t  $(\"head\").append(\n\t\t\t'<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar{margin-right:' +\n\t\t\t(window.innerWidth - document.documentElement.clientWidth) +\n\t\t\t\"px;}</style>\"\n\t\t  );\n  \n\t\t  $(\"body\").addClass(\"compensate-for-scrollbar\");\n\t\t}\n  \n\t\t// Build html markup and set references\n\t\t// ====================================\n  \n\t\t// Build html code for buttons and insert into main template\n\t\tbuttonStr = \"\";\n  \n\t\t$.each(firstItemOpts.buttons, function (index, value) {\n\t\t  buttonStr += firstItemOpts.btnTpl[value] || \"\";\n\t\t});\n  \n\t\t// Create markup from base template, it will be initially hidden to\n\t\t// avoid unnecessary work like painting while initializing is not complete\n\t\t$container = $(\n\t\t\tself.translate(\n\t\t\t  self,\n\t\t\t  firstItemOpts.baseTpl\n\t\t\t  .replace(\"{{buttons}}\", buttonStr)\n\t\t\t  .replace(\"{{arrows}}\", firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight)\n\t\t\t)\n\t\t  )\n\t\t  .attr(\"id\", \"fancybox-container-\" + self.id)\n\t\t  .addClass(firstItemOpts.baseClass)\n\t\t  .data(\"FancyBox\", self)\n\t\t  .appendTo(firstItemOpts.parentEl);\n  \n\t\t// Create object holding references to jQuery wrapped nodes\n\t\tself.$refs = {\n\t\t  container: $container\n\t\t};\n  \n\t\t[\"bg\", \"inner\", \"infobar\", \"toolbar\", \"stage\", \"caption\", \"navigation\"].forEach(function (item) {\n\t\t  self.$refs[item] = $container.find(\".fancybox-\" + item);\n\t\t});\n  \n\t\tself.trigger(\"onInit\");\n  \n\t\t// Enable events, deactive previous instances\n\t\tself.activate();\n  \n\t\t// Build slides, load and reveal content\n\t\tself.jumpTo(self.currIndex);\n\t  },\n  \n\t  // Simple i18n support - replaces object keys found in template\n\t  // with corresponding values\n\t  // ============================================================\n  \n\t  translate: function (obj, str) {\n\t\tvar arr = obj.opts.i18n[obj.opts.lang] || obj.opts.i18n.en;\n  \n\t\treturn str.replace(/\\{\\{(\\w+)\\}\\}/g, function (match, n) {\n\t\t  return arr[n] === undefined ? match : arr[n];\n\t\t});\n\t  },\n  \n\t  // Populate current group with fresh content\n\t  // Check if each object has valid type and content\n\t  // ===============================================\n  \n\t  addContent: function (content) {\n\t\tvar self = this,\n\t\t  items = $.makeArray(content),\n\t\t  thumbs;\n  \n\t\t$.each(items, function (i, item) {\n\t\t  var obj = {},\n\t\t\topts = {},\n\t\t\t$item,\n\t\t\ttype,\n\t\t\tfound,\n\t\t\tsrc,\n\t\t\tsrcParts;\n  \n\t\t  // Step 1 - Make sure we have an object\n\t\t  // ====================================\n  \n\t\t  if ($.isPlainObject(item)) {\n\t\t\t// We probably have manual usage here, something like\n\t\t\t// $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\n  \n\t\t\tobj = item;\n\t\t\topts = item.opts || item;\n\t\t  } else if ($.type(item) === \"object\" && $(item).length) {\n\t\t\t// Here we probably have jQuery collection returned by some selector\n\t\t\t$item = $(item);\n  \n\t\t\t// Support attributes like `data-options='{\"touch\" : false}'` and `data-touch='false'`\n\t\t\topts = $item.data() || {};\n\t\t\topts = $.extend(true, {}, opts, opts.options);\n  \n\t\t\t// Here we store clicked element\n\t\t\topts.$orig = $item;\n  \n\t\t\tobj.src = self.opts.src || opts.src || $item.attr(\"href\");\n  \n\t\t\t// Assume that simple syntax is used, for example:\n\t\t\t//   `$.fancybox.open( $(\"#test\"), {} );`\n\t\t\tif (!obj.type && !obj.src) {\n\t\t\t  obj.type = \"inline\";\n\t\t\t  obj.src = item;\n\t\t\t}\n\t\t  } else {\n\t\t\t// Assume we have a simple html code, for example:\n\t\t\t//   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\n\t\t\tobj = {\n\t\t\t  type: \"html\",\n\t\t\t  src: item + \"\"\n\t\t\t};\n\t\t  }\n  \n\t\t  // Each gallery object has full collection of options\n\t\t  obj.opts = $.extend(true, {}, self.opts, opts);\n  \n\t\t  // Do not merge buttons array\n\t\t  if ($.isArray(opts.buttons)) {\n\t\t\tobj.opts.buttons = opts.buttons;\n\t\t  }\n  \n\t\t  if ($.fancybox.isMobile && obj.opts.mobile) {\n\t\t\tobj.opts = mergeOpts(obj.opts, obj.opts.mobile);\n\t\t  }\n  \n\t\t  // Step 2 - Make sure we have content type, if not - try to guess\n\t\t  // ==============================================================\n  \n\t\t  type = obj.type || obj.opts.type;\n\t\t  src = obj.src || \"\";\n  \n\t\t  if (!type && src) {\n\t\t\tif ((found = src.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))) {\n\t\t\t  type = \"video\";\n  \n\t\t\t  if (!obj.opts.video.format) {\n\t\t\t\tobj.opts.video.format = \"video/\" + (found[1] === \"ogv\" ? \"ogg\" : found[1]);\n\t\t\t  }\n\t\t\t} else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\n\t\t\t  type = \"image\";\n\t\t\t} else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\n\t\t\t  type = \"iframe\";\n\t\t\t  obj = $.extend(true, obj, {\n\t\t\t\tcontentType: \"pdf\",\n\t\t\t\topts: {\n\t\t\t\t  iframe: {\n\t\t\t\t\tpreload: false\n\t\t\t\t  }\n\t\t\t\t}\n\t\t\t  });\n\t\t\t} else if (src.charAt(0) === \"#\") {\n\t\t\t  type = \"inline\";\n\t\t\t}\n\t\t  }\n  \n\t\t  if (type) {\n\t\t\tobj.type = type;\n\t\t  } else {\n\t\t\tself.trigger(\"objectNeedsType\", obj);\n\t\t  }\n  \n\t\t  if (!obj.contentType) {\n\t\t\tobj.contentType = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1 ? \"html\" : obj.type;\n\t\t  }\n  \n\t\t  // Step 3 - Some adjustments\n\t\t  // =========================\n  \n\t\t  obj.index = self.group.length;\n  \n\t\t  if (obj.opts.smallBtn == \"auto\") {\n\t\t\tobj.opts.smallBtn = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1;\n\t\t  }\n  \n\t\t  if (obj.opts.toolbar === \"auto\") {\n\t\t\tobj.opts.toolbar = !obj.opts.smallBtn;\n\t\t  }\n  \n\t\t  // Find thumbnail image, check if exists and if is in the viewport\n\t\t  obj.$thumb = obj.opts.$thumb || null;\n  \n\t\t  if (obj.opts.$trigger && obj.index === self.opts.index) {\n\t\t\tobj.$thumb = obj.opts.$trigger.find(\"img:first\");\n  \n\t\t\tif (obj.$thumb.length) {\n\t\t\t  obj.opts.$orig = obj.opts.$trigger;\n\t\t\t}\n\t\t  }\n  \n\t\t  if (!(obj.$thumb && obj.$thumb.length) && obj.opts.$orig) {\n\t\t\tobj.$thumb = obj.opts.$orig.find(\"img:first\");\n\t\t  }\n  \n\t\t  if (obj.$thumb && !obj.$thumb.length) {\n\t\t\tobj.$thumb = null;\n\t\t  }\n  \n\t\t  obj.thumb = obj.opts.thumb || (obj.$thumb ? obj.$thumb[0].src : null);\n  \n\t\t  // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item\n\t\t  if ($.type(obj.opts.caption) === \"function\") {\n\t\t\tobj.opts.caption = obj.opts.caption.apply(item, [self, obj]);\n\t\t  }\n  \n\t\t  if ($.type(self.opts.caption) === \"function\") {\n\t\t\tobj.opts.caption = self.opts.caption.apply(item, [self, obj]);\n\t\t  }\n  \n\t\t  // Make sure we have caption as a string or jQuery object\n\t\t  if (!(obj.opts.caption instanceof $)) {\n\t\t\tobj.opts.caption = obj.opts.caption === undefined ? \"\" : obj.opts.caption + \"\";\n\t\t  }\n  \n\t\t  // Check if url contains \"filter\" used to filter the content\n\t\t  // Example: \"ajax.html #something\"\n\t\t  if (obj.type === \"ajax\") {\n\t\t\tsrcParts = src.split(/\\s+/, 2);\n  \n\t\t\tif (srcParts.length > 1) {\n\t\t\t  obj.src = srcParts.shift();\n  \n\t\t\t  obj.opts.filter = srcParts.shift();\n\t\t\t}\n\t\t  }\n  \n\t\t  // Hide all buttons and disable interactivity for modal items\n\t\t  if (obj.opts.modal) {\n\t\t\tobj.opts = $.extend(true, obj.opts, {\n\t\t\t  trapFocus: true,\n\t\t\t  // Remove buttons\n\t\t\t  infobar: 0,\n\t\t\t  toolbar: 0,\n  \n\t\t\t  smallBtn: 0,\n  \n\t\t\t  // Disable keyboard navigation\n\t\t\t  keyboard: 0,\n  \n\t\t\t  // Disable some modules\n\t\t\t  slideShow: 0,\n\t\t\t  fullScreen: 0,\n\t\t\t  thumbs: 0,\n\t\t\t  touch: 0,\n  \n\t\t\t  // Disable click event handlers\n\t\t\t  clickContent: false,\n\t\t\t  clickSlide: false,\n\t\t\t  clickOutside: false,\n\t\t\t  dblclickContent: false,\n\t\t\t  dblclickSlide: false,\n\t\t\t  dblclickOutside: false\n\t\t\t});\n\t\t  }\n  \n\t\t  // Step 4 - Add processed object to group\n\t\t  // ======================================\n  \n\t\t  self.group.push(obj);\n\t\t});\n  \n\t\t// Update controls if gallery is already opened\n\t\tif (Object.keys(self.slides).length) {\n\t\t  self.updateControls();\n  \n\t\t  // Update thumbnails, if needed\n\t\t  thumbs = self.Thumbs;\n  \n\t\t  if (thumbs && thumbs.isActive) {\n\t\t\tthumbs.create();\n  \n\t\t\tthumbs.focus();\n\t\t  }\n\t\t}\n\t  },\n  \n\t  // Attach an event handler functions for:\n\t  //   - navigation buttons\n\t  //   - browser scrolling, resizing;\n\t  //   - focusing\n\t  //   - keyboard\n\t  //   - detecting inactivity\n\t  // ======================================\n  \n\t  addEvents: function () {\n\t\tvar self = this;\n  \n\t\tself.removeEvents();\n  \n\t\t// Make navigation elements clickable\n\t\t// ==================================\n  \n\t\tself.$refs.container\n\t\t  .on(\"click.fb-close\", \"[data-fancybox-close]\", function (e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n  \n\t\t\tself.close(e);\n\t\t  })\n\t\t  .on(\"touchstart.fb-prev click.fb-prev\", \"[data-fancybox-prev]\", function (e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n  \n\t\t\tself.previous();\n\t\t  })\n\t\t  .on(\"touchstart.fb-next click.fb-next\", \"[data-fancybox-next]\", function (e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n  \n\t\t\tself.next();\n\t\t  })\n\t\t  .on(\"click.fb\", \"[data-fancybox-zoom]\", function (e) {\n\t\t\t// Click handler for zoom button\n\t\t\tself[self.isScaledDown() ? \"scaleToActual\" : \"scaleToFit\"]();\n\t\t  });\n  \n\t\t// Handle page scrolling and browser resizing\n\t\t// ==========================================\n  \n\t\t$W.on(\"orientationchange.fb resize.fb\", function (e) {\n\t\t  if (e && e.originalEvent && e.originalEvent.type === \"resize\") {\n\t\t\tif (self.requestId) {\n\t\t\t  cancelAFrame(self.requestId);\n\t\t\t}\n  \n\t\t\tself.requestId = requestAFrame(function () {\n\t\t\t  self.update(e);\n\t\t\t});\n\t\t  } else {\n\t\t\tif (self.current && self.current.type === \"iframe\") {\n\t\t\t  self.$refs.stage.hide();\n\t\t\t}\n  \n\t\t\tsetTimeout(\n\t\t\t  function () {\n\t\t\t\tself.$refs.stage.show();\n  \n\t\t\t\tself.update(e);\n\t\t\t  },\n\t\t\t  $.fancybox.isMobile ? 600 : 250\n\t\t\t);\n\t\t  }\n\t\t});\n  \n\t\t$D.on(\"keydown.fb\", function (e) {\n\t\t  var instance = $.fancybox ? $.fancybox.getInstance() : null,\n\t\t\tcurrent = instance.current,\n\t\t\tkeycode = e.keyCode || e.which;\n  \n\t\t  // Trap keyboard focus inside of the modal\n\t\t  // =======================================\n  \n\t\t  if (keycode == 9) {\n\t\t\tif (current.opts.trapFocus) {\n\t\t\t  self.focus(e);\n\t\t\t}\n  \n\t\t\treturn;\n\t\t  }\n  \n\t\t  // Enable keyboard navigation\n\t\t  // ==========================\n  \n\t\t  if (!current.opts.keyboard || e.ctrlKey || e.altKey || e.shiftKey || $(e.target).is(\"input,textarea,video,audio,select\")) {\n\t\t\treturn;\n\t\t  }\n  \n\t\t  // Backspace and Esc keys\n\t\t  if (keycode === 8 || keycode === 27) {\n\t\t\te.preventDefault();\n  \n\t\t\tself.close(e);\n  \n\t\t\treturn;\n\t\t  }\n  \n\t\t  // Left arrow and Up arrow\n\t\t  if (keycode === 37 || keycode === 38) {\n\t\t\te.preventDefault();\n  \n\t\t\tself.previous();\n  \n\t\t\treturn;\n\t\t  }\n  \n\t\t  // Righ arrow and Down arrow\n\t\t  if (keycode === 39 || keycode === 40) {\n\t\t\te.preventDefault();\n  \n\t\t\tself.next();\n  \n\t\t\treturn;\n\t\t  }\n  \n\t\t  self.trigger(\"afterKeydown\", e, keycode);\n\t\t});\n  \n\t\t// Hide controls after some inactivity period\n\t\tif (self.group[self.currIndex].opts.idleTime) {\n\t\t  self.idleSecondsCounter = 0;\n  \n\t\t  $D.on(\n\t\t\t\"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",\n\t\t\tfunction (e) {\n\t\t\t  self.idleSecondsCounter = 0;\n  \n\t\t\t  if (self.isIdle) {\n\t\t\t\tself.showControls();\n\t\t\t  }\n  \n\t\t\t  self.isIdle = false;\n\t\t\t}\n\t\t  );\n  \n\t\t  self.idleInterval = window.setInterval(function () {\n\t\t\tself.idleSecondsCounter++;\n  \n\t\t\tif (self.idleSecondsCounter >= self.group[self.currIndex].opts.idleTime && !self.isDragging) {\n\t\t\t  self.isIdle = true;\n\t\t\t  self.idleSecondsCounter = 0;\n  \n\t\t\t  self.hideControls();\n\t\t\t}\n\t\t  }, 1000);\n\t\t}\n\t  },\n  \n\t  // Remove events added by the core\n\t  // ===============================\n  \n\t  removeEvents: function () {\n\t\tvar self = this;\n  \n\t\t$W.off(\"orientationchange.fb resize.fb\");\n\t\t$D.off(\"keydown.fb .fb-idle\");\n  \n\t\tthis.$refs.container.off(\".fb-close .fb-prev .fb-next\");\n  \n\t\tif (self.idleInterval) {\n\t\t  window.clearInterval(self.idleInterval);\n  \n\t\t  self.idleInterval = null;\n\t\t}\n\t  },\n  \n\t  // Change to previous gallery item\n\t  // ===============================\n  \n\t  previous: function (duration) {\n\t\treturn this.jumpTo(this.currPos - 1, duration);\n\t  },\n  \n\t  // Change to next gallery item\n\t  // ===========================\n  \n\t  next: function (duration) {\n\t\treturn this.jumpTo(this.currPos + 1, duration);\n\t  },\n  \n\t  // Switch to selected gallery item\n\t  // ===============================\n  \n\t  jumpTo: function (pos, duration) {\n\t\tvar self = this,\n\t\t  groupLen = self.group.length,\n\t\t  firstRun,\n\t\t  isMoved,\n\t\t  loop,\n\t\t  current,\n\t\t  previous,\n\t\t  slidePos,\n\t\t  stagePos,\n\t\t  prop,\n\t\t  diff;\n  \n\t\tif (self.isDragging || self.isClosing || (self.isAnimating && self.firstRun)) {\n\t\t  return;\n\t\t}\n  \n\t\t// Should loop?\n\t\tpos = parseInt(pos, 10);\n\t\tloop = self.current ? self.current.opts.loop : self.opts.loop;\n  \n\t\tif (!loop && (pos < 0 || pos >= groupLen)) {\n\t\t  return false;\n\t\t}\n  \n\t\t// Check if opening for the first time; this helps to speed things up\n\t\tfirstRun = self.firstRun = !Object.keys(self.slides).length;\n  \n\t\t// Create slides\n\t\tprevious = self.current;\n  \n\t\tself.prevIndex = self.currIndex;\n\t\tself.prevPos = self.currPos;\n  \n\t\tcurrent = self.createSlide(pos);\n  \n\t\tif (groupLen > 1) {\n\t\t  if (loop || current.index < groupLen - 1) {\n\t\t\tself.createSlide(pos + 1);\n\t\t  }\n  \n\t\t  if (loop || current.index > 0) {\n\t\t\tself.createSlide(pos - 1);\n\t\t  }\n\t\t}\n  \n\t\tself.current = current;\n\t\tself.currIndex = current.index;\n\t\tself.currPos = current.pos;\n  \n\t\tself.trigger(\"beforeShow\", firstRun);\n  \n\t\tself.updateControls();\n  \n\t\t// Validate duration length\n\t\tcurrent.forcedDuration = undefined;\n  \n\t\tif ($.isNumeric(duration)) {\n\t\t  current.forcedDuration = duration;\n\t\t} else {\n\t\t  duration = current.opts[firstRun ? \"animationDuration\" : \"transitionDuration\"];\n\t\t}\n  \n\t\tduration = parseInt(duration, 10);\n  \n\t\t// Check if user has swiped the slides or if still animating\n\t\tisMoved = self.isMoved(current);\n  \n\t\t// Make sure current slide is visible\n\t\tcurrent.$slide.addClass(\"fancybox-slide--current\");\n  \n\t\t// Fresh start - reveal container, current slide and start loading content\n\t\tif (firstRun) {\n\t\t  if (current.opts.animationEffect && duration) {\n\t\t\tself.$refs.container.css(\"transition-duration\", duration + \"ms\");\n\t\t  }\n  \n\t\t  self.$refs.container.addClass(\"fancybox-is-open\").trigger(\"focus\");\n  \n\t\t  // Attempt to load content into slide\n\t\t  // This will later call `afterLoad` -> `revealContent`\n\t\t  self.loadSlide(current);\n  \n\t\t  self.preload(\"image\");\n  \n\t\t  return;\n\t\t}\n  \n\t\t// Get actual slide/stage positions (before cleaning up)\n\t\tslidePos = $.fancybox.getTranslate(previous.$slide);\n\t\tstagePos = $.fancybox.getTranslate(self.$refs.stage);\n  \n\t\t// Clean up all slides\n\t\t$.each(self.slides, function (index, slide) {\n\t\t  $.fancybox.stop(slide.$slide, true);\n\t\t});\n  \n\t\tif (previous.pos !== current.pos) {\n\t\t  previous.isComplete = false;\n\t\t}\n  \n\t\tprevious.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current\");\n  \n\t\t// If slides are out of place, then animate them to correct position\n\t\tif (isMoved) {\n\t\t  // Calculate horizontal swipe distance\n\t\t  diff = slidePos.left - (previous.pos * slidePos.width + previous.pos * previous.opts.gutter);\n  \n\t\t  $.each(self.slides, function (index, slide) {\n\t\t\tslide.$slide.removeClass(\"fancybox-animated\").removeClass(function (index, className) {\n\t\t\t  return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\n\t\t\t});\n  \n\t\t\t// Make sure that each slide is in equal distance\n\t\t\t// This is mostly needed for freshly added slides, because they are not yet positioned\n\t\t\tvar leftPos = slide.pos * slidePos.width + slide.pos * slide.opts.gutter;\n  \n\t\t\t$.fancybox.setTranslate(slide.$slide, {\n\t\t\t  top: 0,\n\t\t\t  left: leftPos - stagePos.left + diff\n\t\t\t});\n  \n\t\t\tif (slide.pos !== current.pos) {\n\t\t\t  slide.$slide.addClass(\"fancybox-slide--\" + (slide.pos > current.pos ? \"next\" : \"previous\"));\n\t\t\t}\n  \n\t\t\t// Redraw to make sure that transition will start\n\t\t\tforceRedraw(slide.$slide);\n  \n\t\t\t// Animate the slide\n\t\t\t$.fancybox.animate(\n\t\t\t  slide.$slide, {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: (slide.pos - current.pos) * slidePos.width + (slide.pos - current.pos) * slide.opts.gutter\n\t\t\t  },\n\t\t\t  duration,\n\t\t\t  function () {\n\t\t\t\tslide.$slide\n\t\t\t\t  .css({\n\t\t\t\t\ttransform: \"\",\n\t\t\t\t\topacity: \"\"\n\t\t\t\t  })\n\t\t\t\t  .removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n  \n\t\t\t\tif (slide.pos === self.currPos) {\n\t\t\t\t  self.complete();\n\t\t\t\t}\n\t\t\t  }\n\t\t\t);\n\t\t  });\n\t\t} else if (duration && current.opts.transitionEffect) {\n\t\t  // Set transition effect for previously active slide\n\t\t  prop = \"fancybox-animated fancybox-fx-\" + current.opts.transitionEffect;\n  \n\t\t  previous.$slide.addClass(\"fancybox-slide--\" + (previous.pos > current.pos ? \"next\" : \"previous\"));\n  \n\t\t  $.fancybox.animate(\n\t\t\tprevious.$slide,\n\t\t\tprop,\n\t\t\tduration,\n\t\t\tfunction () {\n\t\t\t  previous.$slide.removeClass(prop).removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n\t\t\t},\n\t\t\tfalse\n\t\t  );\n\t\t}\n  \n\t\tif (current.isLoaded) {\n\t\t  self.revealContent(current);\n\t\t} else {\n\t\t  self.loadSlide(current);\n\t\t}\n  \n\t\tself.preload(\"image\");\n\t  },\n  \n\t  // Create new \"slide\" element\n\t  // These are gallery items  that are actually added to DOM\n\t  // =======================================================\n  \n\t  createSlide: function (pos) {\n\t\tvar self = this,\n\t\t  $slide,\n\t\t  index;\n  \n\t\tindex = pos % self.group.length;\n\t\tindex = index < 0 ? self.group.length + index : index;\n  \n\t\tif (!self.slides[pos] && self.group[index]) {\n\t\t  $slide = $('<div class=\"fancybox-slide\"></div>').appendTo(self.$refs.stage);\n  \n\t\t  self.slides[pos] = $.extend(true, {}, self.group[index], {\n\t\t\tpos: pos,\n\t\t\t$slide: $slide,\n\t\t\tisLoaded: false\n\t\t  });\n  \n\t\t  self.updateSlide(self.slides[pos]);\n\t\t}\n  \n\t\treturn self.slides[pos];\n\t  },\n  \n\t  // Scale image to the actual size of the image;\n\t  // x and y values should be relative to the slide\n\t  // ==============================================\n  \n\t  scaleToActual: function (x, y, duration) {\n\t\tvar self = this,\n\t\t  current = self.current,\n\t\t  $content = current.$content,\n\t\t  canvasWidth = $.fancybox.getTranslate(current.$slide).width,\n\t\t  canvasHeight = $.fancybox.getTranslate(current.$slide).height,\n\t\t  newImgWidth = current.width,\n\t\t  newImgHeight = current.height,\n\t\t  imgPos,\n\t\t  posX,\n\t\t  posY,\n\t\t  scaleX,\n\t\t  scaleY;\n  \n\t\tif (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n\t\t  return;\n\t\t}\n  \n\t\tself.isAnimating = true;\n  \n\t\t$.fancybox.stop($content);\n  \n\t\tx = x === undefined ? canvasWidth * 0.5 : x;\n\t\ty = y === undefined ? canvasHeight * 0.5 : y;\n  \n\t\timgPos = $.fancybox.getTranslate($content);\n  \n\t\timgPos.top -= $.fancybox.getTranslate(current.$slide).top;\n\t\timgPos.left -= $.fancybox.getTranslate(current.$slide).left;\n  \n\t\tscaleX = newImgWidth / imgPos.width;\n\t\tscaleY = newImgHeight / imgPos.height;\n  \n\t\t// Get center position for original image\n\t\tposX = canvasWidth * 0.5 - newImgWidth * 0.5;\n\t\tposY = canvasHeight * 0.5 - newImgHeight * 0.5;\n  \n\t\t// Make sure image does not move away from edges\n\t\tif (newImgWidth > canvasWidth) {\n\t\t  posX = imgPos.left * scaleX - (x * scaleX - x);\n  \n\t\t  if (posX > 0) {\n\t\t\tposX = 0;\n\t\t  }\n  \n\t\t  if (posX < canvasWidth - newImgWidth) {\n\t\t\tposX = canvasWidth - newImgWidth;\n\t\t  }\n\t\t}\n  \n\t\tif (newImgHeight > canvasHeight) {\n\t\t  posY = imgPos.top * scaleY - (y * scaleY - y);\n  \n\t\t  if (posY > 0) {\n\t\t\tposY = 0;\n\t\t  }\n  \n\t\t  if (posY < canvasHeight - newImgHeight) {\n\t\t\tposY = canvasHeight - newImgHeight;\n\t\t  }\n\t\t}\n  \n\t\tself.updateCursor(newImgWidth, newImgHeight);\n  \n\t\t$.fancybox.animate(\n\t\t  $content, {\n\t\t\ttop: posY,\n\t\t\tleft: posX,\n\t\t\tscaleX: scaleX,\n\t\t\tscaleY: scaleY\n\t\t  },\n\t\t  duration || 366,\n\t\t  function () {\n\t\t\tself.isAnimating = false;\n\t\t  }\n\t\t);\n  \n\t\t// Stop slideshow\n\t\tif (self.SlideShow && self.SlideShow.isActive) {\n\t\t  self.SlideShow.stop();\n\t\t}\n\t  },\n  \n\t  // Scale image to fit inside parent element\n\t  // ========================================\n  \n\t  scaleToFit: function (duration) {\n\t\tvar self = this,\n\t\t  current = self.current,\n\t\t  $content = current.$content,\n\t\t  end;\n  \n\t\tif (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n\t\t  return;\n\t\t}\n  \n\t\tself.isAnimating = true;\n  \n\t\t$.fancybox.stop($content);\n  \n\t\tend = self.getFitPos(current);\n  \n\t\tself.updateCursor(end.width, end.height);\n  \n\t\t$.fancybox.animate(\n\t\t  $content, {\n\t\t\ttop: end.top,\n\t\t\tleft: end.left,\n\t\t\tscaleX: end.width / $content.width(),\n\t\t\tscaleY: end.height / $content.height()\n\t\t  },\n\t\t  duration || 366,\n\t\t  function () {\n\t\t\tself.isAnimating = false;\n\t\t  }\n\t\t);\n\t  },\n  \n\t  // Calculate image size to fit inside viewport\n\t  // ===========================================\n  \n\t  getFitPos: function (slide) {\n\t\tvar self = this,\n\t\t  $content = slide.$content,\n\t\t  $slide = slide.$slide,\n\t\t  width = slide.width || slide.opts.width,\n\t\t  height = slide.height || slide.opts.height,\n\t\t  maxWidth,\n\t\t  maxHeight,\n\t\t  minRatio,\n\t\t  aspectRatio,\n\t\t  rez = {};\n  \n\t\tif (!slide.isLoaded || !$content || !$content.length) {\n\t\t  return false;\n\t\t}\n  \n\t\tmaxWidth = $.fancybox.getTranslate(self.$refs.stage).width;\n\t\tmaxHeight = $.fancybox.getTranslate(self.$refs.stage).height;\n  \n\t\tmaxWidth -=\n\t\t  parseFloat($slide.css(\"paddingLeft\")) +\n\t\t  parseFloat($slide.css(\"paddingRight\")) +\n\t\t  parseFloat($content.css(\"marginLeft\")) +\n\t\t  parseFloat($content.css(\"marginRight\"));\n  \n\t\tmaxHeight -=\n\t\t  parseFloat($slide.css(\"paddingTop\")) +\n\t\t  parseFloat($slide.css(\"paddingBottom\")) +\n\t\t  parseFloat($content.css(\"marginTop\")) +\n\t\t  parseFloat($content.css(\"marginBottom\"));\n  \n\t\tif (!width || !height) {\n\t\t  width = maxWidth;\n\t\t  height = maxHeight;\n\t\t}\n  \n\t\tminRatio = Math.min(1, maxWidth / width, maxHeight / height);\n  \n\t\twidth = minRatio * width;\n\t\theight = minRatio * height;\n  \n\t\t// Adjust width/height to precisely fit into container\n\t\tif (width > maxWidth - 0.5) {\n\t\t  width = maxWidth;\n\t\t}\n  \n\t\tif (height > maxHeight - 0.5) {\n\t\t  height = maxHeight;\n\t\t}\n  \n\t\tif (slide.type === \"image\") {\n\t\t  rez.top = Math.floor((maxHeight - height) * 0.5) + parseFloat($slide.css(\"paddingTop\"));\n\t\t  rez.left = Math.floor((maxWidth - width) * 0.5) + parseFloat($slide.css(\"paddingLeft\"));\n\t\t} else if (slide.contentType === \"video\") {\n\t\t  // Force aspect ratio for the video\n\t\t  // \"I say the whole world must learn of our peaceful ways by force!\"\n\t\t  aspectRatio = slide.opts.width && slide.opts.height ? width / height : slide.opts.ratio || 16 / 9;\n  \n\t\t  if (height > width / aspectRatio) {\n\t\t\theight = width / aspectRatio;\n\t\t  } else if (width > height * aspectRatio) {\n\t\t\twidth = height * aspectRatio;\n\t\t  }\n\t\t}\n  \n\t\trez.width = width;\n\t\trez.height = height;\n  \n\t\treturn rez;\n\t  },\n  \n\t  // Update content size and position for all slides\n\t  // ==============================================\n  \n\t  update: function (e) {\n\t\tvar self = this;\n  \n\t\t$.each(self.slides, function (key, slide) {\n\t\t  self.updateSlide(slide, e);\n\t\t});\n\t  },\n  \n\t  // Update slide content position and size\n\t  // ======================================\n  \n\t  updateSlide: function (slide, e) {\n\t\tvar self = this,\n\t\t  $content = slide && slide.$content,\n\t\t  width = slide.width || slide.opts.width,\n\t\t  height = slide.height || slide.opts.height,\n\t\t  $slide = slide.$slide;\n  \n\t\t// First, prevent caption overlap, if needed\n\t\tself.adjustCaption(slide);\n  \n\t\t// Then resize content to fit inside the slide\n\t\tif ($content && (width || height || slide.contentType === \"video\") && !slide.hasError) {\n\t\t  $.fancybox.stop($content);\n  \n\t\t  $.fancybox.setTranslate($content, self.getFitPos(slide));\n  \n\t\t  if (slide.pos === self.currPos) {\n\t\t\tself.isAnimating = false;\n  \n\t\t\tself.updateCursor();\n\t\t  }\n\t\t}\n  \n\t\t// Then some adjustments\n\t\tself.adjustLayout(slide);\n  \n\t\tif ($slide.length) {\n\t\t  $slide.trigger(\"refresh\");\n  \n\t\t  if (slide.pos === self.currPos) {\n\t\t\tself.$refs.toolbar\n\t\t\t  .add(self.$refs.navigation.find(\".fancybox-button--arrow_right\"))\n\t\t\t  .toggleClass(\"compensate-for-scrollbar\", $slide.get(0).scrollHeight > $slide.get(0).clientHeight);\n\t\t  }\n\t\t}\n  \n\t\tself.trigger(\"onUpdate\", slide, e);\n\t  },\n  \n\t  // Horizontally center slide\n\t  // =========================\n  \n\t  centerSlide: function (duration) {\n\t\tvar self = this,\n\t\t  current = self.current,\n\t\t  $slide = current.$slide;\n  \n\t\tif (self.isClosing || !current) {\n\t\t  return;\n\t\t}\n  \n\t\t$slide.siblings().css({\n\t\t  transform: \"\",\n\t\t  opacity: \"\"\n\t\t});\n  \n\t\t$slide\n\t\t  .parent()\n\t\t  .children()\n\t\t  .removeClass(\"fancybox-slide--previous fancybox-slide--next\");\n  \n\t\t$.fancybox.animate(\n\t\t  $slide, {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\topacity: 1\n\t\t  },\n\t\t  duration === undefined ? 0 : duration,\n\t\t  function () {\n\t\t\t// Clean up\n\t\t\t$slide.css({\n\t\t\t  transform: \"\",\n\t\t\t  opacity: \"\"\n\t\t\t});\n  \n\t\t\tif (!current.isComplete) {\n\t\t\t  self.complete();\n\t\t\t}\n\t\t  },\n\t\t  false\n\t\t);\n\t  },\n  \n\t  // Check if current slide is moved (swiped)\n\t  // ========================================\n  \n\t  isMoved: function (slide) {\n\t\tvar current = slide || this.current,\n\t\t  slidePos,\n\t\t  stagePos;\n  \n\t\tif (!current) {\n\t\t  return false;\n\t\t}\n  \n\t\tstagePos = $.fancybox.getTranslate(this.$refs.stage);\n\t\tslidePos = $.fancybox.getTranslate(current.$slide);\n  \n\t\treturn (\n\t\t  !current.$slide.hasClass(\"fancybox-animated\") &&\n\t\t  (Math.abs(slidePos.top - stagePos.top) > 0.5 || Math.abs(slidePos.left - stagePos.left) > 0.5)\n\t\t);\n\t  },\n  \n\t  // Update cursor style depending if content can be zoomed\n\t  // ======================================================\n  \n\t  updateCursor: function (nextWidth, nextHeight) {\n\t\tvar self = this,\n\t\t  current = self.current,\n\t\t  $container = self.$refs.container,\n\t\t  canPan,\n\t\t  isZoomable;\n  \n\t\tif (!current || self.isClosing || !self.Guestures) {\n\t\t  return;\n\t\t}\n  \n\t\t$container.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan\");\n  \n\t\tcanPan = self.canPan(nextWidth, nextHeight);\n  \n\t\tisZoomable = canPan ? true : self.isZoomable();\n  \n\t\t$container.toggleClass(\"fancybox-is-zoomable\", isZoomable);\n  \n\t\t$(\"[data-fancybox-zoom]\").prop(\"disabled\", !isZoomable);\n  \n\t\tif (canPan) {\n\t\t  $container.addClass(\"fancybox-can-pan\");\n\t\t} else if (\n\t\t  isZoomable &&\n\t\t  (current.opts.clickContent === \"zoom\" || ($.isFunction(current.opts.clickContent) && current.opts.clickContent(current) == \"zoom\"))\n\t\t) {\n\t\t  $container.addClass(\"fancybox-can-zoomIn\");\n\t\t} else if (current.opts.touch && (current.opts.touch.vertical || self.group.length > 1) && current.contentType !== \"video\") {\n\t\t  $container.addClass(\"fancybox-can-swipe\");\n\t\t}\n\t  },\n  \n\t  // Check if current slide is zoomable\n\t  // ==================================\n  \n\t  isZoomable: function () {\n\t\tvar self = this,\n\t\t  current = self.current,\n\t\t  fitPos;\n  \n\t\t// Assume that slide is zoomable if:\n\t\t//   - image is still loading\n\t\t//   - actual size of the image is smaller than available area\n\t\tif (current && !self.isClosing && current.type === \"image\" && !current.hasError) {\n\t\t  if (!current.isLoaded) {\n\t\t\treturn true;\n\t\t  }\n  \n\t\t  fitPos = self.getFitPos(current);\n  \n\t\t  if (fitPos && (current.width > fitPos.width || current.height > fitPos.height)) {\n\t\t\treturn true;\n\t\t  }\n\t\t}\n  \n\t\treturn false;\n\t  },\n  \n\t  // Check if current image dimensions are smaller than actual\n\t  // =========================================================\n  \n\t  isScaledDown: function (nextWidth, nextHeight) {\n\t\tvar self = this,\n\t\t  rez = false,\n\t\t  current = self.current,\n\t\t  $content = current.$content;\n  \n\t\tif (nextWidth !== undefined && nextHeight !== undefined) {\n\t\t  rez = nextWidth < current.width && nextHeight < current.height;\n\t\t} else if ($content) {\n\t\t  rez = $.fancybox.getTranslate($content);\n\t\t  rez = rez.width < current.width && rez.height < current.height;\n\t\t}\n  \n\t\treturn rez;\n\t  },\n  \n\t  // Check if image dimensions exceed parent element\n\t  // ===============================================\n  \n\t  canPan: function (nextWidth, nextHeight) {\n\t\tvar self = this,\n\t\t  current = self.current,\n\t\t  pos = null,\n\t\t  rez = false;\n  \n\t\tif (current.type === \"image\" && (current.isComplete || (nextWidth && nextHeight)) && !current.hasError) {\n\t\t  rez = self.getFitPos(current);\n  \n\t\t  if (nextWidth !== undefined && nextHeight !== undefined) {\n\t\t\tpos = {\n\t\t\t  width: nextWidth,\n\t\t\t  height: nextHeight\n\t\t\t};\n\t\t  } else if (current.isComplete) {\n\t\t\tpos = $.fancybox.getTranslate(current.$content);\n\t\t  }\n  \n\t\t  if (pos && rez) {\n\t\t\trez = Math.abs(pos.width - rez.width) > 1.5 || Math.abs(pos.height - rez.height) > 1.5;\n\t\t  }\n\t\t}\n  \n\t\treturn rez;\n\t  },\n  \n\t  // Load content into the slide\n\t  // ===========================\n  \n\t  loadSlide: function (slide) {\n\t\tvar self = this,\n\t\t  type,\n\t\t  $slide,\n\t\t  ajaxLoad;\n  \n\t\tif (slide.isLoading || slide.isLoaded) {\n\t\t  return;\n\t\t}\n  \n\t\tslide.isLoading = true;\n  \n\t\tif (self.trigger(\"beforeLoad\", slide) === false) {\n\t\t  slide.isLoading = false;\n  \n\t\t  return false;\n\t\t}\n  \n\t\ttype = slide.type;\n\t\t$slide = slide.$slide;\n  \n\t\t$slide\n\t\t  .off(\"refresh\")\n\t\t  .trigger(\"onReset\")\n\t\t  .addClass(slide.opts.slideClass);\n  \n\t\t// Create content depending on the type\n\t\tswitch (type) {\n\t\t  case \"image\":\n\t\t\tself.setImage(slide);\n  \n\t\t\tbreak;\n  \n\t\t  case \"iframe\":\n\t\t\tself.setIframe(slide);\n  \n\t\t\tbreak;\n  \n\t\t  case \"html\":\n\t\t\tself.setContent(slide, slide.src || slide.content);\n  \n\t\t\tbreak;\n  \n\t\t  case \"video\":\n\t\t\tself.setContent(\n\t\t\t  slide,\n\t\t\t  slide.opts.video.tpl\n\t\t\t  .replace(/\\{\\{src\\}\\}/gi, slide.src)\n\t\t\t  .replace(\"{{format}}\", slide.opts.videoFormat || slide.opts.video.format || \"\")\n\t\t\t  .replace(\"{{poster}}\", slide.thumb || \"\")\n\t\t\t);\n  \n\t\t\tbreak;\n  \n\t\t  case \"inline\":\n\t\t\tif ($(slide.src).length) {\n\t\t\t  self.setContent(slide, $(slide.src));\n\t\t\t} else {\n\t\t\t  self.setError(slide);\n\t\t\t}\n  \n\t\t\tbreak;\n  \n\t\t  case \"ajax\":\n\t\t\tself.showLoading(slide);\n  \n\t\t\tajaxLoad = $.ajax(\n\t\t\t  $.extend({}, slide.opts.ajax.settings, {\n\t\t\t\turl: slide.src,\n\t\t\t\tsuccess: function (data, textStatus) {\n\t\t\t\t  if (textStatus === \"success\") {\n\t\t\t\t\tself.setContent(slide, data);\n\t\t\t\t  }\n\t\t\t\t},\n\t\t\t\terror: function (jqXHR, textStatus) {\n\t\t\t\t  if (jqXHR && textStatus !== \"abort\") {\n\t\t\t\t\tself.setError(slide);\n\t\t\t\t  }\n\t\t\t\t}\n\t\t\t  })\n\t\t\t);\n  \n\t\t\t$slide.one(\"onReset\", function () {\n\t\t\t  ajaxLoad.abort();\n\t\t\t});\n  \n\t\t\tbreak;\n  \n\t\t  default:\n\t\t\tself.setError(slide);\n  \n\t\t\tbreak;\n\t\t}\n  \n\t\treturn true;\n\t  },\n  \n\t  // Use thumbnail image, if possible\n\t  // ================================\n  \n\t  setImage: function (slide) {\n\t\tvar self = this,\n\t\t  ghost;\n  \n\t\t// Check if need to show loading icon\n\t\tsetTimeout(function () {\n\t\t  var $img = slide.$image;\n  \n\t\t  if (!self.isClosing && slide.isLoading && (!$img || !$img.length || !$img[0].complete) && !slide.hasError) {\n\t\t\tself.showLoading(slide);\n\t\t  }\n\t\t}, 50);\n  \n\t\t//Check if image has srcset\n\t\tself.checkSrcset(slide);\n  \n\t\t// This will be wrapper containing both ghost and actual image\n\t\tslide.$content = $('<div class=\"fancybox-content\"></div>')\n\t\t  .addClass(\"fancybox-is-hidden\")\n\t\t  .appendTo(slide.$slide.addClass(\"fancybox-slide--image\"));\n  \n\t\t// If we have a thumbnail, we can display it while actual image is loading\n\t\t// Users will not stare at black screen and actual image will appear gradually\n\t\tif (slide.opts.preload !== false && slide.opts.width && slide.opts.height && slide.thumb) {\n\t\t  slide.width = slide.opts.width;\n\t\t  slide.height = slide.opts.height;\n  \n\t\t  ghost = document.createElement(\"img\");\n  \n\t\t  ghost.onerror = function () {\n\t\t\t$(this).remove();\n  \n\t\t\tslide.$ghost = null;\n\t\t  };\n  \n\t\t  ghost.onload = function () {\n\t\t\tself.afterLoad(slide);\n\t\t  };\n  \n\t\t  slide.$ghost = $(ghost)\n\t\t\t.addClass(\"fancybox-image\")\n\t\t\t.appendTo(slide.$content)\n\t\t\t.attr(\"src\", slide.thumb);\n\t\t}\n  \n\t\t// Start loading actual image\n\t\tself.setBigImage(slide);\n\t  },\n  \n\t  // Check if image has srcset and get the source\n\t  // ============================================\n\t  checkSrcset: function (slide) {\n\t\tvar srcset = slide.opts.srcset || slide.opts.image.srcset,\n\t\t  found,\n\t\t  temp,\n\t\t  pxRatio,\n\t\t  windowWidth;\n  \n\t\t// If we have \"srcset\", then we need to find first matching \"src\" value.\n\t\t// This is necessary, because when you set an src attribute, the browser will preload the image\n\t\t// before any javascript or even CSS is applied.\n\t\tif (srcset) {\n\t\t  pxRatio = window.devicePixelRatio || 1;\n\t\t  windowWidth = window.innerWidth * pxRatio;\n  \n\t\t  temp = srcset.split(\",\").map(function (el) {\n\t\t\tvar ret = {};\n  \n\t\t\tel.trim()\n\t\t\t  .split(/\\s+/)\n\t\t\t  .forEach(function (el, i) {\n\t\t\t\tvar value = parseInt(el.substring(0, el.length - 1), 10);\n  \n\t\t\t\tif (i === 0) {\n\t\t\t\t  return (ret.url = el);\n\t\t\t\t}\n  \n\t\t\t\tif (value) {\n\t\t\t\t  ret.value = value;\n\t\t\t\t  ret.postfix = el[el.length - 1];\n\t\t\t\t}\n\t\t\t  });\n  \n\t\t\treturn ret;\n\t\t  });\n  \n\t\t  // Sort by value\n\t\t  temp.sort(function (a, b) {\n\t\t\treturn a.value - b.value;\n\t\t  });\n  \n\t\t  // Ok, now we have an array of all srcset values\n\t\t  for (var j = 0; j < temp.length; j++) {\n\t\t\tvar el = temp[j];\n  \n\t\t\tif ((el.postfix === \"w\" && el.value >= windowWidth) || (el.postfix === \"x\" && el.value >= pxRatio)) {\n\t\t\t  found = el;\n\t\t\t  break;\n\t\t\t}\n\t\t  }\n  \n\t\t  // If not found, take the last one\n\t\t  if (!found && temp.length) {\n\t\t\tfound = temp[temp.length - 1];\n\t\t  }\n  \n\t\t  if (found) {\n\t\t\tslide.src = found.url;\n  \n\t\t\t// If we have default width/height values, we can calculate height for matching source\n\t\t\tif (slide.width && slide.height && found.postfix == \"w\") {\n\t\t\t  slide.height = (slide.width / slide.height) * found.value;\n\t\t\t  slide.width = found.value;\n\t\t\t}\n  \n\t\t\tslide.opts.srcset = srcset;\n\t\t  }\n\t\t}\n\t  },\n  \n\t  // Create full-size image\n\t  // ======================\n  \n\t  setBigImage: function (slide) {\n\t\tvar self = this,\n\t\t  img = document.createElement(\"img\"),\n\t\t  $img = $(img);\n  \n\t\tslide.$image = $img\n\t\t  .one(\"error\", function () {\n\t\t\tself.setError(slide);\n\t\t  })\n\t\t  .one(\"load\", function () {\n\t\t\tvar sizes;\n  \n\t\t\tif (!slide.$ghost) {\n\t\t\t  self.resolveImageSlideSize(slide, this.naturalWidth, this.naturalHeight);\n  \n\t\t\t  self.afterLoad(slide);\n\t\t\t}\n  \n\t\t\tif (self.isClosing) {\n\t\t\t  return;\n\t\t\t}\n  \n\t\t\tif (slide.opts.srcset) {\n\t\t\t  sizes = slide.opts.sizes;\n  \n\t\t\t  if (!sizes || sizes === \"auto\") {\n\t\t\t\tsizes =\n\t\t\t\t  (slide.width / slide.height > 1 && $W.width() / $W.height() > 1 ? \"100\" : Math.round((slide.width / slide.height) * 100)) +\n\t\t\t\t  \"vw\";\n\t\t\t  }\n  \n\t\t\t  $img.attr(\"sizes\", sizes).attr(\"srcset\", slide.opts.srcset);\n\t\t\t}\n  \n\t\t\t// Hide temporary image after some delay\n\t\t\tif (slide.$ghost) {\n\t\t\t  setTimeout(function () {\n\t\t\t\tif (slide.$ghost && !self.isClosing) {\n\t\t\t\t  slide.$ghost.hide();\n\t\t\t\t}\n\t\t\t  }, Math.min(300, Math.max(1000, slide.height / 1600)));\n\t\t\t}\n  \n\t\t\tself.hideLoading(slide);\n\t\t  })\n\t\t  .addClass(\"fancybox-image\")\n\t\t  .attr(\"src\", slide.src)\n\t\t  .appendTo(slide.$content);\n  \n\t\tif ((img.complete || img.readyState == \"complete\") && $img.naturalWidth && $img.naturalHeight) {\n\t\t  $img.trigger(\"load\");\n\t\t} else if (img.error) {\n\t\t  $img.trigger(\"error\");\n\t\t}\n\t  },\n  \n\t  // Computes the slide size from image size and maxWidth/maxHeight\n\t  // ==============================================================\n  \n\t  resolveImageSlideSize: function (slide, imgWidth, imgHeight) {\n\t\tvar maxWidth = parseInt(slide.opts.width, 10),\n\t\t  maxHeight = parseInt(slide.opts.height, 10);\n  \n\t\t// Sets the default values from the image\n\t\tslide.width = imgWidth;\n\t\tslide.height = imgHeight;\n  \n\t\tif (maxWidth > 0) {\n\t\t  slide.width = maxWidth;\n\t\t  slide.height = Math.floor((maxWidth * imgHeight) / imgWidth);\n\t\t}\n  \n\t\tif (maxHeight > 0) {\n\t\t  slide.width = Math.floor((maxHeight * imgWidth) / imgHeight);\n\t\t  slide.height = maxHeight;\n\t\t}\n\t  },\n  \n\t  // Create iframe wrapper, iframe and bindings\n\t  // ==========================================\n  \n\t  setIframe: function (slide) {\n\t\tvar self = this,\n\t\t  opts = slide.opts.iframe,\n\t\t  $slide = slide.$slide,\n\t\t  $iframe;\n  \n\t\tslide.$content = $('<div class=\"fancybox-content' + (opts.preload ? \" fancybox-is-hidden\" : \"\") + '\"></div>')\n\t\t  .css(opts.css)\n\t\t  .appendTo($slide);\n  \n\t\t$slide.addClass(\"fancybox-slide--\" + slide.contentType);\n  \n\t\tslide.$iframe = $iframe = $(opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()))\n\t\t  .attr(opts.attr)\n\t\t  .appendTo(slide.$content);\n  \n\t\tif (opts.preload) {\n\t\t  self.showLoading(slide);\n  \n\t\t  // Unfortunately, it is not always possible to determine if iframe is successfully loaded\n\t\t  // (due to browser security policy)\n  \n\t\t  $iframe.on(\"load.fb error.fb\", function (e) {\n\t\t\tthis.isReady = 1;\n  \n\t\t\tslide.$slide.trigger(\"refresh\");\n  \n\t\t\tself.afterLoad(slide);\n\t\t  });\n  \n\t\t  // Recalculate iframe content size\n\t\t  // ===============================\n  \n\t\t  $slide.on(\"refresh.fb\", function () {\n\t\t\tvar $content = slide.$content,\n\t\t\t  frameWidth = opts.css.width,\n\t\t\t  frameHeight = opts.css.height,\n\t\t\t  $contents,\n\t\t\t  $body;\n  \n\t\t\tif ($iframe[0].isReady !== 1) {\n\t\t\t  return;\n\t\t\t}\n  \n\t\t\ttry {\n\t\t\t  $contents = $iframe.contents();\n\t\t\t  $body = $contents.find(\"body\");\n\t\t\t} catch (ignore) {}\n  \n\t\t\t// Calculate content dimensions, if it is accessible\n\t\t\tif ($body && $body.length && $body.children().length) {\n\t\t\t  // Avoid scrolling to top (if multiple instances)\n\t\t\t  $slide.css(\"overflow\", \"visible\");\n  \n\t\t\t  $content.css({\n\t\t\t\twidth: \"100%\",\n\t\t\t\t\"max-width\": \"100%\",\n\t\t\t\theight: \"9999px\"\n\t\t\t  });\n  \n\t\t\t  if (frameWidth === undefined) {\n\t\t\t\tframeWidth = Math.ceil(Math.max($body[0].clientWidth, $body.outerWidth(true)));\n\t\t\t  }\n  \n\t\t\t  $content.css(\"width\", frameWidth ? frameWidth : \"\").css(\"max-width\", \"\");\n  \n\t\t\t  if (frameHeight === undefined) {\n\t\t\t\tframeHeight = Math.ceil(Math.max($body[0].clientHeight, $body.outerHeight(true)));\n\t\t\t  }\n  \n\t\t\t  $content.css(\"height\", frameHeight ? frameHeight : \"\");\n  \n\t\t\t  $slide.css(\"overflow\", \"auto\");\n\t\t\t}\n  \n\t\t\t$content.removeClass(\"fancybox-is-hidden\");\n\t\t  });\n\t\t} else {\n\t\t  self.afterLoad(slide);\n\t\t}\n  \n\t\t$iframe.attr(\"src\", slide.src);\n  \n\t\t// Remove iframe if closing or changing gallery item\n\t\t$slide.one(\"onReset\", function () {\n\t\t  // This helps IE not to throw errors when closing\n\t\t  try {\n\t\t\t$(this)\n\t\t\t  .find(\"iframe\")\n\t\t\t  .hide()\n\t\t\t  .unbind()\n\t\t\t  .attr(\"src\", \"//about:blank\");\n\t\t  } catch (ignore) {}\n  \n\t\t  $(this)\n\t\t\t.off(\"refresh.fb\")\n\t\t\t.empty();\n  \n\t\t  slide.isLoaded = false;\n\t\t  slide.isRevealed = false;\n\t\t});\n\t  },\n  \n\t  // Wrap and append content to the slide\n\t  // ======================================\n  \n\t  setContent: function (slide, content) {\n\t\tvar self = this;\n  \n\t\tif (self.isClosing) {\n\t\t  return;\n\t\t}\n  \n\t\tself.hideLoading(slide);\n  \n\t\tif (slide.$content) {\n\t\t  $.fancybox.stop(slide.$content);\n\t\t}\n  \n\t\tslide.$slide.empty();\n  \n\t\t// If content is a jQuery object, then it will be moved to the slide.\n\t\t// The placeholder is created so we will know where to put it back.\n\t\tif (isQuery(content) && content.parent().length) {\n\t\t  // Make sure content is not already moved to fancyBox\n\t\t  if (content.hasClass(\"fancybox-content\") || content.parent().hasClass(\"fancybox-content\")) {\n\t\t\tcontent.parents(\".fancybox-slide\").trigger(\"onReset\");\n\t\t  }\n  \n\t\t  // Create temporary element marking original place of the content\n\t\t  slide.$placeholder = $(\"<div>\")\n\t\t\t.hide()\n\t\t\t.insertAfter(content);\n  \n\t\t  // Make sure content is visible\n\t\t  content.css(\"display\", \"inline-block\");\n\t\t} else if (!slide.hasError) {\n\t\t  // If content is just a plain text, try to convert it to html\n\t\t  if ($.type(content) === \"string\") {\n\t\t\tcontent = $(\"<div>\")\n\t\t\t  .append($.trim(content))\n\t\t\t  .contents();\n\t\t  }\n  \n\t\t  // If \"filter\" option is provided, then filter content\n\t\t  if (slide.opts.filter) {\n\t\t\tcontent = $(\"<div>\")\n\t\t\t  .html(content)\n\t\t\t  .find(slide.opts.filter);\n\t\t  }\n\t\t}\n  \n\t\tslide.$slide.one(\"onReset\", function () {\n\t\t  // Pause all html5 video/audio\n\t\t  $(this)\n\t\t\t.find(\"video,audio\")\n\t\t\t.trigger(\"pause\");\n  \n\t\t  // Put content back\n\t\t  if (slide.$placeholder) {\n\t\t\tslide.$placeholder.after(content.removeClass(\"fancybox-content\").hide()).remove();\n  \n\t\t\tslide.$placeholder = null;\n\t\t  }\n  \n\t\t  // Remove custom close button\n\t\t  if (slide.$smallBtn) {\n\t\t\tslide.$smallBtn.remove();\n  \n\t\t\tslide.$smallBtn = null;\n\t\t  }\n  \n\t\t  // Remove content and mark slide as not loaded\n\t\t  if (!slide.hasError) {\n\t\t\t$(this).empty();\n  \n\t\t\tslide.isLoaded = false;\n\t\t\tslide.isRevealed = false;\n\t\t  }\n\t\t});\n  \n\t\t$(content).appendTo(slide.$slide);\n  \n\t\tif ($(content).is(\"video,audio\")) {\n\t\t  $(content).addClass(\"fancybox-video\");\n  \n\t\t  $(content).wrap(\"<div></div>\");\n  \n\t\t  slide.contentType = \"video\";\n  \n\t\t  slide.opts.width = slide.opts.width || $(content).attr(\"width\");\n\t\t  slide.opts.height = slide.opts.height || $(content).attr(\"height\");\n\t\t}\n  \n\t\tslide.$content = slide.$slide\n\t\t  .children()\n\t\t  .filter(\"div,form,main,video,audio,article,.fancybox-content\")\n\t\t  .first();\n  \n\t\tslide.$content.siblings().hide();\n  \n\t\t// Re-check if there is a valid content\n\t\t// (in some cases, ajax response can contain various elements or plain text)\n\t\tif (!slide.$content.length) {\n\t\t  slide.$content = slide.$slide\n\t\t\t.wrapInner(\"<div></div>\")\n\t\t\t.children()\n\t\t\t.first();\n\t\t}\n  \n\t\tslide.$content.addClass(\"fancybox-content\");\n  \n\t\tslide.$slide.addClass(\"fancybox-slide--\" + slide.contentType);\n  \n\t\tself.afterLoad(slide);\n\t  },\n  \n\t  // Display error message\n\t  // =====================\n  \n\t  setError: function (slide) {\n\t\tslide.hasError = true;\n  \n\t\tslide.$slide\n\t\t  .trigger(\"onReset\")\n\t\t  .removeClass(\"fancybox-slide--\" + slide.contentType)\n\t\t  .addClass(\"fancybox-slide--error\");\n  \n\t\tslide.contentType = \"html\";\n  \n\t\tthis.setContent(slide, this.translate(slide, slide.opts.errorTpl));\n  \n\t\tif (slide.pos === this.currPos) {\n\t\t  this.isAnimating = false;\n\t\t}\n\t  },\n  \n\t  // Show loading icon inside the slide\n\t  // ==================================\n  \n\t  showLoading: function (slide) {\n\t\tvar self = this;\n  \n\t\tslide = slide || self.current;\n  \n\t\tif (slide && !slide.$spinner) {\n\t\t  slide.$spinner = $(self.translate(self, self.opts.spinnerTpl))\n\t\t\t.appendTo(slide.$slide)\n\t\t\t.hide()\n\t\t\t.fadeIn(\"fast\");\n\t\t}\n\t  },\n  \n\t  // Remove loading icon from the slide\n\t  // ==================================\n  \n\t  hideLoading: function (slide) {\n\t\tvar self = this;\n  \n\t\tslide = slide || self.current;\n  \n\t\tif (slide && slide.$spinner) {\n\t\t  slide.$spinner.stop().remove();\n  \n\t\t  delete slide.$spinner;\n\t\t}\n\t  },\n  \n\t  // Adjustments after slide content has been loaded\n\t  // ===============================================\n  \n\t  afterLoad: function (slide) {\n\t\tvar self = this;\n  \n\t\tif (self.isClosing) {\n\t\t  return;\n\t\t}\n  \n\t\tslide.isLoading = false;\n\t\tslide.isLoaded = true;\n  \n\t\tself.trigger(\"afterLoad\", slide);\n  \n\t\tself.hideLoading(slide);\n  \n\t\t// Add small close button\n\t\tif (slide.opts.smallBtn && (!slide.$smallBtn || !slide.$smallBtn.length)) {\n\t\t  slide.$smallBtn = $(self.translate(slide, slide.opts.btnTpl.smallBtn)).appendTo(slide.$content);\n\t\t}\n  \n\t\t// Disable right click\n\t\tif (slide.opts.protect && slide.$content && !slide.hasError) {\n\t\t  slide.$content.on(\"contextmenu.fb\", function (e) {\n\t\t\tif (e.button == 2) {\n\t\t\t  e.preventDefault();\n\t\t\t}\n  \n\t\t\treturn true;\n\t\t  });\n  \n\t\t  // Add fake element on top of the image\n\t\t  // This makes a bit harder for user to select image\n\t\t  if (slide.type === \"image\") {\n\t\t\t$('<div class=\"fancybox-spaceball\"></div>').appendTo(slide.$content);\n\t\t  }\n\t\t}\n  \n\t\tself.adjustCaption(slide);\n  \n\t\tself.adjustLayout(slide);\n  \n\t\tif (slide.pos === self.currPos) {\n\t\t  self.updateCursor();\n\t\t}\n  \n\t\tself.revealContent(slide);\n\t  },\n  \n\t  // Prevent caption overlap,\n\t  // fix css inconsistency across browsers\n\t  // =====================================\n  \n\t  adjustCaption: function (slide) {\n\t\tvar self = this,\n\t\t  current = slide || self.current,\n\t\t  caption = current.opts.caption,\n\t\t  preventOverlap = current.opts.preventCaptionOverlap,\n\t\t  $caption = self.$refs.caption,\n\t\t  $clone,\n\t\t  captionH = false;\n  \n\t\t$caption.toggleClass(\"fancybox-caption--separate\", preventOverlap);\n  \n\t\tif (preventOverlap && caption && caption.length) {\n\t\t  if (current.pos !== self.currPos) {\n\t\t\t$clone = $caption.clone().appendTo($caption.parent());\n  \n\t\t\t$clone\n\t\t\t  .children()\n\t\t\t  .eq(0)\n\t\t\t  .empty()\n\t\t\t  .html(caption);\n  \n\t\t\tcaptionH = $clone.outerHeight(true);\n  \n\t\t\t$clone.empty().remove();\n\t\t  } else if (self.$caption) {\n\t\t\tcaptionH = self.$caption.outerHeight(true);\n\t\t  }\n  \n\t\t  current.$slide.css(\"padding-bottom\", captionH || \"\");\n\t\t}\n\t  },\n  \n\t  // Simple hack to fix inconsistency across browsers, described here (affects Edge, too):\n\t  // https://bugzilla.mozilla.org/show_bug.cgi?id=748518\n\t  // ====================================================================================\n  \n\t  adjustLayout: function (slide) {\n\t\tvar self = this,\n\t\t  current = slide || self.current,\n\t\t  scrollHeight,\n\t\t  marginBottom,\n\t\t  inlinePadding,\n\t\t  actualPadding;\n  \n\t\tif (current.isLoaded && current.opts.disableLayoutFix !== true) {\n\t\t  current.$content.css(\"margin-bottom\", \"\");\n  \n\t\t  // If we would always set margin-bottom for the content,\n\t\t  // then it would potentially break vertical align\n\t\t  if (current.$content.outerHeight() > current.$slide.height() + 0.5) {\n\t\t\tinlinePadding = current.$slide[0].style[\"padding-bottom\"];\n\t\t\tactualPadding = current.$slide.css(\"padding-bottom\");\n  \n\t\t\tif (parseFloat(actualPadding) > 0) {\n\t\t\t  scrollHeight = current.$slide[0].scrollHeight;\n  \n\t\t\t  current.$slide.css(\"padding-bottom\", 0);\n  \n\t\t\t  if (Math.abs(scrollHeight - current.$slide[0].scrollHeight) < 1) {\n\t\t\t\tmarginBottom = actualPadding;\n\t\t\t  }\n  \n\t\t\t  current.$slide.css(\"padding-bottom\", inlinePadding);\n\t\t\t}\n\t\t  }\n  \n\t\t  current.$content.css(\"margin-bottom\", marginBottom);\n\t\t}\n\t  },\n  \n\t  // Make content visible\n\t  // This method is called right after content has been loaded or\n\t  // user navigates gallery and transition should start\n\t  // ============================================================\n  \n\t  revealContent: function (slide) {\n\t\tvar self = this,\n\t\t  $slide = slide.$slide,\n\t\t  end = false,\n\t\t  start = false,\n\t\t  isMoved = self.isMoved(slide),\n\t\t  isRevealed = slide.isRevealed,\n\t\t  effect,\n\t\t  effectClassName,\n\t\t  duration,\n\t\t  opacity;\n  \n\t\tslide.isRevealed = true;\n  \n\t\teffect = slide.opts[self.firstRun ? \"animationEffect\" : \"transitionEffect\"];\n\t\tduration = slide.opts[self.firstRun ? \"animationDuration\" : \"transitionDuration\"];\n  \n\t\tduration = parseInt(slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10);\n  \n\t\tif (isMoved || slide.pos !== self.currPos || !duration) {\n\t\t  effect = false;\n\t\t}\n  \n\t\t// Check if can zoom\n\t\tif (effect === \"zoom\") {\n\t\t  if (slide.pos === self.currPos && duration && slide.type === \"image\" && !slide.hasError && (start = self.getThumbPos(slide))) {\n\t\t\tend = self.getFitPos(slide);\n\t\t  } else {\n\t\t\teffect = \"fade\";\n\t\t  }\n\t\t}\n  \n\t\t// Zoom animation\n\t\t// ==============\n\t\tif (effect === \"zoom\") {\n\t\t  self.isAnimating = true;\n  \n\t\t  end.scaleX = end.width / start.width;\n\t\t  end.scaleY = end.height / start.height;\n  \n\t\t  // Check if we need to animate opacity\n\t\t  opacity = slide.opts.zoomOpacity;\n  \n\t\t  if (opacity == \"auto\") {\n\t\t\topacity = Math.abs(slide.width / slide.height - start.width / start.height) > 0.1;\n\t\t  }\n  \n\t\t  if (opacity) {\n\t\t\tstart.opacity = 0.1;\n\t\t\tend.opacity = 1;\n\t\t  }\n  \n\t\t  // Draw image at start position\n\t\t  $.fancybox.setTranslate(slide.$content.removeClass(\"fancybox-is-hidden\"), start);\n  \n\t\t  forceRedraw(slide.$content);\n  \n\t\t  // Start animation\n\t\t  $.fancybox.animate(slide.$content, end, duration, function () {\n\t\t\tself.isAnimating = false;\n  \n\t\t\tself.complete();\n\t\t  });\n  \n\t\t  return;\n\t\t}\n  \n\t\tself.updateSlide(slide);\n  \n\t\t// Simply show content if no effect\n\t\t// ================================\n\t\tif (!effect) {\n\t\t  slide.$content.removeClass(\"fancybox-is-hidden\");\n  \n\t\t  if (!isRevealed && isMoved && slide.type === \"image\" && !slide.hasError) {\n\t\t\tslide.$content.hide().fadeIn(\"fast\");\n\t\t  }\n  \n\t\t  if (slide.pos === self.currPos) {\n\t\t\tself.complete();\n\t\t  }\n  \n\t\t  return;\n\t\t}\n  \n\t\t// Prepare for CSS transiton\n\t\t// =========================\n\t\t$.fancybox.stop($slide);\n  \n\t\t//effectClassName = \"fancybox-animated fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-fx-\" + effect;\n\t\teffectClassName = \"fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-animated fancybox-fx-\" + effect;\n  \n\t\t$slide.addClass(effectClassName).removeClass(\"fancybox-slide--current\"); //.addClass(effectClassName);\n  \n\t\tslide.$content.removeClass(\"fancybox-is-hidden\");\n  \n\t\t// Force reflow\n\t\tforceRedraw($slide);\n  \n\t\tif (slide.type !== \"image\") {\n\t\t  slide.$content.hide().show(0);\n\t\t}\n  \n\t\t$.fancybox.animate(\n\t\t  $slide,\n\t\t  \"fancybox-slide--current\",\n\t\t  duration,\n\t\t  function () {\n\t\t\t$slide.removeClass(effectClassName).css({\n\t\t\t  transform: \"\",\n\t\t\t  opacity: \"\"\n\t\t\t});\n  \n\t\t\tif (slide.pos === self.currPos) {\n\t\t\t  self.complete();\n\t\t\t}\n\t\t  },\n\t\t  true\n\t\t);\n\t  },\n  \n\t  // Check if we can and have to zoom from thumbnail\n\t  //================================================\n  \n\t  getThumbPos: function (slide) {\n\t\tvar rez = false,\n\t\t  $thumb = slide.$thumb,\n\t\t  thumbPos,\n\t\t  btw,\n\t\t  brw,\n\t\t  bbw,\n\t\t  blw;\n  \n\t\tif (!$thumb || !inViewport($thumb[0])) {\n\t\t  return false;\n\t\t}\n  \n\t\tthumbPos = $.fancybox.getTranslate($thumb);\n  \n\t\tbtw = parseFloat($thumb.css(\"border-top-width\") || 0);\n\t\tbrw = parseFloat($thumb.css(\"border-right-width\") || 0);\n\t\tbbw = parseFloat($thumb.css(\"border-bottom-width\") || 0);\n\t\tblw = parseFloat($thumb.css(\"border-left-width\") || 0);\n  \n\t\trez = {\n\t\t  top: thumbPos.top + btw,\n\t\t  left: thumbPos.left + blw,\n\t\t  width: thumbPos.width - brw - blw,\n\t\t  height: thumbPos.height - btw - bbw,\n\t\t  scaleX: 1,\n\t\t  scaleY: 1\n\t\t};\n  \n\t\treturn thumbPos.width > 0 && thumbPos.height > 0 ? rez : false;\n\t  },\n  \n\t  // Final adjustments after current gallery item is moved to position\n\t  // and it`s content is loaded\n\t  // ==================================================================\n  \n\t  complete: function () {\n\t\tvar self = this,\n\t\t  current = self.current,\n\t\t  slides = {},\n\t\t  $el;\n  \n\t\tif (self.isMoved() || !current.isLoaded) {\n\t\t  return;\n\t\t}\n  \n\t\tif (!current.isComplete) {\n\t\t  current.isComplete = true;\n  \n\t\t  current.$slide.siblings().trigger(\"onReset\");\n  \n\t\t  self.preload(\"inline\");\n  \n\t\t  // Trigger any CSS transiton inside the slide\n\t\t  forceRedraw(current.$slide);\n  \n\t\t  current.$slide.addClass(\"fancybox-slide--complete\");\n  \n\t\t  // Remove unnecessary slides\n\t\t  $.each(self.slides, function (key, slide) {\n\t\t\tif (slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1) {\n\t\t\t  slides[slide.pos] = slide;\n\t\t\t} else if (slide) {\n\t\t\t  $.fancybox.stop(slide.$slide);\n  \n\t\t\t  slide.$slide.off().remove();\n\t\t\t}\n\t\t  });\n  \n\t\t  self.slides = slides;\n\t\t}\n  \n\t\tself.isAnimating = false;\n  \n\t\tself.updateCursor();\n  \n\t\tself.trigger(\"afterShow\");\n  \n\t\t// Autoplay first html5 video/audio\n\t\tif (!!current.opts.video.autoStart) {\n\t\t  current.$slide\n\t\t\t.find(\"video,audio\")\n\t\t\t.filter(\":visible:first\")\n\t\t\t.trigger(\"play\")\n\t\t\t.one(\"ended\", function () {\n\t\t\t  if (Document.exitFullscreen) {\n\t\t\t\tDocument.exitFullscreen();\n\t\t\t  } else if (this.webkitExitFullscreen) {\n\t\t\t\tthis.webkitExitFullscreen();\n\t\t\t  }\n  \n\t\t\t  self.next();\n\t\t\t});\n\t\t}\n  \n\t\t// Try to focus on the first focusable element\n\t\tif (current.opts.autoFocus && current.contentType === \"html\") {\n\t\t  // Look for the first input with autofocus attribute\n\t\t  $el = current.$content.find(\"input[autofocus]:enabled:visible:first\");\n  \n\t\t  if ($el.length) {\n\t\t\t$el.trigger(\"focus\");\n\t\t  } else {\n\t\t\tself.focus(null, true);\n\t\t  }\n\t\t}\n  \n\t\t// Avoid jumping\n\t\tcurrent.$slide.scrollTop(0).scrollLeft(0);\n\t  },\n  \n\t  // Preload next and previous slides\n\t  // ================================\n  \n\t  preload: function (type) {\n\t\tvar self = this,\n\t\t  prev,\n\t\t  next;\n  \n\t\tif (self.group.length < 2) {\n\t\t  return;\n\t\t}\n  \n\t\tnext = self.slides[self.currPos + 1];\n\t\tprev = self.slides[self.currPos - 1];\n  \n\t\tif (prev && prev.type === type) {\n\t\t  self.loadSlide(prev);\n\t\t}\n  \n\t\tif (next && next.type === type) {\n\t\t  self.loadSlide(next);\n\t\t}\n\t  },\n  \n\t  // Try to find and focus on the first focusable element\n\t  // ====================================================\n  \n\t  focus: function (e, firstRun) {\n\t\tvar self = this,\n\t\t  focusableStr = [\n\t\t\t\"a[href]\",\n\t\t\t\"area[href]\",\n\t\t\t'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\n\t\t\t\"select:not([disabled]):not([aria-hidden])\",\n\t\t\t\"textarea:not([disabled]):not([aria-hidden])\",\n\t\t\t\"button:not([disabled]):not([aria-hidden])\",\n\t\t\t\"iframe\",\n\t\t\t\"object\",\n\t\t\t\"embed\",\n\t\t\t\"video\",\n\t\t\t\"audio\",\n\t\t\t\"[contenteditable]\",\n\t\t\t'[tabindex]:not([tabindex^=\"-\"])'\n\t\t  ].join(\",\"),\n\t\t  focusableItems,\n\t\t  focusedItemIndex;\n  \n\t\tif (self.isClosing) {\n\t\t  return;\n\t\t}\n  \n\t\tif (e || !self.current || !self.current.isComplete) {\n\t\t  // Focus on any element inside fancybox\n\t\t  focusableItems = self.$refs.container.find(\"*:visible\");\n\t\t} else {\n\t\t  // Focus inside current slide\n\t\t  focusableItems = self.current.$slide.find(\"*:visible\" + (firstRun ? \":not(.fancybox-close-small)\" : \"\"));\n\t\t}\n  \n\t\tfocusableItems = focusableItems.filter(focusableStr).filter(function () {\n\t\t  return $(this).css(\"visibility\") !== \"hidden\" && !$(this).hasClass(\"disabled\");\n\t\t});\n  \n\t\tif (focusableItems.length) {\n\t\t  focusedItemIndex = focusableItems.index(document.activeElement);\n  \n\t\t  if (e && e.shiftKey) {\n\t\t\t// Back tab\n\t\t\tif (focusedItemIndex < 0 || focusedItemIndex == 0) {\n\t\t\t  e.preventDefault();\n  \n\t\t\t  focusableItems.eq(focusableItems.length - 1).trigger(\"focus\");\n\t\t\t}\n\t\t  } else {\n\t\t\t// Outside or Forward tab\n\t\t\tif (focusedItemIndex < 0 || focusedItemIndex == focusableItems.length - 1) {\n\t\t\t  if (e) {\n\t\t\t\te.preventDefault();\n\t\t\t  }\n  \n\t\t\t  focusableItems.eq(0).trigger(\"focus\");\n\t\t\t}\n\t\t  }\n\t\t} else {\n\t\t  self.$refs.container.trigger(\"focus\");\n\t\t}\n\t  },\n  \n\t  // Activates current instance - brings container to the front and enables keyboard,\n\t  // notifies other instances about deactivating\n\t  // =================================================================================\n  \n\t  activate: function () {\n\t\tvar self = this;\n  \n\t\t// Deactivate all instances\n\t\t$(\".fancybox-container\").each(function () {\n\t\t  var instance = $(this).data(\"FancyBox\");\n  \n\t\t  // Skip self and closing instances\n\t\t  if (instance && instance.id !== self.id && !instance.isClosing) {\n\t\t\tinstance.trigger(\"onDeactivate\");\n  \n\t\t\tinstance.removeEvents();\n  \n\t\t\tinstance.isVisible = false;\n\t\t  }\n\t\t});\n  \n\t\tself.isVisible = true;\n  \n\t\tif (self.current || self.isIdle) {\n\t\t  self.update();\n  \n\t\t  self.updateControls();\n\t\t}\n  \n\t\tself.trigger(\"onActivate\");\n  \n\t\tself.addEvents();\n\t  },\n  \n\t  // Start closing procedure\n\t  // This will start \"zoom-out\" animation if needed and clean everything up afterwards\n\t  // =================================================================================\n  \n\t  close: function (e, d) {\n\t\tvar self = this,\n\t\t  current = self.current,\n\t\t  effect,\n\t\t  duration,\n\t\t  $content,\n\t\t  domRect,\n\t\t  opacity,\n\t\t  start,\n\t\t  end;\n  \n\t\tvar done = function () {\n\t\t  self.cleanUp(e);\n\t\t};\n  \n\t\tif (self.isClosing) {\n\t\t  return false;\n\t\t}\n  \n\t\tself.isClosing = true;\n  \n\t\t// If beforeClose callback prevents closing, make sure content is centered\n\t\tif (self.trigger(\"beforeClose\", e) === false) {\n\t\t  self.isClosing = false;\n  \n\t\t  requestAFrame(function () {\n\t\t\tself.update();\n\t\t  });\n  \n\t\t  return false;\n\t\t}\n  \n\t\t// Remove all events\n\t\t// If there are multiple instances, they will be set again by \"activate\" method\n\t\tself.removeEvents();\n  \n\t\t$content = current.$content;\n\t\teffect = current.opts.animationEffect;\n\t\tduration = $.isNumeric(d) ? d : effect ? current.opts.animationDuration : 0;\n  \n\t\tcurrent.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\");\n  \n\t\tif (e !== true) {\n\t\t  $.fancybox.stop(current.$slide);\n\t\t} else {\n\t\t  effect = false;\n\t\t}\n  \n\t\t// Remove other slides\n\t\tcurrent.$slide\n\t\t  .siblings()\n\t\t  .trigger(\"onReset\")\n\t\t  .remove();\n  \n\t\t// Trigger animations\n\t\tif (duration) {\n\t\t  self.$refs.container\n\t\t\t.removeClass(\"fancybox-is-open\")\n\t\t\t.addClass(\"fancybox-is-closing\")\n\t\t\t.css(\"transition-duration\", duration + \"ms\");\n\t\t}\n  \n\t\t// Clean up\n\t\tself.hideLoading(current);\n  \n\t\tself.hideControls(true);\n  \n\t\tself.updateCursor();\n  \n\t\t// Check if possible to zoom-out\n\t\tif (\n\t\t  effect === \"zoom\" &&\n\t\t  !($content && duration && current.type === \"image\" && !self.isMoved() && !current.hasError && (end = self.getThumbPos(current)))\n\t\t) {\n\t\t  effect = \"fade\";\n\t\t}\n  \n\t\tif (effect === \"zoom\") {\n\t\t  $.fancybox.stop($content);\n  \n\t\t  domRect = $.fancybox.getTranslate($content);\n  \n\t\t  start = {\n\t\t\ttop: domRect.top,\n\t\t\tleft: domRect.left,\n\t\t\tscaleX: domRect.width / end.width,\n\t\t\tscaleY: domRect.height / end.height,\n\t\t\twidth: end.width,\n\t\t\theight: end.height\n\t\t  };\n  \n\t\t  // Check if we need to animate opacity\n\t\t  opacity = current.opts.zoomOpacity;\n  \n\t\t  if (opacity == \"auto\") {\n\t\t\topacity = Math.abs(current.width / current.height - end.width / end.height) > 0.1;\n\t\t  }\n  \n\t\t  if (opacity) {\n\t\t\tend.opacity = 0;\n\t\t  }\n  \n\t\t  $.fancybox.setTranslate($content, start);\n  \n\t\t  forceRedraw($content);\n  \n\t\t  $.fancybox.animate($content, end, duration, done);\n  \n\t\t  return true;\n\t\t}\n  \n\t\tif (effect && duration) {\n\t\t  $.fancybox.animate(\n\t\t\tcurrent.$slide.addClass(\"fancybox-slide--previous\").removeClass(\"fancybox-slide--current\"),\n\t\t\t\"fancybox-animated fancybox-fx-\" + effect,\n\t\t\tduration,\n\t\t\tdone\n\t\t  );\n\t\t} else {\n\t\t  // If skip animation\n\t\t  if (e === true) {\n\t\t\tsetTimeout(done, duration);\n\t\t  } else {\n\t\t\tdone();\n\t\t  }\n\t\t}\n  \n\t\treturn true;\n\t  },\n  \n\t  // Final adjustments after removing the instance\n\t  // =============================================\n  \n\t  cleanUp: function (e) {\n\t\tvar self = this,\n\t\t  instance,\n\t\t  $focus = self.current.opts.$orig,\n\t\t  x,\n\t\t  y;\n  \n\t\tself.current.$slide.trigger(\"onReset\");\n  \n\t\tself.$refs.container.empty().remove();\n  \n\t\tself.trigger(\"afterClose\", e);\n  \n\t\t// Place back focus\n\t\tif (!!self.current.opts.backFocus) {\n\t\t  if (!$focus || !$focus.length || !$focus.is(\":visible\")) {\n\t\t\t$focus = self.$trigger;\n\t\t  }\n  \n\t\t  if ($focus && $focus.length) {\n\t\t\tx = window.scrollX;\n\t\t\ty = window.scrollY;\n  \n\t\t\t$focus.trigger(\"focus\");\n  \n\t\t\t$(\"html, body\")\n\t\t\t  .scrollTop(y)\n\t\t\t  .scrollLeft(x);\n\t\t  }\n\t\t}\n  \n\t\tself.current = null;\n  \n\t\t// Check if there are other instances\n\t\tinstance = $.fancybox.getInstance();\n  \n\t\tif (instance) {\n\t\t  instance.activate();\n\t\t} else {\n\t\t  $(\"body\").removeClass(\"fancybox-active compensate-for-scrollbar\");\n  \n\t\t  $(\"#fancybox-style-noscroll\").remove();\n\t\t}\n\t  },\n  \n\t  // Call callback and trigger an event\n\t  // ==================================\n  \n\t  trigger: function (name, slide) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1),\n\t\t  self = this,\n\t\t  obj = slide && slide.opts ? slide : self.current,\n\t\t  rez;\n  \n\t\tif (obj) {\n\t\t  args.unshift(obj);\n\t\t} else {\n\t\t  obj = self;\n\t\t}\n  \n\t\targs.unshift(self);\n  \n\t\tif ($.isFunction(obj.opts[name])) {\n\t\t  rez = obj.opts[name].apply(obj, args);\n\t\t}\n  \n\t\tif (rez === false) {\n\t\t  return rez;\n\t\t}\n  \n\t\tif (name === \"afterClose\" || !self.$refs) {\n\t\t  $D.trigger(name + \".fb\", args);\n\t\t} else {\n\t\t  self.$refs.container.trigger(name + \".fb\", args);\n\t\t}\n\t  },\n  \n\t  // Update infobar values, navigation button states and reveal caption\n\t  // ==================================================================\n  \n\t  updateControls: function () {\n\t\tvar self = this,\n\t\t  current = self.current,\n\t\t  index = current.index,\n\t\t  $container = self.$refs.container,\n\t\t  $caption = self.$refs.caption,\n\t\t  caption = current.opts.caption;\n  \n\t\t// Recalculate content dimensions\n\t\tcurrent.$slide.trigger(\"refresh\");\n  \n\t\t// Set caption\n\t\tif (caption && caption.length) {\n\t\t  self.$caption = $caption;\n  \n\t\t  $caption\n\t\t\t.children()\n\t\t\t.eq(0)\n\t\t\t.html(caption);\n\t\t} else {\n\t\t  self.$caption = null;\n\t\t}\n  \n\t\tif (!self.hasHiddenControls && !self.isIdle) {\n\t\t  self.showControls();\n\t\t}\n  \n\t\t// Update info and navigation elements\n\t\t$container.find(\"[data-fancybox-count]\").html(self.group.length);\n\t\t$container.find(\"[data-fancybox-index]\").html(index + 1);\n  \n\t\t$container.find(\"[data-fancybox-prev]\").prop(\"disabled\", !current.opts.loop && index <= 0);\n\t\t$container.find(\"[data-fancybox-next]\").prop(\"disabled\", !current.opts.loop && index >= self.group.length - 1);\n  \n\t\tif (current.type === \"image\") {\n\t\t  // Re-enable buttons; update download button source\n\t\t  $container\n\t\t\t.find(\"[data-fancybox-zoom]\")\n\t\t\t.show()\n\t\t\t.end()\n\t\t\t.find(\"[data-fancybox-download]\")\n\t\t\t.attr(\"href\", current.opts.image.src || current.src)\n\t\t\t.show();\n\t\t} else if (current.opts.toolbar) {\n\t\t  $container.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide();\n\t\t}\n  \n\t\t// Make sure focus is not on disabled button/element\n\t\tif ($(document.activeElement).is(\":hidden,[disabled]\")) {\n\t\t  self.$refs.container.trigger(\"focus\");\n\t\t}\n\t  },\n  \n\t  // Hide toolbar and caption\n\t  // ========================\n  \n\t  hideControls: function (andCaption) {\n\t\tvar self = this,\n\t\t  arr = [\"infobar\", \"toolbar\", \"nav\"];\n  \n\t\tif (andCaption || !self.current.opts.preventCaptionOverlap) {\n\t\t  arr.push(\"caption\");\n\t\t}\n  \n\t\tthis.$refs.container.removeClass(\n\t\t  arr\n\t\t  .map(function (i) {\n\t\t\treturn \"fancybox-show-\" + i;\n\t\t  })\n\t\t  .join(\" \")\n\t\t);\n  \n\t\tthis.hasHiddenControls = true;\n\t  },\n  \n\t  showControls: function () {\n\t\tvar self = this,\n\t\t  opts = self.current ? self.current.opts : self.opts,\n\t\t  $container = self.$refs.container;\n  \n\t\tself.hasHiddenControls = false;\n\t\tself.idleSecondsCounter = 0;\n  \n\t\t$container\n\t\t  .toggleClass(\"fancybox-show-toolbar\", !!(opts.toolbar && opts.buttons))\n\t\t  .toggleClass(\"fancybox-show-infobar\", !!(opts.infobar && self.group.length > 1))\n\t\t  .toggleClass(\"fancybox-show-caption\", !!self.$caption)\n\t\t  .toggleClass(\"fancybox-show-nav\", !!(opts.arrows && self.group.length > 1))\n\t\t  .toggleClass(\"fancybox-is-modal\", !!opts.modal);\n\t  },\n  \n\t  // Toggle toolbar and caption\n\t  // ==========================\n  \n\t  toggleControls: function () {\n\t\tif (this.hasHiddenControls) {\n\t\t  this.showControls();\n\t\t} else {\n\t\t  this.hideControls();\n\t\t}\n\t  }\n\t});\n  \n\t$.fancybox = {\n\t  version: \"3.5.7\",\n\t  defaults: defaults,\n  \n\t  // Get current instance and execute a command.\n\t  //\n\t  // Examples of usage:\n\t  //\n\t  //   $instance = $.fancybox.getInstance();\n\t  //   $.fancybox.getInstance().jumpTo( 1 );\n\t  //   $.fancybox.getInstance( 'jumpTo', 1 );\n\t  //   $.fancybox.getInstance( function() {\n\t  //       console.info( this.currIndex );\n\t  //   });\n\t  // ======================================================\n  \n\t  getInstance: function (command) {\n\t\tvar instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),\n\t\t  args = Array.prototype.slice.call(arguments, 1);\n  \n\t\tif (instance instanceof FancyBox) {\n\t\t  if ($.type(command) === \"string\") {\n\t\t\tinstance[command].apply(instance, args);\n\t\t  } else if ($.type(command) === \"function\") {\n\t\t\tcommand.apply(instance, args);\n\t\t  }\n  \n\t\t  return instance;\n\t\t}\n  \n\t\treturn false;\n\t  },\n  \n\t  // Create new instance\n\t  // ===================\n  \n\t  open: function (items, opts, index) {\n\t\treturn new FancyBox(items, opts, index);\n\t  },\n  \n\t  // Close current or all instances\n\t  // ==============================\n  \n\t  close: function (all) {\n\t\tvar instance = this.getInstance();\n  \n\t\tif (instance) {\n\t\t  instance.close();\n  \n\t\t  // Try to find and close next instance\n\t\t  if (all === true) {\n\t\t\tthis.close(all);\n\t\t  }\n\t\t}\n\t  },\n  \n\t  // Close all instances and unbind all events\n\t  // =========================================\n  \n\t  destroy: function () {\n\t\tthis.close(true);\n  \n\t\t$D.add(\"body\").off(\"click.fb-start\", \"**\");\n\t  },\n  \n\t  // Try to detect mobile devices\n\t  // ============================\n  \n\t  isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\n  \n\t  // Detect if 'translate3d' support is available\n\t  // ============================================\n  \n\t  use3d: (function () {\n\t\tvar div = document.createElement(\"div\");\n  \n\t\treturn (\n\t\t  window.getComputedStyle &&\n\t\t  window.getComputedStyle(div) &&\n\t\t  window.getComputedStyle(div).getPropertyValue(\"transform\") &&\n\t\t  !(document.documentMode && document.documentMode < 11)\n\t\t);\n\t  })(),\n  \n\t  // Helper function to get current visual state of an element\n\t  // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\n\t  // =====================================================================\n  \n\t  getTranslate: function ($el) {\n\t\tvar domRect;\n  \n\t\tif (!$el || !$el.length) {\n\t\t  return false;\n\t\t}\n  \n\t\tdomRect = $el[0].getBoundingClientRect();\n  \n\t\treturn {\n\t\t  top: domRect.top || 0,\n\t\t  left: domRect.left || 0,\n\t\t  width: domRect.width,\n\t\t  height: domRect.height,\n\t\t  opacity: parseFloat($el.css(\"opacity\"))\n\t\t};\n\t  },\n  \n\t  // Shortcut for setting \"translate3d\" properties for element\n\t  // Can set be used to set opacity, too\n\t  // ========================================================\n  \n\t  setTranslate: function ($el, props) {\n\t\tvar str = \"\",\n\t\t  css = {};\n  \n\t\tif (!$el || !props) {\n\t\t  return;\n\t\t}\n  \n\t\tif (props.left !== undefined || props.top !== undefined) {\n\t\t  str =\n\t\t\t(props.left === undefined ? $el.position().left : props.left) +\n\t\t\t\"px, \" +\n\t\t\t(props.top === undefined ? $el.position().top : props.top) +\n\t\t\t\"px\";\n  \n\t\t  if (this.use3d) {\n\t\t\tstr = \"translate3d(\" + str + \", 0px)\";\n\t\t  } else {\n\t\t\tstr = \"translate(\" + str + \")\";\n\t\t  }\n\t\t}\n  \n\t\tif (props.scaleX !== undefined && props.scaleY !== undefined) {\n\t\t  str += \" scale(\" + props.scaleX + \", \" + props.scaleY + \")\";\n\t\t} else if (props.scaleX !== undefined) {\n\t\t  str += \" scaleX(\" + props.scaleX + \")\";\n\t\t}\n  \n\t\tif (str.length) {\n\t\t  css.transform = str;\n\t\t}\n  \n\t\tif (props.opacity !== undefined) {\n\t\t  css.opacity = props.opacity;\n\t\t}\n  \n\t\tif (props.width !== undefined) {\n\t\t  css.width = props.width;\n\t\t}\n  \n\t\tif (props.height !== undefined) {\n\t\t  css.height = props.height;\n\t\t}\n  \n\t\treturn $el.css(css);\n\t  },\n  \n\t  // Simple CSS transition handler\n\t  // =============================\n  \n\t  animate: function ($el, to, duration, callback, leaveAnimationName) {\n\t\tvar self = this,\n\t\t  from;\n  \n\t\tif ($.isFunction(duration)) {\n\t\t  callback = duration;\n\t\t  duration = null;\n\t\t}\n  \n\t\tself.stop($el);\n  \n\t\tfrom = self.getTranslate($el);\n  \n\t\t$el.on(transitionEnd, function (e) {\n\t\t  // Skip events from child elements and z-index change\n\t\t  if (e && e.originalEvent && (!$el.is(e.originalEvent.target) || e.originalEvent.propertyName == \"z-index\")) {\n\t\t\treturn;\n\t\t  }\n  \n\t\t  self.stop($el);\n  \n\t\t  if ($.isNumeric(duration)) {\n\t\t\t$el.css(\"transition-duration\", \"\");\n\t\t  }\n  \n\t\t  if ($.isPlainObject(to)) {\n\t\t\tif (to.scaleX !== undefined && to.scaleY !== undefined) {\n\t\t\t  self.setTranslate($el, {\n\t\t\t\ttop: to.top,\n\t\t\t\tleft: to.left,\n\t\t\t\twidth: from.width * to.scaleX,\n\t\t\t\theight: from.height * to.scaleY,\n\t\t\t\tscaleX: 1,\n\t\t\t\tscaleY: 1\n\t\t\t  });\n\t\t\t}\n\t\t  } else if (leaveAnimationName !== true) {\n\t\t\t$el.removeClass(to);\n\t\t  }\n  \n\t\t  if ($.isFunction(callback)) {\n\t\t\tcallback(e);\n\t\t  }\n\t\t});\n  \n\t\tif ($.isNumeric(duration)) {\n\t\t  $el.css(\"transition-duration\", duration + \"ms\");\n\t\t}\n  \n\t\t// Start animation by changing CSS properties or class name\n\t\tif ($.isPlainObject(to)) {\n\t\t  if (to.scaleX !== undefined && to.scaleY !== undefined) {\n\t\t\tdelete to.width;\n\t\t\tdelete to.height;\n  \n\t\t\tif ($el.parent().hasClass(\"fancybox-slide--image\")) {\n\t\t\t  $el.parent().addClass(\"fancybox-is-scaling\");\n\t\t\t}\n\t\t  }\n  \n\t\t  $.fancybox.setTranslate($el, to);\n\t\t} else {\n\t\t  $el.addClass(to);\n\t\t}\n  \n\t\t// Make sure that `transitionend` callback gets fired\n\t\t$el.data(\n\t\t  \"timer\",\n\t\t  setTimeout(function () {\n\t\t\t$el.trigger(transitionEnd);\n\t\t  }, duration + 33)\n\t\t);\n\t  },\n  \n\t  stop: function ($el, callCallback) {\n\t\tif ($el && $el.length) {\n\t\t  clearTimeout($el.data(\"timer\"));\n  \n\t\t  if (callCallback) {\n\t\t\t$el.trigger(transitionEnd);\n\t\t  }\n  \n\t\t  $el.off(transitionEnd).css(\"transition-duration\", \"\");\n  \n\t\t  $el.parent().removeClass(\"fancybox-is-scaling\");\n\t\t}\n\t  }\n\t};\n  \n\t// Default click handler for \"fancyboxed\" links\n\t// ============================================\n  \n\tfunction _run(e, opts) {\n\t  var items = [],\n\t\tindex = 0,\n\t\t$target,\n\t\tvalue,\n\t\tinstance;\n  \n\t  // Avoid opening multiple times\n\t  if (e && e.isDefaultPrevented()) {\n\t\treturn;\n\t  }\n  \n\t  e.preventDefault();\n  \n\t  opts = opts || {};\n  \n\t  if (e && e.data) {\n\t\topts = mergeOpts(e.data.options, opts);\n\t  }\n  \n\t  $target = opts.$target || $(e.currentTarget).trigger(\"blur\");\n\t  instance = $.fancybox.getInstance();\n  \n\t  if (instance && instance.$trigger && instance.$trigger.is($target)) {\n\t\treturn;\n\t  }\n  \n\t  if (opts.selector) {\n\t\titems = $(opts.selector);\n\t  } else {\n\t\t// Get all related items and find index for clicked one\n\t\tvalue = $target.attr(\"data-fancybox\") || \"\";\n  \n\t\tif (value) {\n\t\t  items = e.data ? e.data.items : [];\n\t\t  items = items.length ? items.filter('[data-fancybox=\"' + value + '\"]') : $('[data-fancybox=\"' + value + '\"]');\n\t\t} else {\n\t\t  items = [$target];\n\t\t}\n\t  }\n  \n\t  index = $(items).index($target);\n  \n\t  // Sometimes current item can not be found\n\t  if (index < 0) {\n\t\tindex = 0;\n\t  }\n  \n\t  instance = $.fancybox.open(items, opts, index);\n  \n\t  // Save last active element\n\t  instance.$trigger = $target;\n\t}\n  \n\t// Create a jQuery plugin\n\t// ======================\n  \n\t$.fn.fancybox = function (options) {\n\t  var selector;\n  \n\t  options = options || {};\n\t  selector = options.selector || false;\n  \n\t  if (selector) {\n\t\t// Use body element instead of document so it executes first\n\t\t$(\"body\")\n\t\t  .off(\"click.fb-start\", selector)\n\t\t  .on(\"click.fb-start\", selector, {\n\t\t\toptions: options\n\t\t  }, _run);\n\t  } else {\n\t\tthis.off(\"click.fb-start\").on(\n\t\t  \"click.fb-start\", {\n\t\t\titems: this,\n\t\t\toptions: options\n\t\t  },\n\t\t  _run\n\t\t);\n\t  }\n  \n\t  return this;\n\t};\n  \n\t// Self initializing plugin for all elements having `data-fancybox` attribute\n\t// ==========================================================================\n  \n\t$D.on(\"click.fb-start\", \"[data-fancybox]\", _run);\n  \n\t// Enable \"trigger elements\"\n\t// =========================\n  \n\t$D.on(\"click.fb-start\", \"[data-fancybox-trigger]\", function (e) {\n\t  $('[data-fancybox=\"' + $(this).attr(\"data-fancybox-trigger\") + '\"]')\n\t\t.eq($(this).attr(\"data-fancybox-index\") || 0)\n\t\t.trigger(\"click.fb-start\", {\n\t\t  $trigger: $(this)\n\t\t});\n\t});\n  \n\t// Track focus event for better accessibility styling\n\t// ==================================================\n\t(function () {\n\t  var buttonStr = \".fancybox-button\",\n\t\tfocusStr = \"fancybox-focus\",\n\t\t$pressed = null;\n  \n\t  $D.on(\"mousedown mouseup focus blur\", buttonStr, function (e) {\n\t\tswitch (e.type) {\n\t\t  case \"mousedown\":\n\t\t\t$pressed = $(this);\n\t\t\tbreak;\n\t\t  case \"mouseup\":\n\t\t\t$pressed = null;\n\t\t\tbreak;\n\t\t  case \"focusin\":\n\t\t\t$(buttonStr).removeClass(focusStr);\n  \n\t\t\tif (!$(this).is($pressed) && !$(this).is(\"[disabled]\")) {\n\t\t\t  $(this).addClass(focusStr);\n\t\t\t}\n\t\t\tbreak;\n\t\t  case \"focusout\":\n\t\t\t$(buttonStr).removeClass(focusStr);\n\t\t\tbreak;\n\t\t}\n\t  });\n\t})();\n  })(window, document, jQuery);\n  // ==========================================================================\n  //\n  // Media\n  // Adds additional media type support\n  //\n  // ==========================================================================\n  (function ($) {\n\t\"use strict\";\n  \n\t// Object containing properties for each media type\n\tvar defaults = {\n\t  youtube: {\n\t\tmatcher: /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\n\t\tparams: {\n\t\t  autoplay: 1,\n\t\t  autohide: 1,\n\t\t  fs: 1,\n\t\t  rel: 0,\n\t\t  hd: 1,\n\t\t  wmode: \"transparent\",\n\t\t  enablejsapi: 1,\n\t\t  html5: 1\n\t\t},\n\t\tparamPlace: 8,\n\t\ttype: \"iframe\",\n\t\turl: \"https://www.youtube-nocookie.com/embed/$4\",\n\t\tthumb: \"https://img.youtube.com/vi/$4/hqdefault.jpg\"\n\t  },\n  \n\t  vimeo: {\n\t\tmatcher: /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\n\t\tparams: {\n\t\t  autoplay: 1,\n\t\t  hd: 1,\n\t\t  show_title: 1,\n\t\t  show_byline: 1,\n\t\t  show_portrait: 0,\n\t\t  fullscreen: 1\n\t\t},\n\t\tparamPlace: 3,\n\t\ttype: \"iframe\",\n\t\turl: \"//player.vimeo.com/video/$2\"\n\t  },\n  \n\t  instagram: {\n\t\tmatcher: /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\n\t\ttype: \"image\",\n\t\turl: \"//$1/p/$2/media/?size=l\"\n\t  },\n  \n\t  // Examples:\n\t  // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\n\t  // https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\n\t  // https://www.google.com/maps/@52.2111123,2.9237542,6.61z?hl=en\n\t  // https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\n\t  gmap_place: {\n\t\tmatcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\n\t\ttype: \"iframe\",\n\t\turl: function (rez) {\n\t\t  return (\n\t\t\t\"//maps.google.\" +\n\t\t\trez[2] +\n\t\t\t\"/?ll=\" +\n\t\t\t(rez[9] ? rez[9] + \"&z=\" + Math.floor(rez[10]) + (rez[12] ? rez[12].replace(/^\\//, \"&\") : \"\") : rez[12] + \"\").replace(/\\?/, \"&\") +\n\t\t\t\"&output=\" +\n\t\t\t(rez[12] && rez[12].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\")\n\t\t  );\n\t\t}\n\t  },\n  \n\t  // Examples:\n\t  // https://www.google.com/maps/search/Empire+State+Building/\n\t  // https://www.google.com/maps/search/?api=1&query=centurylink+field\n\t  // https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\n\t  gmap_search: {\n\t\tmatcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\n\t\ttype: \"iframe\",\n\t\turl: function (rez) {\n\t\t  return \"//maps.google.\" + rez[2] + \"/maps?q=\" + rez[5].replace(\"query=\", \"q=\").replace(\"api=1\", \"\") + \"&output=embed\";\n\t\t}\n\t  }\n\t};\n  \n\t// Formats matching url to final form\n\tvar format = function (url, rez, params) {\n\t  if (!url) {\n\t\treturn;\n\t  }\n  \n\t  params = params || \"\";\n  \n\t  if ($.type(params) === \"object\") {\n\t\tparams = $.param(params, true);\n\t  }\n  \n\t  $.each(rez, function (key, value) {\n\t\turl = url.replace(\"$\" + key, value || \"\");\n\t  });\n  \n\t  if (params.length) {\n\t\turl += (url.indexOf(\"?\") > 0 ? \"&\" : \"?\") + params;\n\t  }\n  \n\t  return url;\n\t};\n  \n\t$(document).on(\"objectNeedsType.fb\", function (e, instance, item) {\n\t  var url = item.src || \"\",\n\t\ttype = false,\n\t\tmedia,\n\t\tthumb,\n\t\trez,\n\t\tparams,\n\t\turlParams,\n\t\tparamObj,\n\t\tprovider;\n  \n\t  media = $.extend(true, {}, defaults, item.opts.media);\n  \n\t  // Look for any matching media type\n\t  $.each(media, function (providerName, providerOpts) {\n\t\trez = url.match(providerOpts.matcher);\n  \n\t\tif (!rez) {\n\t\t  return;\n\t\t}\n  \n\t\ttype = providerOpts.type;\n\t\tprovider = providerName;\n\t\tparamObj = {};\n  \n\t\tif (providerOpts.paramPlace && rez[providerOpts.paramPlace]) {\n\t\t  urlParams = rez[providerOpts.paramPlace];\n  \n\t\t  if (urlParams[0] == \"?\") {\n\t\t\turlParams = urlParams.substring(1);\n\t\t  }\n  \n\t\t  urlParams = urlParams.split(\"&\");\n  \n\t\t  for (var m = 0; m < urlParams.length; ++m) {\n\t\t\tvar p = urlParams[m].split(\"=\", 2);\n  \n\t\t\tif (p.length == 2) {\n\t\t\t  paramObj[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n\t\t\t}\n\t\t  }\n\t\t}\n  \n\t\tparams = $.extend(true, {}, providerOpts.params, item.opts[providerName], paramObj);\n  \n\t\turl =\n\t\t  $.type(providerOpts.url) === \"function\" ? providerOpts.url.call(this, rez, params, item) : format(providerOpts.url, rez, params);\n  \n\t\tthumb =\n\t\t  $.type(providerOpts.thumb) === \"function\" ? providerOpts.thumb.call(this, rez, params, item) : format(providerOpts.thumb, rez);\n  \n\t\tif (providerName === \"youtube\") {\n\t\t  url = url.replace(/&t=((\\d+)m)?(\\d+)s/, function (match, p1, m, s) {\n\t\t\treturn \"&start=\" + ((m ? parseInt(m, 10) * 60 : 0) + parseInt(s, 10));\n\t\t  });\n\t\t} else if (providerName === \"vimeo\") {\n\t\t  url = url.replace(\"&%23\", \"#\");\n\t\t}\n  \n\t\treturn false;\n\t  });\n  \n\t  // If it is found, then change content type and update the url\n  \n\t  if (type) {\n\t\tif (!item.opts.thumb && !(item.opts.$thumb && item.opts.$thumb.length)) {\n\t\t  item.opts.thumb = thumb;\n\t\t}\n  \n\t\tif (type === \"iframe\") {\n\t\t  item.opts = $.extend(true, item.opts, {\n\t\t\tiframe: {\n\t\t\t  preload: false,\n\t\t\t  attr: {\n\t\t\t\tscrolling: \"no\"\n\t\t\t  }\n\t\t\t}\n\t\t  });\n\t\t}\n  \n\t\t$.extend(item, {\n\t\t  type: type,\n\t\t  src: url,\n\t\t  origSrc: item.src,\n\t\t  contentSource: provider,\n\t\t  contentType: type === \"image\" ? \"image\" : provider == \"gmap_place\" || provider == \"gmap_search\" ? \"map\" : \"video\"\n\t\t});\n\t  } else if (url) {\n\t\titem.type = item.opts.defaultType;\n\t  }\n\t});\n  \n\t// Load YouTube/Video API on request to detect when video finished playing\n\tvar VideoAPILoader = {\n\t  youtube: {\n\t\tsrc: \"https://www.youtube.com/iframe_api\",\n\t\tclass: \"YT\",\n\t\tloading: false,\n\t\tloaded: false\n\t  },\n  \n\t  vimeo: {\n\t\tsrc: \"https://player.vimeo.com/api/player.js\",\n\t\tclass: \"Vimeo\",\n\t\tloading: false,\n\t\tloaded: false\n\t  },\n  \n\t  load: function (vendor) {\n\t\tvar _this = this,\n\t\t  script;\n  \n\t\tif (this[vendor].loaded) {\n\t\t  setTimeout(function () {\n\t\t\t_this.done(vendor);\n\t\t  });\n\t\t  return;\n\t\t}\n  \n\t\tif (this[vendor].loading) {\n\t\t  return;\n\t\t}\n  \n\t\tthis[vendor].loading = true;\n  \n\t\tscript = document.createElement(\"script\");\n\t\tscript.type = \"text/javascript\";\n\t\tscript.src = this[vendor].src;\n  \n\t\tif (vendor === \"youtube\") {\n\t\t  window.onYouTubeIframeAPIReady = function () {\n\t\t\t_this[vendor].loaded = true;\n\t\t\t_this.done(vendor);\n\t\t  };\n\t\t} else {\n\t\t  script.onload = function () {\n\t\t\t_this[vendor].loaded = true;\n\t\t\t_this.done(vendor);\n\t\t  };\n\t\t}\n  \n\t\tdocument.body.appendChild(script);\n\t  },\n\t  done: function (vendor) {\n\t\tvar instance, $el, player;\n  \n\t\tif (vendor === \"youtube\") {\n\t\t  delete window.onYouTubeIframeAPIReady;\n\t\t}\n  \n\t\tinstance = $.fancybox.getInstance();\n  \n\t\tif (instance) {\n\t\t  $el = instance.current.$content.find(\"iframe\");\n  \n\t\t  if (vendor === \"youtube\" && YT !== undefined && YT) {\n\t\t\tplayer = new YT.Player($el.attr(\"id\"), {\n\t\t\t  events: {\n\t\t\t\tonStateChange: function (e) {\n\t\t\t\t  if (e.data == 0) {\n\t\t\t\t\tinstance.next();\n\t\t\t\t  }\n\t\t\t\t}\n\t\t\t  }\n\t\t\t});\n\t\t  } else if (vendor === \"vimeo\" && Vimeo !== undefined && Vimeo) {\n\t\t\tplayer = new Vimeo.Player($el);\n  \n\t\t\tplayer.on(\"ended\", function () {\n\t\t\t  instance.next();\n\t\t\t});\n\t\t  }\n\t\t}\n\t  }\n\t};\n  \n\t$(document).on({\n\t  \"afterShow.fb\": function (e, instance, current) {\n\t\tif (instance.group.length > 1 && (current.contentSource === \"youtube\" || current.contentSource === \"vimeo\")) {\n\t\t  VideoAPILoader.load(current.contentSource);\n\t\t}\n\t  }\n\t});\n  })(jQuery);\n  // ==========================================================================\n  //\n  // Guestures\n  // Adds touch guestures, handles click and tap events\n  //\n  // ==========================================================================\n  (function (window, document, $) {\n\t\"use strict\";\n  \n\tvar requestAFrame = (function () {\n\t  return (\n\t\twindow.requestAnimationFrame ||\n\t\twindow.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame ||\n\t\twindow.oRequestAnimationFrame ||\n\t\t// if all else fails, use setTimeout\n\t\tfunction (callback) {\n\t\t  return window.setTimeout(callback, 1000 / 60);\n\t\t}\n\t  );\n\t})();\n  \n\tvar cancelAFrame = (function () {\n\t  return (\n\t\twindow.cancelAnimationFrame ||\n\t\twindow.webkitCancelAnimationFrame ||\n\t\twindow.mozCancelAnimationFrame ||\n\t\twindow.oCancelAnimationFrame ||\n\t\tfunction (id) {\n\t\t  window.clearTimeout(id);\n\t\t}\n\t  );\n\t})();\n  \n\tvar getPointerXY = function (e) {\n\t  var result = [];\n  \n\t  e = e.originalEvent || e || window.e;\n\t  e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e];\n  \n\t  for (var key in e) {\n\t\tif (e[key].pageX) {\n\t\t  result.push({\n\t\t\tx: e[key].pageX,\n\t\t\ty: e[key].pageY\n\t\t  });\n\t\t} else if (e[key].clientX) {\n\t\t  result.push({\n\t\t\tx: e[key].clientX,\n\t\t\ty: e[key].clientY\n\t\t  });\n\t\t}\n\t  }\n  \n\t  return result;\n\t};\n  \n\tvar distance = function (point2, point1, what) {\n\t  if (!point1 || !point2) {\n\t\treturn 0;\n\t  }\n  \n\t  if (what === \"x\") {\n\t\treturn point2.x - point1.x;\n\t  } else if (what === \"y\") {\n\t\treturn point2.y - point1.y;\n\t  }\n  \n\t  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n\t};\n  \n\tvar isClickable = function ($el) {\n\t  if (\n\t\t$el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio,iframe') ||\n\t\t$.isFunction($el.get(0).onclick) ||\n\t\t$el.data(\"selectable\")\n\t  ) {\n\t\treturn true;\n\t  }\n  \n\t  // Check for attributes like data-fancybox-next or data-fancybox-close\n\t  for (var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++) {\n\t\tif (atts[i].nodeName.substr(0, 14) === \"data-fancybox-\") {\n\t\t  return true;\n\t\t}\n\t  }\n  \n\t  return false;\n\t};\n  \n\tvar hasScrollbars = function (el) {\n\t  var overflowY = window.getComputedStyle(el)[\"overflow-y\"],\n\t\toverflowX = window.getComputedStyle(el)[\"overflow-x\"],\n\t\tvertical = (overflowY === \"scroll\" || overflowY === \"auto\") && el.scrollHeight > el.clientHeight,\n\t\thorizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && el.scrollWidth > el.clientWidth;\n  \n\t  return vertical || horizontal;\n\t};\n  \n\tvar isScrollable = function ($el) {\n\t  var rez = false;\n  \n\t  while (true) {\n\t\trez = hasScrollbars($el.get(0));\n  \n\t\tif (rez) {\n\t\t  break;\n\t\t}\n  \n\t\t$el = $el.parent();\n  \n\t\tif (!$el.length || $el.hasClass(\"fancybox-stage\") || $el.is(\"body\")) {\n\t\t  break;\n\t\t}\n\t  }\n  \n\t  return rez;\n\t};\n  \n\tvar Guestures = function (instance) {\n\t  var self = this;\n  \n\t  self.instance = instance;\n  \n\t  self.$bg = instance.$refs.bg;\n\t  self.$stage = instance.$refs.stage;\n\t  self.$container = instance.$refs.container;\n  \n\t  self.destroy();\n  \n\t  self.$container.on(\"touchstart.fb.touch mousedown.fb.touch\", $.proxy(self, \"ontouchstart\"));\n\t};\n  \n\tGuestures.prototype.destroy = function () {\n\t  var self = this;\n  \n\t  self.$container.off(\".fb.touch\");\n  \n\t  $(document).off(\".fb.touch\");\n  \n\t  if (self.requestId) {\n\t\tcancelAFrame(self.requestId);\n\t\tself.requestId = null;\n\t  }\n  \n\t  if (self.tapped) {\n\t\tclearTimeout(self.tapped);\n\t\tself.tapped = null;\n\t  }\n\t};\n  \n\tGuestures.prototype.ontouchstart = function (e) {\n\t  var self = this,\n\t\t$target = $(e.target),\n\t\tinstance = self.instance,\n\t\tcurrent = instance.current,\n\t\t$slide = current.$slide,\n\t\t$content = current.$content,\n\t\tisTouchDevice = e.type == \"touchstart\";\n  \n\t  // Do not respond to both (touch and mouse) events\n\t  if (isTouchDevice) {\n\t\tself.$container.off(\"mousedown.fb.touch\");\n\t  }\n  \n\t  // Ignore right click\n\t  if (e.originalEvent && e.originalEvent.button == 2) {\n\t\treturn;\n\t  }\n  \n\t  // Ignore taping on links, buttons, input elements\n\t  if (!$slide.length || !$target.length || isClickable($target) || isClickable($target.parent())) {\n\t\treturn;\n\t  }\n\t  // Ignore clicks on the scrollbar\n\t  if (!$target.is(\"img\") && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left) {\n\t\treturn;\n\t  }\n  \n\t  // Ignore clicks while zooming or closing\n\t  if (!current || instance.isAnimating || current.$slide.hasClass(\"fancybox-animated\")) {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n  \n\t\treturn;\n\t  }\n  \n\t  self.realPoints = self.startPoints = getPointerXY(e);\n  \n\t  if (!self.startPoints.length) {\n\t\treturn;\n\t  }\n  \n\t  // Allow other scripts to catch touch event if \"touch\" is set to false\n\t  if (current.touch) {\n\t\te.stopPropagation();\n\t  }\n  \n\t  self.startEvent = e;\n  \n\t  self.canTap = true;\n\t  self.$target = $target;\n\t  self.$content = $content;\n\t  self.opts = current.opts.touch;\n  \n\t  self.isPanning = false;\n\t  self.isSwiping = false;\n\t  self.isZooming = false;\n\t  self.isScrolling = false;\n\t  self.canPan = instance.canPan();\n  \n\t  self.startTime = new Date().getTime();\n\t  self.distanceX = self.distanceY = self.distance = 0;\n  \n\t  self.canvasWidth = Math.round($slide[0].clientWidth);\n\t  self.canvasHeight = Math.round($slide[0].clientHeight);\n  \n\t  self.contentLastPos = null;\n\t  self.contentStartPos = $.fancybox.getTranslate(self.$content) || {\n\t\ttop: 0,\n\t\tleft: 0\n\t  };\n\t  self.sliderStartPos = $.fancybox.getTranslate($slide);\n  \n\t  // Since position will be absolute, but we need to make it relative to the stage\n\t  self.stagePos = $.fancybox.getTranslate(instance.$refs.stage);\n  \n\t  self.sliderStartPos.top -= self.stagePos.top;\n\t  self.sliderStartPos.left -= self.stagePos.left;\n  \n\t  self.contentStartPos.top -= self.stagePos.top;\n\t  self.contentStartPos.left -= self.stagePos.left;\n  \n\t  $(document)\n\t\t.off(\".fb.touch\")\n\t\t.on(isTouchDevice ? \"touchend.fb.touch touchcancel.fb.touch\" : \"mouseup.fb.touch mouseleave.fb.touch\", $.proxy(self, \"ontouchend\"))\n\t\t.on(isTouchDevice ? \"touchmove.fb.touch\" : \"mousemove.fb.touch\", $.proxy(self, \"ontouchmove\"));\n  \n\t  if ($.fancybox.isMobile) {\n\t\tdocument.addEventListener(\"scroll\", self.onscroll, true);\n\t  }\n  \n\t  // Skip if clicked outside the sliding area\n\t  if (!(self.opts || self.canPan) || !($target.is(self.$stage) || self.$stage.find($target).length)) {\n\t\tif ($target.is(\".fancybox-image\")) {\n\t\t  e.preventDefault();\n\t\t}\n  \n\t\tif (!($.fancybox.isMobile && $target.parents(\".fancybox-caption\").length)) {\n\t\t  return;\n\t\t}\n\t  }\n  \n\t  self.isScrollable = isScrollable($target) || isScrollable($target.parent());\n  \n\t  // Check if element is scrollable and try to prevent default behavior (scrolling)\n\t  if (!($.fancybox.isMobile && self.isScrollable)) {\n\t\te.preventDefault();\n\t  }\n  \n\t  // One finger or mouse click - swipe or pan an image\n\t  if (self.startPoints.length === 1 || current.hasError) {\n\t\tif (self.canPan) {\n\t\t  $.fancybox.stop(self.$content);\n  \n\t\t  self.isPanning = true;\n\t\t} else {\n\t\t  self.isSwiping = true;\n\t\t}\n  \n\t\tself.$container.addClass(\"fancybox-is-grabbing\");\n\t  }\n  \n\t  // Two fingers - zoom image\n\t  if (self.startPoints.length === 2 && current.type === \"image\" && (current.isLoaded || current.$ghost)) {\n\t\tself.canTap = false;\n\t\tself.isSwiping = false;\n\t\tself.isPanning = false;\n  \n\t\tself.isZooming = true;\n  \n\t\t$.fancybox.stop(self.$content);\n  \n\t\tself.centerPointStartX = (self.startPoints[0].x + self.startPoints[1].x) * 0.5 - $(window).scrollLeft();\n\t\tself.centerPointStartY = (self.startPoints[0].y + self.startPoints[1].y) * 0.5 - $(window).scrollTop();\n  \n\t\tself.percentageOfImageAtPinchPointX = (self.centerPointStartX - self.contentStartPos.left) / self.contentStartPos.width;\n\t\tself.percentageOfImageAtPinchPointY = (self.centerPointStartY - self.contentStartPos.top) / self.contentStartPos.height;\n  \n\t\tself.startDistanceBetweenFingers = distance(self.startPoints[0], self.startPoints[1]);\n\t  }\n\t};\n  \n\tGuestures.prototype.onscroll = function (e) {\n\t  var self = this;\n  \n\t  self.isScrolling = true;\n  \n\t  document.removeEventListener(\"scroll\", self.onscroll, true);\n\t};\n  \n\tGuestures.prototype.ontouchmove = function (e) {\n\t  var self = this;\n  \n\t  // Make sure user has not released over iframe or disabled element\n\t  if (e.originalEvent.buttons !== undefined && e.originalEvent.buttons === 0) {\n\t\tself.ontouchend(e);\n\t\treturn;\n\t  }\n  \n\t  if (self.isScrolling) {\n\t\tself.canTap = false;\n\t\treturn;\n\t  }\n  \n\t  self.newPoints = getPointerXY(e);\n  \n\t  if (!(self.opts || self.canPan) || !self.newPoints.length || !self.newPoints.length) {\n\t\treturn;\n\t  }\n  \n\t  if (!(self.isSwiping && self.isSwiping === true)) {\n\t\te.preventDefault();\n\t  }\n  \n\t  self.distanceX = distance(self.newPoints[0], self.startPoints[0], \"x\");\n\t  self.distanceY = distance(self.newPoints[0], self.startPoints[0], \"y\");\n  \n\t  self.distance = distance(self.newPoints[0], self.startPoints[0]);\n  \n\t  // Skip false ontouchmove events (Chrome)\n\t  if (self.distance > 0) {\n\t\tif (self.isSwiping) {\n\t\t  self.onSwipe(e);\n\t\t} else if (self.isPanning) {\n\t\t  self.onPan();\n\t\t} else if (self.isZooming) {\n\t\t  self.onZoom();\n\t\t}\n\t  }\n\t};\n  \n\tGuestures.prototype.onSwipe = function (e) {\n\t  var self = this,\n\t\tinstance = self.instance,\n\t\tswiping = self.isSwiping,\n\t\tleft = self.sliderStartPos.left || 0,\n\t\tangle;\n  \n\t  // If direction is not yet determined\n\t  if (swiping === true) {\n\t\t// We need at least 10px distance to correctly calculate an angle\n\t\tif (Math.abs(self.distance) > 10) {\n\t\t  self.canTap = false;\n  \n\t\t  if (instance.group.length < 2 && self.opts.vertical) {\n\t\t\tself.isSwiping = \"y\";\n\t\t  } else if (instance.isDragging || self.opts.vertical === false || (self.opts.vertical === \"auto\" && $(window).width() > 800)) {\n\t\t\tself.isSwiping = \"x\";\n\t\t  } else {\n\t\t\tangle = Math.abs((Math.atan2(self.distanceY, self.distanceX) * 180) / Math.PI);\n  \n\t\t\tself.isSwiping = angle > 45 && angle < 135 ? \"y\" : \"x\";\n\t\t  }\n  \n\t\t  if (self.isSwiping === \"y\" && $.fancybox.isMobile && self.isScrollable) {\n\t\t\tself.isScrolling = true;\n  \n\t\t\treturn;\n\t\t  }\n  \n\t\t  instance.isDragging = self.isSwiping;\n  \n\t\t  // Reset points to avoid jumping, because we dropped first swipes to calculate the angle\n\t\t  self.startPoints = self.newPoints;\n  \n\t\t  $.each(instance.slides, function (index, slide) {\n\t\t\tvar slidePos, stagePos;\n  \n\t\t\t$.fancybox.stop(slide.$slide);\n  \n\t\t\tslidePos = $.fancybox.getTranslate(slide.$slide);\n\t\t\tstagePos = $.fancybox.getTranslate(instance.$refs.stage);\n  \n\t\t\tslide.$slide\n\t\t\t  .css({\n\t\t\t\ttransform: \"\",\n\t\t\t\topacity: \"\",\n\t\t\t\t\"transition-duration\": \"\"\n\t\t\t  })\n\t\t\t  .removeClass(\"fancybox-animated\")\n\t\t\t  .removeClass(function (index, className) {\n\t\t\t\treturn (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\n\t\t\t  });\n  \n\t\t\tif (slide.pos === instance.current.pos) {\n\t\t\t  self.sliderStartPos.top = slidePos.top - stagePos.top;\n\t\t\t  self.sliderStartPos.left = slidePos.left - stagePos.left;\n\t\t\t}\n  \n\t\t\t$.fancybox.setTranslate(slide.$slide, {\n\t\t\t  top: slidePos.top - stagePos.top,\n\t\t\t  left: slidePos.left - stagePos.left\n\t\t\t});\n\t\t  });\n  \n\t\t  // Stop slideshow\n\t\t  if (instance.SlideShow && instance.SlideShow.isActive) {\n\t\t\tinstance.SlideShow.stop();\n\t\t  }\n\t\t}\n  \n\t\treturn;\n\t  }\n  \n\t  // Sticky edges\n\t  if (swiping == \"x\") {\n\t\tif (\n\t\t  self.distanceX > 0 &&\n\t\t  (self.instance.group.length < 2 || (self.instance.current.index === 0 && !self.instance.current.opts.loop))\n\t\t) {\n\t\t  left = left + Math.pow(self.distanceX, 0.8);\n\t\t} else if (\n\t\t  self.distanceX < 0 &&\n\t\t  (self.instance.group.length < 2 ||\n\t\t\t(self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop))\n\t\t) {\n\t\t  left = left - Math.pow(-self.distanceX, 0.8);\n\t\t} else {\n\t\t  left = left + self.distanceX;\n\t\t}\n\t  }\n  \n\t  self.sliderLastPos = {\n\t\ttop: swiping == \"x\" ? 0 : self.sliderStartPos.top + self.distanceY,\n\t\tleft: left\n\t  };\n  \n\t  if (self.requestId) {\n\t\tcancelAFrame(self.requestId);\n  \n\t\tself.requestId = null;\n\t  }\n  \n\t  self.requestId = requestAFrame(function () {\n\t\tif (self.sliderLastPos) {\n\t\t  $.each(self.instance.slides, function (index, slide) {\n\t\t\tvar pos = slide.pos - self.instance.currPos;\n  \n\t\t\t$.fancybox.setTranslate(slide.$slide, {\n\t\t\t  top: self.sliderLastPos.top,\n\t\t\t  left: self.sliderLastPos.left + pos * self.canvasWidth + pos * slide.opts.gutter\n\t\t\t});\n\t\t  });\n  \n\t\t  self.$container.addClass(\"fancybox-is-sliding\");\n\t\t}\n\t  });\n\t};\n  \n\tGuestures.prototype.onPan = function () {\n\t  var self = this;\n  \n\t  // Prevent accidental movement (sometimes, when tapping casually, finger can move a bit)\n\t  if (distance(self.newPoints[0], self.realPoints[0]) < ($.fancybox.isMobile ? 10 : 5)) {\n\t\tself.startPoints = self.newPoints;\n\t\treturn;\n\t  }\n  \n\t  self.canTap = false;\n  \n\t  self.contentLastPos = self.limitMovement();\n  \n\t  if (self.requestId) {\n\t\tcancelAFrame(self.requestId);\n\t  }\n  \n\t  self.requestId = requestAFrame(function () {\n\t\t$.fancybox.setTranslate(self.$content, self.contentLastPos);\n\t  });\n\t};\n  \n\t// Make panning sticky to the edges\n\tGuestures.prototype.limitMovement = function () {\n\t  var self = this;\n  \n\t  var canvasWidth = self.canvasWidth;\n\t  var canvasHeight = self.canvasHeight;\n  \n\t  var distanceX = self.distanceX;\n\t  var distanceY = self.distanceY;\n  \n\t  var contentStartPos = self.contentStartPos;\n  \n\t  var currentOffsetX = contentStartPos.left;\n\t  var currentOffsetY = contentStartPos.top;\n  \n\t  var currentWidth = contentStartPos.width;\n\t  var currentHeight = contentStartPos.height;\n  \n\t  var minTranslateX, minTranslateY, maxTranslateX, maxTranslateY, newOffsetX, newOffsetY;\n  \n\t  if (currentWidth > canvasWidth) {\n\t\tnewOffsetX = currentOffsetX + distanceX;\n\t  } else {\n\t\tnewOffsetX = currentOffsetX;\n\t  }\n  \n\t  newOffsetY = currentOffsetY + distanceY;\n  \n\t  // Slow down proportionally to traveled distance\n\t  minTranslateX = Math.max(0, canvasWidth * 0.5 - currentWidth * 0.5);\n\t  minTranslateY = Math.max(0, canvasHeight * 0.5 - currentHeight * 0.5);\n  \n\t  maxTranslateX = Math.min(canvasWidth - currentWidth, canvasWidth * 0.5 - currentWidth * 0.5);\n\t  maxTranslateY = Math.min(canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5);\n  \n\t  //   ->\n\t  if (distanceX > 0 && newOffsetX > minTranslateX) {\n\t\tnewOffsetX = minTranslateX - 1 + Math.pow(-minTranslateX + currentOffsetX + distanceX, 0.8) || 0;\n\t  }\n  \n\t  //    <-\n\t  if (distanceX < 0 && newOffsetX < maxTranslateX) {\n\t\tnewOffsetX = maxTranslateX + 1 - Math.pow(maxTranslateX - currentOffsetX - distanceX, 0.8) || 0;\n\t  }\n  \n\t  //   \\/\n\t  if (distanceY > 0 && newOffsetY > minTranslateY) {\n\t\tnewOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8) || 0;\n\t  }\n  \n\t  //   /\\\n\t  if (distanceY < 0 && newOffsetY < maxTranslateY) {\n\t\tnewOffsetY = maxTranslateY + 1 - Math.pow(maxTranslateY - currentOffsetY - distanceY, 0.8) || 0;\n\t  }\n  \n\t  return {\n\t\ttop: newOffsetY,\n\t\tleft: newOffsetX\n\t  };\n\t};\n  \n\tGuestures.prototype.limitPosition = function (newOffsetX, newOffsetY, newWidth, newHeight) {\n\t  var self = this;\n  \n\t  var canvasWidth = self.canvasWidth;\n\t  var canvasHeight = self.canvasHeight;\n  \n\t  if (newWidth > canvasWidth) {\n\t\tnewOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\n\t\tnewOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\n\t  } else {\n\t\t// Center horizontally\n\t\tnewOffsetX = Math.max(0, canvasWidth / 2 - newWidth / 2);\n\t  }\n  \n\t  if (newHeight > canvasHeight) {\n\t\tnewOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\n\t\tnewOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\n\t  } else {\n\t\t// Center vertically\n\t\tnewOffsetY = Math.max(0, canvasHeight / 2 - newHeight / 2);\n\t  }\n  \n\t  return {\n\t\ttop: newOffsetY,\n\t\tleft: newOffsetX\n\t  };\n\t};\n  \n\tGuestures.prototype.onZoom = function () {\n\t  var self = this;\n  \n\t  // Calculate current distance between points to get pinch ratio and new width and height\n\t  var contentStartPos = self.contentStartPos;\n  \n\t  var currentWidth = contentStartPos.width;\n\t  var currentHeight = contentStartPos.height;\n  \n\t  var currentOffsetX = contentStartPos.left;\n\t  var currentOffsetY = contentStartPos.top;\n  \n\t  var endDistanceBetweenFingers = distance(self.newPoints[0], self.newPoints[1]);\n  \n\t  var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\n  \n\t  var newWidth = Math.floor(currentWidth * pinchRatio);\n\t  var newHeight = Math.floor(currentHeight * pinchRatio);\n  \n\t  // This is the translation due to pinch-zooming\n\t  var translateFromZoomingX = (currentWidth - newWidth) * self.percentageOfImageAtPinchPointX;\n\t  var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\n  \n\t  // Point between the two touches\n\t  var centerPointEndX = (self.newPoints[0].x + self.newPoints[1].x) / 2 - $(window).scrollLeft();\n\t  var centerPointEndY = (self.newPoints[0].y + self.newPoints[1].y) / 2 - $(window).scrollTop();\n  \n\t  // And this is the translation due to translation of the centerpoint\n\t  // between the two fingers\n\t  var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\n\t  var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\n  \n\t  // The new offset is the old/current one plus the total translation\n\t  var newOffsetX = currentOffsetX + (translateFromZoomingX + translateFromTranslatingX);\n\t  var newOffsetY = currentOffsetY + (translateFromZoomingY + translateFromTranslatingY);\n  \n\t  var newPos = {\n\t\ttop: newOffsetY,\n\t\tleft: newOffsetX,\n\t\tscaleX: pinchRatio,\n\t\tscaleY: pinchRatio\n\t  };\n  \n\t  self.canTap = false;\n  \n\t  self.newWidth = newWidth;\n\t  self.newHeight = newHeight;\n  \n\t  self.contentLastPos = newPos;\n  \n\t  if (self.requestId) {\n\t\tcancelAFrame(self.requestId);\n\t  }\n  \n\t  self.requestId = requestAFrame(function () {\n\t\t$.fancybox.setTranslate(self.$content, self.contentLastPos);\n\t  });\n\t};\n  \n\tGuestures.prototype.ontouchend = function (e) {\n\t  var self = this;\n  \n\t  var swiping = self.isSwiping;\n\t  var panning = self.isPanning;\n\t  var zooming = self.isZooming;\n\t  var scrolling = self.isScrolling;\n  \n\t  self.endPoints = getPointerXY(e);\n\t  self.dMs = Math.max(new Date().getTime() - self.startTime, 1);\n  \n\t  self.$container.removeClass(\"fancybox-is-grabbing\");\n  \n\t  $(document).off(\".fb.touch\");\n  \n\t  document.removeEventListener(\"scroll\", self.onscroll, true);\n  \n\t  if (self.requestId) {\n\t\tcancelAFrame(self.requestId);\n  \n\t\tself.requestId = null;\n\t  }\n  \n\t  self.isSwiping = false;\n\t  self.isPanning = false;\n\t  self.isZooming = false;\n\t  self.isScrolling = false;\n  \n\t  self.instance.isDragging = false;\n  \n\t  if (self.canTap) {\n\t\treturn self.onTap(e);\n\t  }\n  \n\t  self.speed = 100;\n  \n\t  // Speed in px/ms\n\t  self.velocityX = (self.distanceX / self.dMs) * 0.5;\n\t  self.velocityY = (self.distanceY / self.dMs) * 0.5;\n  \n\t  if (panning) {\n\t\tself.endPanning();\n\t  } else if (zooming) {\n\t\tself.endZooming();\n\t  } else {\n\t\tself.endSwiping(swiping, scrolling);\n\t  }\n  \n\t  return;\n\t};\n  \n\tGuestures.prototype.endSwiping = function (swiping, scrolling) {\n\t  var self = this,\n\t\tret = false,\n\t\tlen = self.instance.group.length,\n\t\tdistanceX = Math.abs(self.distanceX),\n\t\tcanAdvance = swiping == \"x\" && len > 1 && ((self.dMs > 130 && distanceX > 10) || distanceX > 50),\n\t\tspeedX = 300;\n  \n\t  self.sliderLastPos = null;\n  \n\t  // Close if swiped vertically / navigate if horizontally\n\t  if (swiping == \"y\" && !scrolling && Math.abs(self.distanceY) > 50) {\n\t\t// Continue vertical movement\n\t\t$.fancybox.animate(\n\t\t  self.instance.current.$slide, {\n\t\t\ttop: self.sliderStartPos.top + self.distanceY + self.velocityY * 150,\n\t\t\topacity: 0\n\t\t  },\n\t\t  200\n\t\t);\n\t\tret = self.instance.close(true, 250);\n\t  } else if (canAdvance && self.distanceX > 0) {\n\t\tret = self.instance.previous(speedX);\n\t  } else if (canAdvance && self.distanceX < 0) {\n\t\tret = self.instance.next(speedX);\n\t  }\n  \n\t  if (ret === false && (swiping == \"x\" || swiping == \"y\")) {\n\t\tself.instance.centerSlide(200);\n\t  }\n  \n\t  self.$container.removeClass(\"fancybox-is-sliding\");\n\t};\n  \n\t// Limit panning from edges\n\t// ========================\n\tGuestures.prototype.endPanning = function () {\n\t  var self = this,\n\t\tnewOffsetX,\n\t\tnewOffsetY,\n\t\tnewPos;\n  \n\t  if (!self.contentLastPos) {\n\t\treturn;\n\t  }\n  \n\t  if (self.opts.momentum === false || self.dMs > 350) {\n\t\tnewOffsetX = self.contentLastPos.left;\n\t\tnewOffsetY = self.contentLastPos.top;\n\t  } else {\n\t\t// Continue movement\n\t\tnewOffsetX = self.contentLastPos.left + self.velocityX * 500;\n\t\tnewOffsetY = self.contentLastPos.top + self.velocityY * 500;\n\t  }\n  \n\t  newPos = self.limitPosition(newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height);\n  \n\t  newPos.width = self.contentStartPos.width;\n\t  newPos.height = self.contentStartPos.height;\n  \n\t  $.fancybox.animate(self.$content, newPos, 366);\n\t};\n  \n\tGuestures.prototype.endZooming = function () {\n\t  var self = this;\n  \n\t  var current = self.instance.current;\n  \n\t  var newOffsetX, newOffsetY, newPos, reset;\n  \n\t  var newWidth = self.newWidth;\n\t  var newHeight = self.newHeight;\n  \n\t  if (!self.contentLastPos) {\n\t\treturn;\n\t  }\n  \n\t  newOffsetX = self.contentLastPos.left;\n\t  newOffsetY = self.contentLastPos.top;\n  \n\t  reset = {\n\t\ttop: newOffsetY,\n\t\tleft: newOffsetX,\n\t\twidth: newWidth,\n\t\theight: newHeight,\n\t\tscaleX: 1,\n\t\tscaleY: 1\n\t  };\n  \n\t  // Reset scalex/scaleY values; this helps for perfomance and does not break animation\n\t  $.fancybox.setTranslate(self.$content, reset);\n  \n\t  if (newWidth < self.canvasWidth && newHeight < self.canvasHeight) {\n\t\tself.instance.scaleToFit(150);\n\t  } else if (newWidth > current.width || newHeight > current.height) {\n\t\tself.instance.scaleToActual(self.centerPointStartX, self.centerPointStartY, 150);\n\t  } else {\n\t\tnewPos = self.limitPosition(newOffsetX, newOffsetY, newWidth, newHeight);\n  \n\t\t$.fancybox.animate(self.$content, newPos, 150);\n\t  }\n\t};\n  \n\tGuestures.prototype.onTap = function (e) {\n\t  var self = this;\n\t  var $target = $(e.target);\n  \n\t  var instance = self.instance;\n\t  var current = instance.current;\n  \n\t  var endPoints = (e && getPointerXY(e)) || self.startPoints;\n  \n\t  var tapX = endPoints[0] ? endPoints[0].x - $(window).scrollLeft() - self.stagePos.left : 0;\n\t  var tapY = endPoints[0] ? endPoints[0].y - $(window).scrollTop() - self.stagePos.top : 0;\n  \n\t  var where;\n  \n\t  var process = function (prefix) {\n\t\tvar action = current.opts[prefix];\n  \n\t\tif ($.isFunction(action)) {\n\t\t  action = action.apply(instance, [current, e]);\n\t\t}\n  \n\t\tif (!action) {\n\t\t  return;\n\t\t}\n  \n\t\tswitch (action) {\n\t\t  case \"close\":\n\t\t\tinstance.close(self.startEvent);\n  \n\t\t\tbreak;\n  \n\t\t  case \"toggleControls\":\n\t\t\tinstance.toggleControls();\n  \n\t\t\tbreak;\n  \n\t\t  case \"next\":\n\t\t\tinstance.next();\n  \n\t\t\tbreak;\n  \n\t\t  case \"nextOrClose\":\n\t\t\tif (instance.group.length > 1) {\n\t\t\t  instance.next();\n\t\t\t} else {\n\t\t\t  instance.close(self.startEvent);\n\t\t\t}\n  \n\t\t\tbreak;\n  \n\t\t  case \"zoom\":\n\t\t\tif (current.type == \"image\" && (current.isLoaded || current.$ghost)) {\n\t\t\t  if (instance.canPan()) {\n\t\t\t\tinstance.scaleToFit();\n\t\t\t  } else if (instance.isScaledDown()) {\n\t\t\t\tinstance.scaleToActual(tapX, tapY);\n\t\t\t  } else if (instance.group.length < 2) {\n\t\t\t\tinstance.close(self.startEvent);\n\t\t\t  }\n\t\t\t}\n  \n\t\t\tbreak;\n\t\t}\n\t  };\n  \n\t  // Ignore right click\n\t  if (e.originalEvent && e.originalEvent.button == 2) {\n\t\treturn;\n\t  }\n  \n\t  // Skip if clicked on the scrollbar\n\t  if (!$target.is(\"img\") && tapX > $target[0].clientWidth + $target.offset().left) {\n\t\treturn;\n\t  }\n  \n\t  // Check where is clicked\n\t  if ($target.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\")) {\n\t\twhere = \"Outside\";\n\t  } else if ($target.is(\".fancybox-slide\")) {\n\t\twhere = \"Slide\";\n\t  } else if (\n\t\tinstance.current.$content &&\n\t\tinstance.current.$content\n\t\t.find($target)\n\t\t.addBack()\n\t\t.filter($target).length\n\t  ) {\n\t\twhere = \"Content\";\n\t  } else {\n\t\treturn;\n\t  }\n  \n\t  // Check if this is a double tap\n\t  if (self.tapped) {\n\t\t// Stop previously created single tap\n\t\tclearTimeout(self.tapped);\n\t\tself.tapped = null;\n  \n\t\t// Skip if distance between taps is too big\n\t\tif (Math.abs(tapX - self.tapX) > 50 || Math.abs(tapY - self.tapY) > 50) {\n\t\t  return this;\n\t\t}\n  \n\t\t// OK, now we assume that this is a double-tap\n\t\tprocess(\"dblclick\" + where);\n\t  } else {\n\t\t// Single tap will be processed if user has not clicked second time within 300ms\n\t\t// or there is no need to wait for double-tap\n\t\tself.tapX = tapX;\n\t\tself.tapY = tapY;\n  \n\t\tif (current.opts[\"dblclick\" + where] && current.opts[\"dblclick\" + where] !== current.opts[\"click\" + where]) {\n\t\t  self.tapped = setTimeout(function () {\n\t\t\tself.tapped = null;\n  \n\t\t\tif (!instance.isAnimating) {\n\t\t\t  process(\"click\" + where);\n\t\t\t}\n\t\t  }, 500);\n\t\t} else {\n\t\t  process(\"click\" + where);\n\t\t}\n\t  }\n  \n\t  return this;\n\t};\n  \n\t$(document)\n\t  .on(\"onActivate.fb\", function (e, instance) {\n\t\tif (instance && !instance.Guestures) {\n\t\t  instance.Guestures = new Guestures(instance);\n\t\t}\n\t  })\n\t  .on(\"beforeClose.fb\", function (e, instance) {\n\t\tif (instance && instance.Guestures) {\n\t\t  instance.Guestures.destroy();\n\t\t}\n\t  });\n  })(window, document, jQuery);\n  // ==========================================================================\n  //\n  // SlideShow\n  // Enables slideshow functionality\n  //\n  // Example of usage:\n  // $.fancybox.getInstance().SlideShow.start()\n  //\n  // ==========================================================================\n  (function (document, $) {\n\t\"use strict\";\n  \n\t$.extend(true, $.fancybox.defaults, {\n\t  btnTpl: {\n\t\tslideShow: '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\n\t\t  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6.5 5.4v13.2l11-6.6z\"/></svg>' +\n\t\t  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z\"/></svg>' +\n\t\t  \"</button>\"\n\t  },\n\t  slideShow: {\n\t\tautoStart: false,\n\t\tspeed: 3000,\n\t\tprogress: true\n\t  }\n\t});\n  \n\tvar SlideShow = function (instance) {\n\t  this.instance = instance;\n\t  this.init();\n\t};\n  \n\t$.extend(SlideShow.prototype, {\n\t  timer: null,\n\t  isActive: false,\n\t  $button: null,\n  \n\t  init: function () {\n\t\tvar self = this,\n\t\t  instance = self.instance,\n\t\t  opts = instance.group[instance.currIndex].opts.slideShow;\n  \n\t\tself.$button = instance.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\", function () {\n\t\t  self.toggle();\n\t\t});\n  \n\t\tif (instance.group.length < 2 || !opts) {\n\t\t  self.$button.hide();\n\t\t} else if (opts.progress) {\n\t\t  self.$progress = $('<div class=\"fancybox-progress\"></div>').appendTo(instance.$refs.inner);\n\t\t}\n\t  },\n  \n\t  set: function (force) {\n\t\tvar self = this,\n\t\t  instance = self.instance,\n\t\t  current = instance.current;\n  \n\t\t// Check if reached last element\n\t\tif (current && (force === true || current.opts.loop || instance.currIndex < instance.group.length - 1)) {\n\t\t  if (self.isActive && current.contentType !== \"video\") {\n\t\t\tif (self.$progress) {\n\t\t\t  $.fancybox.animate(self.$progress.show(), {\n\t\t\t\tscaleX: 1\n\t\t\t  }, current.opts.slideShow.speed);\n\t\t\t}\n  \n\t\t\tself.timer = setTimeout(function () {\n\t\t\t  if (!instance.current.opts.loop && instance.current.index == instance.group.length - 1) {\n\t\t\t\tinstance.jumpTo(0);\n\t\t\t  } else {\n\t\t\t\tinstance.next();\n\t\t\t  }\n\t\t\t}, current.opts.slideShow.speed);\n\t\t  }\n\t\t} else {\n\t\t  self.stop();\n\t\t  instance.idleSecondsCounter = 0;\n\t\t  instance.showControls();\n\t\t}\n\t  },\n  \n\t  clear: function () {\n\t\tvar self = this;\n  \n\t\tclearTimeout(self.timer);\n  \n\t\tself.timer = null;\n  \n\t\tif (self.$progress) {\n\t\t  self.$progress.removeAttr(\"style\").hide();\n\t\t}\n\t  },\n  \n\t  start: function () {\n\t\tvar self = this,\n\t\t  current = self.instance.current;\n  \n\t\tif (current) {\n\t\t  self.$button\n\t\t\t.attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_STOP)\n\t\t\t.removeClass(\"fancybox-button--play\")\n\t\t\t.addClass(\"fancybox-button--pause\");\n  \n\t\t  self.isActive = true;\n  \n\t\t  if (current.isComplete) {\n\t\t\tself.set(true);\n\t\t  }\n  \n\t\t  self.instance.trigger(\"onSlideShowChange\", true);\n\t\t}\n\t  },\n  \n\t  stop: function () {\n\t\tvar self = this,\n\t\t  current = self.instance.current;\n  \n\t\tself.clear();\n  \n\t\tself.$button\n\t\t  .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_START)\n\t\t  .removeClass(\"fancybox-button--pause\")\n\t\t  .addClass(\"fancybox-button--play\");\n  \n\t\tself.isActive = false;\n  \n\t\tself.instance.trigger(\"onSlideShowChange\", false);\n  \n\t\tif (self.$progress) {\n\t\t  self.$progress.removeAttr(\"style\").hide();\n\t\t}\n\t  },\n  \n\t  toggle: function () {\n\t\tvar self = this;\n  \n\t\tif (self.isActive) {\n\t\t  self.stop();\n\t\t} else {\n\t\t  self.start();\n\t\t}\n\t  }\n\t});\n  \n\t$(document).on({\n\t  \"onInit.fb\": function (e, instance) {\n\t\tif (instance && !instance.SlideShow) {\n\t\t  instance.SlideShow = new SlideShow(instance);\n\t\t}\n\t  },\n  \n\t  \"beforeShow.fb\": function (e, instance, current, firstRun) {\n\t\tvar SlideShow = instance && instance.SlideShow;\n  \n\t\tif (firstRun) {\n\t\t  if (SlideShow && current.opts.slideShow.autoStart) {\n\t\t\tSlideShow.start();\n\t\t  }\n\t\t} else if (SlideShow && SlideShow.isActive) {\n\t\t  SlideShow.clear();\n\t\t}\n\t  },\n  \n\t  \"afterShow.fb\": function (e, instance, current) {\n\t\tvar SlideShow = instance && instance.SlideShow;\n  \n\t\tif (SlideShow && SlideShow.isActive) {\n\t\t  SlideShow.set();\n\t\t}\n\t  },\n  \n\t  \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n\t\tvar SlideShow = instance && instance.SlideShow;\n  \n\t\t// \"P\" or Spacebar\n\t\tif (SlideShow && current.opts.slideShow && (keycode === 80 || keycode === 32) && !$(document.activeElement).is(\"button,a,input\")) {\n\t\t  keypress.preventDefault();\n  \n\t\t  SlideShow.toggle();\n\t\t}\n\t  },\n  \n\t  \"beforeClose.fb onDeactivate.fb\": function (e, instance) {\n\t\tvar SlideShow = instance && instance.SlideShow;\n  \n\t\tif (SlideShow) {\n\t\t  SlideShow.stop();\n\t\t}\n\t  }\n\t});\n  \n\t// Page Visibility API to pause slideshow when window is not active\n\t$(document).on(\"visibilitychange\", function () {\n\t  var instance = $.fancybox.getInstance(),\n\t\tSlideShow = instance && instance.SlideShow;\n  \n\t  if (SlideShow && SlideShow.isActive) {\n\t\tif (document.hidden) {\n\t\t  SlideShow.clear();\n\t\t} else {\n\t\t  SlideShow.set();\n\t\t}\n\t  }\n\t});\n  })(document, jQuery);\n  // ==========================================================================\n  //\n  // FullScreen\n  // Adds fullscreen functionality\n  //\n  // ==========================================================================\n  (function (document, $) {\n\t\"use strict\";\n  \n\t// Collection of methods supported by user browser\n\tvar fn = (function () {\n\t  var fnMap = [\n\t\t[\"requestFullscreen\", \"exitFullscreen\", \"fullscreenElement\", \"fullscreenEnabled\", \"fullscreenchange\", \"fullscreenerror\"],\n\t\t// new WebKit\n\t\t[\n\t\t  \"webkitRequestFullscreen\",\n\t\t  \"webkitExitFullscreen\",\n\t\t  \"webkitFullscreenElement\",\n\t\t  \"webkitFullscreenEnabled\",\n\t\t  \"webkitfullscreenchange\",\n\t\t  \"webkitfullscreenerror\"\n\t\t],\n\t\t// old WebKit (Safari 5.1)\n\t\t[\n\t\t  \"webkitRequestFullScreen\",\n\t\t  \"webkitCancelFullScreen\",\n\t\t  \"webkitCurrentFullScreenElement\",\n\t\t  \"webkitCancelFullScreen\",\n\t\t  \"webkitfullscreenchange\",\n\t\t  \"webkitfullscreenerror\"\n\t\t],\n\t\t[\n\t\t  \"mozRequestFullScreen\",\n\t\t  \"mozCancelFullScreen\",\n\t\t  \"mozFullScreenElement\",\n\t\t  \"mozFullScreenEnabled\",\n\t\t  \"mozfullscreenchange\",\n\t\t  \"mozfullscreenerror\"\n\t\t],\n\t\t[\"msRequestFullscreen\", \"msExitFullscreen\", \"msFullscreenElement\", \"msFullscreenEnabled\", \"MSFullscreenChange\", \"MSFullscreenError\"]\n\t  ];\n  \n\t  var ret = {};\n  \n\t  for (var i = 0; i < fnMap.length; i++) {\n\t\tvar val = fnMap[i];\n  \n\t\tif (val && val[1] in document) {\n\t\t  for (var j = 0; j < val.length; j++) {\n\t\t\tret[fnMap[0][j]] = val[j];\n\t\t  }\n  \n\t\t  return ret;\n\t\t}\n\t  }\n  \n\t  return false;\n\t})();\n  \n\tif (fn) {\n\t  var FullScreen = {\n\t\trequest: function (elem) {\n\t\t  elem = elem || document.documentElement;\n  \n\t\t  elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT);\n\t\t},\n\t\texit: function () {\n\t\t  document[fn.exitFullscreen]();\n\t\t},\n\t\ttoggle: function (elem) {\n\t\t  elem = elem || document.documentElement;\n  \n\t\t  if (this.isFullscreen()) {\n\t\t\tthis.exit();\n\t\t  } else {\n\t\t\tthis.request(elem);\n\t\t  }\n\t\t},\n\t\tisFullscreen: function () {\n\t\t  return Boolean(document[fn.fullscreenElement]);\n\t\t},\n\t\tenabled: function () {\n\t\t  return Boolean(document[fn.fullscreenEnabled]);\n\t\t}\n\t  };\n  \n\t  $.extend(true, $.fancybox.defaults, {\n\t\tbtnTpl: {\n\t\t  fullScreen: '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fsenter\" title=\"{{FULL_SCREEN}}\">' +\n\t\t\t'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg>' +\n\t\t\t'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z\"/></svg>' +\n\t\t\t\"</button>\"\n\t\t},\n\t\tfullScreen: {\n\t\t  autoStart: false\n\t\t}\n\t  });\n  \n\t  $(document).on(fn.fullscreenchange, function () {\n\t\tvar isFullscreen = FullScreen.isFullscreen(),\n\t\t  instance = $.fancybox.getInstance();\n  \n\t\tif (instance) {\n\t\t  // If image is zooming, then force to stop and reposition properly\n\t\t  if (instance.current && instance.current.type === \"image\" && instance.isAnimating) {\n\t\t\tinstance.isAnimating = false;\n  \n\t\t\tinstance.update(true, true, 0);\n  \n\t\t\tif (!instance.isComplete) {\n\t\t\t  instance.complete();\n\t\t\t}\n\t\t  }\n  \n\t\t  instance.trigger(\"onFullscreenChange\", isFullscreen);\n  \n\t\t  instance.$refs.container.toggleClass(\"fancybox-is-fullscreen\", isFullscreen);\n  \n\t\t  instance.$refs.toolbar\n\t\t\t.find(\"[data-fancybox-fullscreen]\")\n\t\t\t.toggleClass(\"fancybox-button--fsenter\", !isFullscreen)\n\t\t\t.toggleClass(\"fancybox-button--fsexit\", isFullscreen);\n\t\t}\n\t  });\n\t}\n  \n\t$(document).on({\n\t  \"onInit.fb\": function (e, instance) {\n\t\tvar $container;\n  \n\t\tif (!fn) {\n\t\t  instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").remove();\n  \n\t\t  return;\n\t\t}\n  \n\t\tif (instance && instance.group[instance.currIndex].opts.fullScreen) {\n\t\t  $container = instance.$refs.container;\n  \n\t\t  $container.on(\"click.fb-fullscreen\", \"[data-fancybox-fullscreen]\", function (e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n  \n\t\t\tFullScreen.toggle();\n\t\t  });\n  \n\t\t  if (instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true) {\n\t\t\tFullScreen.request();\n\t\t  }\n  \n\t\t  // Expose API\n\t\t  instance.FullScreen = FullScreen;\n\t\t} else if (instance) {\n\t\t  instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide();\n\t\t}\n\t  },\n  \n\t  \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n\t\t// \"F\"\n\t\tif (instance && instance.FullScreen && keycode === 70) {\n\t\t  keypress.preventDefault();\n  \n\t\t  instance.FullScreen.toggle();\n\t\t}\n\t  },\n  \n\t  \"beforeClose.fb\": function (e, instance) {\n\t\tif (instance && instance.FullScreen && instance.$refs.container.hasClass(\"fancybox-is-fullscreen\")) {\n\t\t  FullScreen.exit();\n\t\t}\n\t  }\n\t});\n  })(document, jQuery);\n  // ==========================================================================\n  //\n  // Thumbs\n  // Displays thumbnails in a grid\n  //\n  // ==========================================================================\n  (function (document, $) {\n\t\"use strict\";\n  \n\tvar CLASS = \"fancybox-thumbs\",\n\t  CLASS_ACTIVE = CLASS + \"-active\";\n  \n\t// Make sure there are default values\n\t$.fancybox.defaults = $.extend(\n\t  true, {\n\t\tbtnTpl: {\n\t\t  thumbs: '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\n\t\t\t'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z\"/></svg>' +\n\t\t\t\"</button>\"\n\t\t},\n\t\tthumbs: {\n\t\t  autoStart: false, // Display thumbnails on opening\n\t\t  hideOnClose: true, // Hide thumbnail grid when closing animation starts\n\t\t  parentEl: \".fancybox-container\", // Container is injected into this element\n\t\t  axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n\t\t}\n\t  },\n\t  $.fancybox.defaults\n\t);\n  \n\tvar FancyThumbs = function (instance) {\n\t  this.init(instance);\n\t};\n  \n\t$.extend(FancyThumbs.prototype, {\n\t  $button: null,\n\t  $grid: null,\n\t  $list: null,\n\t  isVisible: false,\n\t  isActive: false,\n  \n\t  init: function (instance) {\n\t\tvar self = this,\n\t\t  group = instance.group,\n\t\t  enabled = 0;\n  \n\t\tself.instance = instance;\n\t\tself.opts = group[instance.currIndex].opts.thumbs;\n  \n\t\tinstance.Thumbs = self;\n  \n\t\tself.$button = instance.$refs.toolbar.find(\"[data-fancybox-thumbs]\");\n  \n\t\t// Enable thumbs if at least two group items have thumbnails\n\t\tfor (var i = 0, len = group.length; i < len; i++) {\n\t\t  if (group[i].thumb) {\n\t\t\tenabled++;\n\t\t  }\n  \n\t\t  if (enabled > 1) {\n\t\t\tbreak;\n\t\t  }\n\t\t}\n  \n\t\tif (enabled > 1 && !!self.opts) {\n\t\t  self.$button.removeAttr(\"style\").on(\"click\", function () {\n\t\t\tself.toggle();\n\t\t  });\n  \n\t\t  self.isActive = true;\n\t\t} else {\n\t\t  self.$button.hide();\n\t\t}\n\t  },\n  \n\t  create: function () {\n\t\tvar self = this,\n\t\t  instance = self.instance,\n\t\t  parentEl = self.opts.parentEl,\n\t\t  list = [],\n\t\t  src;\n  \n\t\tif (!self.$grid) {\n\t\t  // Create main element\n\t\t  self.$grid = $('<div class=\"' + CLASS + \" \" + CLASS + \"-\" + self.opts.axis + '\"></div>').appendTo(\n\t\t\tinstance.$refs.container\n\t\t\t.find(parentEl)\n\t\t\t.addBack()\n\t\t\t.filter(parentEl)\n\t\t  );\n  \n\t\t  // Add \"click\" event that performs gallery navigation\n\t\t  self.$grid.on(\"click\", \"a\", function () {\n\t\t\tinstance.jumpTo($(this).attr(\"data-index\"));\n\t\t  });\n\t\t}\n  \n\t\t// Build the list\n\t\tif (!self.$list) {\n\t\t  self.$list = $('<div class=\"' + CLASS + '__list\">').appendTo(self.$grid);\n\t\t}\n  \n\t\t$.each(instance.group, function (i, item) {\n\t\t  src = item.thumb;\n  \n\t\t  if (!src && item.type === \"image\") {\n\t\t\tsrc = item.src;\n\t\t  }\n  \n\t\t  list.push(\n\t\t\t'<a href=\"javascript:;\" tabindex=\"0\" data-index=\"' +\n\t\t\ti +\n\t\t\t'\"' +\n\t\t\t(src && src.length ? ' style=\"background-image:url(' + src + ')\"' : 'class=\"fancybox-thumbs-missing\"') +\n\t\t\t\"></a>\"\n\t\t  );\n\t\t});\n  \n\t\tself.$list[0].innerHTML = list.join(\"\");\n  \n\t\tif (self.opts.axis === \"x\") {\n\t\t  // Set fixed width for list element to enable horizontal scrolling\n\t\t  self.$list.width(\n\t\t\tparseInt(self.$grid.css(\"padding-right\"), 10) +\n\t\t\tinstance.group.length *\n\t\t\tself.$list\n\t\t\t.children()\n\t\t\t.eq(0)\n\t\t\t.outerWidth(true)\n\t\t  );\n\t\t}\n\t  },\n  \n\t  focus: function (duration) {\n\t\tvar self = this,\n\t\t  $list = self.$list,\n\t\t  $grid = self.$grid,\n\t\t  thumb,\n\t\t  thumbPos;\n  \n\t\tif (!self.instance.current) {\n\t\t  return;\n\t\t}\n  \n\t\tthumb = $list\n\t\t  .children()\n\t\t  .removeClass(CLASS_ACTIVE)\n\t\t  .filter('[data-index=\"' + self.instance.current.index + '\"]')\n\t\t  .addClass(CLASS_ACTIVE);\n  \n\t\tthumbPos = thumb.position();\n  \n\t\t// Check if need to scroll to make current thumb visible\n\t\tif (self.opts.axis === \"y\" && (thumbPos.top < 0 || thumbPos.top > $list.height() - thumb.outerHeight())) {\n\t\t  $list.stop().animate({\n\t\t\t  scrollTop: $list.scrollTop() + thumbPos.top\n\t\t\t},\n\t\t\tduration\n\t\t  );\n\t\t} else if (\n\t\t  self.opts.axis === \"x\" &&\n\t\t  (thumbPos.left < $grid.scrollLeft() || thumbPos.left > $grid.scrollLeft() + ($grid.width() - thumb.outerWidth()))\n\t\t) {\n\t\t  $list\n\t\t\t.parent()\n\t\t\t.stop()\n\t\t\t.animate({\n\t\t\t\tscrollLeft: thumbPos.left\n\t\t\t  },\n\t\t\t  duration\n\t\t\t);\n\t\t}\n\t  },\n  \n\t  update: function () {\n\t\tvar that = this;\n\t\tthat.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\", this.isVisible);\n  \n\t\tif (that.isVisible) {\n\t\t  if (!that.$grid) {\n\t\t\tthat.create();\n\t\t  }\n  \n\t\t  that.instance.trigger(\"onThumbsShow\");\n  \n\t\t  that.focus(0);\n\t\t} else if (that.$grid) {\n\t\t  that.instance.trigger(\"onThumbsHide\");\n\t\t}\n  \n\t\t// Update content position\n\t\tthat.instance.update();\n\t  },\n  \n\t  hide: function () {\n\t\tthis.isVisible = false;\n\t\tthis.update();\n\t  },\n  \n\t  show: function () {\n\t\tthis.isVisible = true;\n\t\tthis.update();\n\t  },\n  \n\t  toggle: function () {\n\t\tthis.isVisible = !this.isVisible;\n\t\tthis.update();\n\t  }\n\t});\n  \n\t$(document).on({\n\t  \"onInit.fb\": function (e, instance) {\n\t\tvar Thumbs;\n  \n\t\tif (instance && !instance.Thumbs) {\n\t\t  Thumbs = new FancyThumbs(instance);\n  \n\t\t  if (Thumbs.isActive && Thumbs.opts.autoStart === true) {\n\t\t\tThumbs.show();\n\t\t  }\n\t\t}\n\t  },\n  \n\t  \"beforeShow.fb\": function (e, instance, item, firstRun) {\n\t\tvar Thumbs = instance && instance.Thumbs;\n  \n\t\tif (Thumbs && Thumbs.isVisible) {\n\t\t  Thumbs.focus(firstRun ? 0 : 250);\n\t\t}\n\t  },\n  \n\t  \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n\t\tvar Thumbs = instance && instance.Thumbs;\n  \n\t\t// \"G\"\n\t\tif (Thumbs && Thumbs.isActive && keycode === 71) {\n\t\t  keypress.preventDefault();\n  \n\t\t  Thumbs.toggle();\n\t\t}\n\t  },\n  \n\t  \"beforeClose.fb\": function (e, instance) {\n\t\tvar Thumbs = instance && instance.Thumbs;\n  \n\t\tif (Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false) {\n\t\t  Thumbs.$grid.hide();\n\t\t}\n\t  }\n\t});\n  })(document, jQuery);\n  //// ==========================================================================\n  //\n  // Share\n  // Displays simple form for sharing current url\n  //\n  // ==========================================================================\n  (function (document, $) {\n\t\"use strict\";\n  \n\t$.extend(true, $.fancybox.defaults, {\n\t  btnTpl: {\n\t\tshare: '<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\">' +\n\t\t  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z\"/></svg>' +\n\t\t  \"</button>\"\n\t  },\n\t  share: {\n\t\turl: function (instance, item) {\n\t\t  return (\n\t\t\t(!instance.currentHash && !(item.type === \"inline\" || item.type === \"html\") ? item.origSrc || item.src : false) || window.location\n\t\t  );\n\t\t},\n\t\ttpl: '<div class=\"fancybox-share\">' +\n\t\t  \"<h1>{{SHARE}}</h1>\" +\n\t\t  \"<p>\" +\n\t\t  '<a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url}}\">' +\n\t\t  '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\" /></svg>' +\n\t\t  \"<span>Facebook</span>\" +\n\t\t  \"</a>\" +\n\t\t  '<a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url={{url}}&text={{descr}}\">' +\n\t\t  '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\" /></svg>' +\n\t\t  \"<span>Twitter</span>\" +\n\t\t  \"</a>\" +\n\t\t  '<a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}\">' +\n\t\t  '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg>' +\n\t\t  \"<span>Pinterest</span>\" +\n\t\t  \"</a>\" +\n\t\t  \"</p>\" +\n\t\t  '<p><input class=\"fancybox-share__input\" type=\"text\" value=\"{{url_raw}}\" onclick=\"select()\" /></p>' +\n\t\t  \"</div>\"\n\t  }\n\t});\n  \n\tfunction escapeHtml(string) {\n\t  var entityMap = {\n\t\t\"&\": \"&amp;\",\n\t\t\"<\": \"&lt;\",\n\t\t\">\": \"&gt;\",\n\t\t'\"': \"&quot;\",\n\t\t\"'\": \"&#39;\",\n\t\t\"/\": \"&#x2F;\",\n\t\t\"`\": \"&#x60;\",\n\t\t\"=\": \"&#x3D;\"\n\t  };\n  \n\t  return String(string).replace(/[&<>\"'`=\\/]/g, function (s) {\n\t\treturn entityMap[s];\n\t  });\n\t}\n  \n\t$(document).on(\"click\", \"[data-fancybox-share]\", function () {\n\t  var instance = $.fancybox.getInstance(),\n\t\tcurrent = instance.current || null,\n\t\turl,\n\t\ttpl;\n  \n\t  if (!current) {\n\t\treturn;\n\t  }\n  \n\t  if ($.type(current.opts.share.url) === \"function\") {\n\t\turl = current.opts.share.url.apply(current, [instance, current]);\n\t  }\n  \n\t  tpl = current.opts.share.tpl\n\t\t.replace(/\\{\\{media\\}\\}/g, current.type === \"image\" ? encodeURIComponent(current.src) : \"\")\n\t\t.replace(/\\{\\{url\\}\\}/g, encodeURIComponent(url))\n\t\t.replace(/\\{\\{url_raw\\}\\}/g, escapeHtml(url))\n\t\t.replace(/\\{\\{descr\\}\\}/g, instance.$caption ? encodeURIComponent(instance.$caption.text()) : \"\");\n  \n\t  $.fancybox.open({\n\t\tsrc: instance.translate(instance, tpl),\n\t\ttype: \"html\",\n\t\topts: {\n\t\t  touch: false,\n\t\t  animationEffect: false,\n\t\t  afterLoad: function (shareInstance, shareCurrent) {\n\t\t\t// Close self if parent instance is closing\n\t\t\tinstance.$refs.container.one(\"beforeClose.fb\", function () {\n\t\t\t  shareInstance.close(null, 0);\n\t\t\t});\n  \n\t\t\t// Opening links in a popup window\n\t\t\tshareCurrent.$content.find(\".fancybox-share__button\").click(function () {\n\t\t\t  window.open(this.href, \"Share\", \"width=550, height=450\");\n\t\t\t  return false;\n\t\t\t});\n\t\t  },\n\t\t  mobile: {\n\t\t\tautoFocus: false\n\t\t  }\n\t\t}\n\t  });\n\t});\n  })(document, jQuery);\n  // ==========================================================================\n  //\n  // Hash\n  // Enables linking to each modal\n  //\n  // ==========================================================================\n  (function (window, document, $) {\n\t\"use strict\";\n  \n\t// Simple $.escapeSelector polyfill (for jQuery prior v3)\n\tif (!$.escapeSelector) {\n\t  $.escapeSelector = function (sel) {\n\t\tvar rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n\t\tvar fcssescape = function (ch, asCodePoint) {\n\t\t  if (asCodePoint) {\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif (ch === \"\\0\") {\n\t\t\t  return \"\\uFFFD\";\n\t\t\t}\n  \n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice(0, -1) + \"\\\\\" + ch.charCodeAt(ch.length - 1).toString(16) + \" \";\n\t\t  }\n  \n\t\t  // Other potentially-special ASCII characters get backslash-escaped\n\t\t  return \"\\\\\" + ch;\n\t\t};\n  \n\t\treturn (sel + \"\").replace(rcssescape, fcssescape);\n\t  };\n\t}\n  \n\t// Get info about gallery name and current index from url\n\tfunction parseUrl() {\n\t  var hash = window.location.hash.substr(1),\n\t\trez = hash.split(\"-\"),\n\t\tindex = rez.length > 1 && /^\\+?\\d+$/.test(rez[rez.length - 1]) ? parseInt(rez.pop(-1), 10) || 1 : 1,\n\t\tgallery = rez.join(\"-\");\n  \n\t  return {\n\t\thash: hash,\n\t\t/* Index is starting from 1 */\n\t\tindex: index < 1 ? 1 : index,\n\t\tgallery: gallery\n\t  };\n\t}\n  \n\t// Trigger click evnt on links to open new fancyBox instance\n\tfunction triggerFromUrl(url) {\n\t  if (url.gallery !== \"\") {\n\t\t// If we can find element matching 'data-fancybox' atribute,\n\t\t// then triggering click event should start fancyBox\n\t\t$(\"[data-fancybox='\" + $.escapeSelector(url.gallery) + \"']\")\n\t\t  .eq(url.index - 1)\n\t\t  .focus()\n\t\t  .trigger(\"click.fb-start\");\n\t  }\n\t}\n  \n\t// Get gallery name from current instance\n\tfunction getGalleryID(instance) {\n\t  var opts, ret;\n  \n\t  if (!instance) {\n\t\treturn false;\n\t  }\n  \n\t  opts = instance.current ? instance.current.opts : instance.opts;\n\t  ret = opts.hash || (opts.$orig ? opts.$orig.data(\"fancybox\") || opts.$orig.data(\"fancybox-trigger\") : \"\");\n  \n\t  return ret === \"\" ? false : ret;\n\t}\n  \n\t// Start when DOM becomes ready\n\t$(function () {\n\t  // Check if user has disabled this module\n\t  if ($.fancybox.defaults.hash === false) {\n\t\treturn;\n\t  }\n  \n\t  // Update hash when opening/closing fancyBox\n\t  $(document).on({\n\t\t\"onInit.fb\": function (e, instance) {\n\t\t  var url, gallery;\n  \n\t\t  if (instance.group[instance.currIndex].opts.hash === false) {\n\t\t\treturn;\n\t\t  }\n  \n\t\t  url = parseUrl();\n\t\t  gallery = getGalleryID(instance);\n  \n\t\t  // Make sure gallery start index matches index from hash\n\t\t  if (gallery && url.gallery && gallery == url.gallery) {\n\t\t\tinstance.currIndex = url.index - 1;\n\t\t  }\n\t\t},\n  \n\t\t\"beforeShow.fb\": function (e, instance, current, firstRun) {\n\t\t  var gallery;\n  \n\t\t  if (!current || current.opts.hash === false) {\n\t\t\treturn;\n\t\t  }\n  \n\t\t  // Check if need to update window hash\n\t\t  gallery = getGalleryID(instance);\n  \n\t\t  if (!gallery) {\n\t\t\treturn;\n\t\t  }\n  \n\t\t  // Variable containing last hash value set by fancyBox\n\t\t  // It will be used to determine if fancyBox needs to close after hash change is detected\n\t\t  instance.currentHash = gallery + (instance.group.length > 1 ? \"-\" + (current.index + 1) : \"\");\n  \n\t\t  // If current hash is the same (this instance most likely is opened by hashchange), then do nothing\n\t\t  if (window.location.hash === \"#\" + instance.currentHash) {\n\t\t\treturn;\n\t\t  }\n  \n\t\t  if (firstRun && !instance.origHash) {\n\t\t\tinstance.origHash = window.location.hash;\n\t\t  }\n  \n\t\t  if (instance.hashTimer) {\n\t\t\tclearTimeout(instance.hashTimer);\n\t\t  }\n  \n\t\t  // Update hash\n\t\t  instance.hashTimer = setTimeout(function () {\n\t\t\tif (\"replaceState\" in window.history) {\n\t\t\t  window.history[firstRun ? \"pushState\" : \"replaceState\"]({},\n\t\t\t\tdocument.title,\n\t\t\t\twindow.location.pathname + window.location.search + \"#\" + instance.currentHash\n\t\t\t  );\n  \n\t\t\t  if (firstRun) {\n\t\t\t\tinstance.hasCreatedHistory = true;\n\t\t\t  }\n\t\t\t} else {\n\t\t\t  window.location.hash = instance.currentHash;\n\t\t\t}\n  \n\t\t\tinstance.hashTimer = null;\n\t\t  }, 300);\n\t\t},\n  \n\t\t\"beforeClose.fb\": function (e, instance, current) {\n\t\t  if (!current || current.opts.hash === false) {\n\t\t\treturn;\n\t\t  }\n  \n\t\t  clearTimeout(instance.hashTimer);\n  \n\t\t  // Goto previous history entry\n\t\t  if (instance.currentHash && instance.hasCreatedHistory) {\n\t\t\twindow.history.back();\n\t\t  } else if (instance.currentHash) {\n\t\t\tif (\"replaceState\" in window.history) {\n\t\t\t  window.history.replaceState({}, document.title, window.location.pathname + window.location.search + (instance.origHash || \"\"));\n\t\t\t} else {\n\t\t\t  window.location.hash = instance.origHash;\n\t\t\t}\n\t\t  }\n  \n\t\t  instance.currentHash = null;\n\t\t}\n\t  });\n  \n\t  // Check if need to start/close after url has changed\n\t  $(window).on(\"hashchange.fb\", function () {\n\t\tvar url = parseUrl(),\n\t\t  fb = null;\n  \n\t\t// Find last fancyBox instance that has \"hash\"\n\t\t$.each(\n\t\t  $(\".fancybox-container\")\n\t\t  .get()\n\t\t  .reverse(),\n\t\t  function (index, value) {\n\t\t\tvar tmp = $(value).data(\"FancyBox\");\n  \n\t\t\tif (tmp && tmp.currentHash) {\n\t\t\t  fb = tmp;\n\t\t\t  return false;\n\t\t\t}\n\t\t  }\n\t\t);\n  \n\t\tif (fb) {\n\t\t  // Now, compare hash values\n\t\t  if (fb.currentHash !== url.gallery + \"-\" + url.index && !(url.index === 1 && fb.currentHash == url.gallery)) {\n\t\t\tfb.currentHash = null;\n  \n\t\t\tfb.close();\n\t\t  }\n\t\t} else if (url.gallery !== \"\") {\n\t\t  triggerFromUrl(url);\n\t\t}\n\t  });\n  \n\t  // Check current hash and trigger click event on matching element to start fancyBox, if needed\n\t  setTimeout(function () {\n\t\tif (!$.fancybox.getInstance()) {\n\t\t  triggerFromUrl(parseUrl());\n\t\t}\n\t  }, 50);\n\t});\n  })(window, document, jQuery);\n  // ==========================================================================\n  //\n  // Wheel\n  // Basic mouse weheel support for gallery navigation\n  //\n  // ==========================================================================\n  (function (document, $) {\n\t\"use strict\";\n  \n\tvar prevTime = new Date().getTime();\n  \n\t$(document).on({\n\t  \"onInit.fb\": function (e, instance, current) {\n\t\tinstance.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\", function (e) {\n\t\t  var current = instance.current,\n\t\t\tcurrTime = new Date().getTime();\n  \n\t\t  if (instance.group.length < 2 || current.opts.wheel === false || (current.opts.wheel === \"auto\" && current.type !== \"image\")) {\n\t\t\treturn;\n\t\t  }\n  \n\t\t  e.preventDefault();\n\t\t  e.stopPropagation();\n  \n\t\t  if (current.$slide.hasClass(\"fancybox-animated\")) {\n\t\t\treturn;\n\t\t  }\n  \n\t\t  e = e.originalEvent || e;\n  \n\t\t  if (currTime - prevTime < 250) {\n\t\t\treturn;\n\t\t  }\n  \n\t\t  prevTime = currTime;\n  \n\t\t  instance[(-e.deltaY || -e.deltaX || e.wheelDelta || -e.detail) < 0 ? \"next\" : \"previous\"]();\n\t\t});\n\t  }\n\t});\n  })(document, jQuery);"],"names":["window","document","$","undefined","console","info","stuff","fn","fancybox","div","buttonStr","focusStr","$pressed","defaults","closeExisting","loop","gutter","keyboard","preventCaptionOverlap","arrows","infobar","smallBtn","toolbar","buttons","idleTime","protect","modal","image","preload","ajax","settings","data","iframe","tpl","css","attr","scrolling","video","format","autoStart","defaultType","animationEffect","animationDuration","zoomOpacity","transitionEffect","transitionDuration","slideClass","baseClass","baseTpl","spinnerTpl","errorTpl","btnTpl","download","zoom","close","arrowLeft","arrowRight","parentEl","hideScrollbar","autoFocus","backFocus","trapFocus","fullScreen","touch","vertical","momentum","hash","media","slideShow","speed","thumbs","hideOnClose","axis","wheel","onInit","noop","beforeLoad","afterLoad","beforeShow","afterShow","beforeClose","afterClose","onActivate","onDeactivate","clickContent","current","event","type","clickSlide","clickOutside","dblclickContent","dblclickSlide","dblclickOutside","mobile","lang","i18n","en","CLOSE","NEXT","PREV","ERROR","PLAY_START","PLAY_STOP","FULL_SCREEN","THUMBS","DOWNLOAD","SHARE","ZOOM","de","$W","$D","called","requestAFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","callback","setTimeout","cancelAFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","id","clearTimeout","transitionEnd","t","el","createElement","transitions","transition","OTransition","MozTransition","WebkitTransition","style","forceRedraw","$el","length","offsetHeight","mergeOpts","opts1","opts2","rez","extend","each","key","value","isArray","FancyBox","content","opts","index","self","this","isPlainObject","isMobile","currIndex","parseInt","prevIndex","prevPos","currPos","firstRun","group","slides","addContent","init","prototype","$container","firstItemOpts","addClass","getInstance","body","scrollHeight","innerHeight","append","innerWidth","documentElement","clientWidth","translate","replace","appendTo","$refs","container","forEach","item","find","trigger","activate","jumpTo","obj","str","arr","match","n","items","makeArray","i","$item","found","src","srcParts","options","$orig","contentType","charAt","inArray","$thumb","$trigger","thumb","caption","apply","split","shift","filter","push","Object","keys","updateControls","Thumbs","isActive","create","focus","addEvents","removeEvents","on","e","stopPropagation","preventDefault","previous","next","isScaledDown","originalEvent","requestId","update","stage","hide","show","keycode","keyCode","which","ctrlKey","altKey","shiftKey","target","is","idleSecondsCounter","isIdle","showControls","idleInterval","setInterval","isDragging","hideControls","off","clearInterval","duration","pos","isMoved","slidePos","stagePos","prop","diff","groupLen","isClosing","isAnimating","createSlide","forcedDuration","isNumeric","$slide","loadSlide","getTranslate","slide","stop","isComplete","removeClass","left","width","className","join","leftPos","setTranslate","top","animate","transform","opacity","complete","isLoaded","revealContent","updateSlide","scaleToActual","x","y","imgPos","posX","posY","scaleX","scaleY","$content","canvasWidth","canvasHeight","height","newImgWidth","newImgHeight","hasError","updateCursor","SlideShow","scaleToFit","end","getFitPos","maxWidth","maxHeight","minRatio","aspectRatio","parseFloat","Math","min","floor","ratio","adjustCaption","adjustLayout","add","navigation","toggleClass","get","clientHeight","centerSlide","siblings","parent","children","hasClass","abs","nextWidth","nextHeight","canPan","isZoomable","Guestures","isFunction","fitPos","ajaxLoad","isLoading","setImage","setIframe","setContent","videoFormat","setError","showLoading","url","success","textStatus","error","jqXHR","one","abort","ghost","$img","$image","checkSrcset","onerror","remove","$ghost","onload","setBigImage","temp","pxRatio","windowWidth","srcset","devicePixelRatio","map","ret","trim","substring","postfix","sort","a","b","j","img","sizes","resolveImageSlideSize","naturalWidth","naturalHeight","round","max","hideLoading","readyState","imgWidth","imgHeight","$iframe","Date","getTime","isReady","$body","frameWidth","frameHeight","contents","ignore","ceil","outerWidth","outerHeight","unbind","empty","isRevealed","hasOwnProperty","parents","$placeholder","insertAfter","html","after","$smallBtn","wrap","first","wrapInner","$spinner","fadeIn","button","$clone","preventOverlap","$caption","captionH","clone","eq","marginBottom","inlinePadding","actualPadding","disableLayoutFix","effect","effectClassName","start","getThumbPos","thumbPos","btw","brw","bbw","blw","elem","elemCenter","ownerDocument","getBoundingClientRect","offsetWidth","elementFromPoint","inViewport","Document","exitFullscreen","webkitExitFullscreen","scrollTop","scrollLeft","prev","focusableItems","focusedItemIndex","focusableStr","activeElement","instance","isVisible","d","domRect","done","cleanUp","$focus","scrollX","scrollY","name","args","Array","slice","call","arguments","unshift","hasHiddenControls","andCaption","toggleControls","version","command","open","all","destroy","test","navigator","userAgent","use3d","getComputedStyle","getPropertyValue","documentMode","props","position","to","leaveAnimationName","from","propertyName","callCallback","selector","_run","$target","isDefaultPrevented","currentTarget","jQuery","youtube","matcher","params","autoplay","autohide","fs","rel","hd","wmode","enablejsapi","html5","paramPlace","vimeo","show_title","show_byline","show_portrait","fullscreen","instagram","gmap_place","indexOf","gmap_search","param","urlParams","paramObj","provider","providerName","providerOpts","m","p","decodeURIComponent","p1","s","origSrc","contentSource","VideoAPILoader","class","loading","loaded","load","vendor","script","_this","onYouTubeIframeAPIReady","appendChild","YT","Player","events","onStateChange","Vimeo","getPointerXY","result","touches","changedTouches","pageX","pageY","clientX","clientY","distance","point2","point1","what","sqrt","pow","isClickable","onclick","atts","attributes","nodeName","substr","isScrollable","overflowY","overflowX","horizontal","scrollWidth","$bg","bg","$stage","proxy","tapped","ontouchstart","isTouchDevice","offset","realPoints","startPoints","startEvent","canTap","isPanning","isSwiping","isZooming","isScrolling","startTime","distanceX","distanceY","contentLastPos","contentStartPos","sliderStartPos","addEventListener","onscroll","centerPointStartX","centerPointStartY","percentageOfImageAtPinchPointX","percentageOfImageAtPinchPointY","startDistanceBetweenFingers","removeEventListener","ontouchmove","newPoints","onSwipe","onPan","onZoom","ontouchend","angle","swiping","sliderLastPos","atan2","PI","limitMovement","minTranslateX","minTranslateY","maxTranslateX","maxTranslateY","newOffsetX","newOffsetY","currentOffsetX","currentOffsetY","currentWidth","currentHeight","limitPosition","newWidth","newHeight","pinchRatio","translateFromZoomingX","translateFromZoomingY","centerPointEndX","centerPointEndY","translateFromTranslatingX","newPos","panning","zooming","endPoints","dMs","onTap","velocityX","velocityY","endPanning","endZooming","endSwiping","len","canAdvance","reset","where","tapX","tapY","process","prefix","action","addBack","progress","timer","$button","toggle","$progress","inner","set","force","clear","removeAttr","keypress","hidden","fnMap","val","FullScreen","request","requestFullscreen","ALLOW_KEYBOARD_INPUT","exit","isFullscreen","Boolean","fullscreenElement","enabled","fullscreenEnabled","fullscreenchange","CLASS","CLASS_ACTIVE","FancyThumbs","$grid","$list","list","innerHTML","that","share","currentHash","location","string","entityMap","encodeURIComponent","String","text","shareInstance","shareCurrent","click","href","parseUrl","pop","gallery","triggerFromUrl","escapeSelector","getGalleryID","sel","ch","asCodePoint","charCodeAt","toString","origHash","hashTimer","history","title","pathname","search","hasCreatedHistory","back","replaceState","fb","reverse","tmp","prevTime","currTime","deltaY","deltaX","wheelDelta","detail"],"sourceRoot":""}